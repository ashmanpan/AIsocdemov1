<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cisco-Agentic-AI-Datacenter-Demo-V2.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        body {
            background-color: #0a0a0a;
            color: #ffffff;
            min-height: 100vh;
        }
        
        .navbar {
            background-color: #111111;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #333;
            position: relative;
        }
        
        .home-button {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 20px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            color: #000;
            text-decoration: none;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .home-button:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo img {
            height: 35px;
            width: 70px;
        }
        
        .logo-text {
            font-size: 20px;
            font-weight: 600;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .main-container {
            display: flex;
            height: calc(100vh - 65px);
        }
        
        .sidebar {
            width: 320px;
            background-color: #111111;
            border-right: 1px solid #333;
            overflow-y: auto;
        }
        
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }
        
        .sidebar::-webkit-scrollbar-thumb {
            background-color: #444;
            border-radius: 3px;
        }
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #333;
        }
        
        .sidebar-title {
            font-size: 18px;
            font-weight: 500;
            color: #fff;
            margin-bottom: 10px;
        }
        
        .sidebar-subtitle {
            font-size: 12px;
            color: #888;
        }
        
        .scenario-list {
            list-style: none;
            padding: 10px;
        }
        
        .scenario-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            background-color: #1a1a1a;
            border: 1px solid #333;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .scenario-item:hover {
            background-color: #252525;
            border-color: #00ff88;
            transform: translateX(5px);
        }
        
        .scenario-item.active {
            background-color: #002b36;
            border-color: #00ff88;
        }
        
        .scenario-icon {
            font-size: 20px;
        }
        
        .scenario-text {
            flex: 1;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background-color: #0a0a0a;
            overflow: hidden;
        }
        
        .welcome-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 40px;
            text-align: center;
        }
        
        .ai-logo {
            width: 150px;
            height: 150px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .ai-logo svg {
            width: 100%;
            height: 100%;
        }
        
        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border: 2px solid #00ff88;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 0;
            }
        }
        
        .welcome-heading {
            font-size: 36px;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome-subtext {
            color: #888;
            font-size: 18px;
            max-width: 600px;
            line-height: 1.6;
        }
        
        .chat-container {
            display: none;
            flex-direction: column;
            height: 100%;
            padding: 20px;
        }
        
        .chat-header {
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
            margin-bottom: 20px;
        }
        
        .chat-title {
            font-size: 24px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-description {
            color: #888;
            font-size: 14px;
        }
        
        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 10px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-messages::-webkit-scrollbar-thumb {
            background-color: #444;
            border-radius: 3px;
        }
        
        .message {
            padding: 15px;
            border-radius: 12px;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .user-message {
            background-color: #002b36;
            border: 1px solid #00ff88;
            color: #fff;
            align-self: flex-end;
        }
        
        .assistant-message {
            background-color: #111111;
            border: 1px solid #333;
            color: #fff;
            align-self: flex-start;
        }
        
        .input-container {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            padding-top: 20px;
            border-top: 1px solid #333;
        }
        
        .input-field {
            flex: 1;
            padding: 12px 20px;
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 25px;
            color: #fff;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #00ff88;
        }
        
        .send-button {
            padding: 12px 24px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            border: none;
            border-radius: 25px;
            color: #000;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .send-button:hover {
            transform: scale(1.05);
        }
        
        .typing-indicator {
            display: inline-block;
            padding: 15px 20px;
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 12px;
            align-self: flex-start;
        }
        
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #00ff88;
            border-radius: 50%;
            margin-right: 5px;
            animation: typing 1.5s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.3s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.6s;
            margin-right: 0;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }
        
        /* Agent response styles */
        .agent-workflow {
            background-color: #0a1014;
            border: 1px solid #00ff88;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .workflow-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }
        
        .workflow-icon {
            font-size: 24px;
        }
        
        .workflow-title {
            font-size: 20px;
            color: #00ff88;
            font-weight: 600;
        }
        
        .agent-step {
            margin-bottom: 15px;
            padding: 15px;
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .agent-step:hover {
            border-color: #00ff88;
            transform: translateX(5px);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .agent-name {
            font-weight: 600;
            color: #00aaff;
        }
        
        .agent-status {
            margin-left: auto;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-active {
            background-color: #00ff88;
            color: #000;
        }
        
        .status-completed {
            background-color: #0088ff;
            color: #fff;
        }
        
        .status-warning {
            background-color: #ffaa00;
            color: #000;
        }
        
        .agent-content {
            font-size: 14px;
            line-height: 1.6;
            color: #ddd;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .metric-card {
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            transition: border-color 0.3s ease;
        }
        
        .metric-card:hover {
            border-color: #00ff88;
        }
        
        .metric-title {
            font-size: 14px;
            color: #00ff88;
            margin-bottom: 8px;
        }
        
        .metric-value {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
        }
        
        .metric-details {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }
        
        .severity-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        
        .severity-critical {
            background-color: #ff0044;
            color: #fff;
        }
        
        .severity-high {
            background-color: #ff6600;
            color: #fff;
        }
        
        .severity-medium {
            background-color: #ffaa00;
            color: #000;
        }
        
        .severity-low {
            background-color: #00ff88;
            color: #000;
        }
        
        .alert-box {
            background-color: #1a0a0a;
            border: 1px solid #ff0044;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .alert-icon {
            font-size: 24px;
            color: #ff0044;
        }
        
        .alert-content {
            flex: 1;
        }
        
        .alert-title {
            font-size: 16px;
            color: #ff0044;
            margin-bottom: 5px;
        }
        
        .alert-description {
            font-size: 14px;
            color: #ccc;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .action-button {
            padding: 10px 20px;
            border-radius: 6px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-primary {
            background: linear-gradient(45deg, #00ff88, #00aaff);
            color: #000;
        }
        
        .action-secondary {
            background-color: transparent;
            border: 1px solid #00ff88;
            color: #00ff88;
        }
        
        .action-danger {
            background-color: #ff0044;
            color: #fff;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }
        
        .timeline-container {
            position: relative;
            padding-left: 30px;
            margin-top: 15px;
        }
        
        .timeline-line {
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #333;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }
        
        .timeline-dot {
            position: absolute;
            left: -25px;
            top: 5px;
            width: 12px;
            height: 12px;
            background-color: #00ff88;
            border-radius: 50%;
            border: 2px solid #0a0a0a;
        }
        
        .timeline-content {
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 12px;
        }
        
        .timeline-time {
            font-size: 12px;
            color: #888;
            margin-bottom: 5px;
        }
        
        .timeline-description {
            font-size: 14px;
            color: #fff;
        }
        
        code {
            background-color: #1a1a1a;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            color: #00ff88;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #1a1a1a;
            border-radius: 3px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00aaff);
            transition: width 0.3s ease;
        }

        /* Ticket tracking styles */
        .ticket-info {
            background-color: #1a0a1a;
            border: 1px solid #ff6600;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .ticket-id {
            font-size: 18px;
            font-weight: 600;
            color: #ff6600;
        }
        
        .ticket-priority {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        /* Capacity utilization styles */
        .capacity-container {
            background-color: #0a1014;
            border: 1px solid #00aaff;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .capacity-header {
            font-size: 18px;
            font-weight: 600;
            color: #00aaff;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .capacity-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .capacity-item {
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 6px;
            padding: 15px;
        }
        
        .capacity-label {
            font-size: 14px;
            color: #888;
            margin-bottom: 8px;
        }
        
        .capacity-bar {
            width: 100%;
            height: 20px;
            background-color: #1a1a1a;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .capacity-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .capacity-normal {
            background: linear-gradient(90deg, #00ff88, #00aaff);
        }
        
        .capacity-warning {
            background: linear-gradient(90deg, #ffaa00, #ff6600);
        }
        
        .capacity-critical {
            background: linear-gradient(90deg, #ff0044, #ff6600);
        }
        
        .capacity-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 12px;
            font-weight: 600;
            color: #fff;
        }

        /* Service health dashboard */
        .service-health-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .service-health-card {
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .service-health-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.2);
        }
        
        .service-icon-large {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .service-name {
            font-size: 14px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 5px;
        }
        
        .service-status {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 12px;
            display: inline-block;
        }
        
        .status-healthy {
            background-color: #00ff88;
            color: #000;
        }
        
        .status-degraded {
            background-color: #ffaa00;
            color: #000;
        }
        
        .status-down {
            background-color: #ff0044;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <img src="ciscologo.jpg" alt="Cisco Logo">
            <span class="logo-text">Cisco-Agentic-AI-Datacenter-Demo-V1.0</span>
        </div>
        <a href="https://allinone.ciscoaidemo.com" class="home-button">üè† Back to Home</a>
        <div class="actions">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#00ff88" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 17L12 22L22 17" stroke="#00ff88" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 12L12 17L22 12" stroke="#00ff88" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
    </div>
    
    <div class="main-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">Datacenter AI Operations</h2>
                <p class="sidebar-subtitle">Infrastructure ‚Ä¢ Capacity ‚Ä¢ Services ‚Ä¢ Automation</p>
            </div>
            <ul class="scenario-list">
                <li class="scenario-item" data-scenario="incident-management">
                    <span class="scenario-icon">üö®</span>
                    <span class="scenario-text">AI-Driven Incident Management</span>
                </li>
                <li class="scenario-item" data-scenario="capacity-management">
                    <span class="scenario-icon">üìä</span>
                    <span class="scenario-text">Predictive Capacity Management</span>
                </li>
                <li class="scenario-item" data-scenario="resiliency-check">
                    <span class="scenario-icon">üõ°Ô∏è</span>
                    <span class="scenario-text">Datacenter Resiliency Check</span>
                </li>
                <li class="scenario-item" data-scenario="infra-verification">
                    <span class="scenario-icon">‚úÖ</span>
                    <span class="scenario-text">Infrastructure Verification</span>
                </li>
                <li class="scenario-item" data-scenario="service-verification">
                    <span class="scenario-icon">üîç</span>
                    <span class="scenario-text">Service Verification Testing</span>
                </li>
                <li class="scenario-item" data-scenario="service-creation">
                    <span class="scenario-icon">ü§ñ</span>
                    <span class="scenario-text">AI Service Creation Agent</span>
                </li>
                <li class="scenario-item" data-scenario="vm-management">
                    <span class="scenario-icon">üíª</span>
                    <span class="scenario-text">VM Lifecycle Management</span>
                </li>
                <li class="scenario-item" data-scenario="container-orchestration">
                    <span class="scenario-icon">üê≥</span>
                    <span class="scenario-text">Container Orchestration</span>
                </li>
                <li class="scenario-item" data-scenario="database-optimization">
                    <span class="scenario-icon">üóÑÔ∏è</span>
                    <span class="scenario-text">Database Performance Optimization</span>
                </li>
                <li class="scenario-item" data-scenario="network-automation">
                    <span class="scenario-icon">üåê</span>
                    <span class="scenario-text">Network Automation & SDN</span>
                </li>
            </ul>
        </div>
        
        <div class="content">
            <div class="welcome-screen" id="welcomeScreen">
                <div class="ai-logo">
                    <div class="pulse-ring"></div>
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="45" fill="none" stroke="#00ff88" stroke-width="2"/>
                        <path d="M30 50 L45 35 L45 45 L70 45 L70 55 L45 55 L45 65 Z" fill="#00ff88"/>
                        <circle cx="50" cy="50" r="35" fill="none" stroke="#00aaff" stroke-width="1" opacity="0.5"/>
                        <circle cx="50" cy="50" r="25" fill="none" stroke="#00aaff" stroke-width="1" opacity="0.3"/>
                    </svg>
                </div>
                <h1 class="welcome-heading">Datacenter AI Operations Center</h1>
                <p class="welcome-subtext">
                    Experience the power of Agentic AI in datacenter management. Our intelligent agents work collaboratively to manage incidents, optimize capacity, ensure resiliency, and automate service provisioning across your entire infrastructure.
                </p>
            </div>
            
            <div class="chat-container" id="chatContainer">
                <div class="chat-header">
                    <h2 class="chat-title">
                        <span id="scenarioIcon">üí¨</span>
                        <span id="scenarioTitle">Chat</span>
                    </h2>
                    <p class="chat-description" id="scenarioDescription">Select a scenario to begin</p>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be added here dynamically -->
                </div>
                
                <div class="input-container">
                    <input type="text" class="input-field" id="userInput" placeholder="Ask about the scenario or type a command...">
                    <button class="send-button" onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Scenario data and responses
        const scenarios = {
    'incident-management': {
        title: 'AI-Driven Incident Management',
        icon: 'üö®',
        description: 'Rapid detection, triage, root cause analysis, and remediation of datacenter incidents spanning ACI fabric, UCS compute, Nexus switching, and Kubernetes/container workloads',
        initialQuery: 'Critical alert: VM connectivity loss affecting 50+ VMs in EPG "Prod-Web"',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üö®</span>
                    <h3 class="workflow-title">Use Case 1: Datacenter Incident Management</h3>
                </div>

                <div class="ticket-info">
                    <div>
                        <div class="ticket-id">INCIDENT #INC-2024-05678</div>
                        <div style="font-size: 12px; color: #888; margin-top: 5px;">Generated: ${new Date().toISOString()}</div>
                    </div>
                    <div class="ticket-priority severity-critical">P1 - CRITICAL</div>
                </div>

                <div style="background: #1a0a1a; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ff4444;">
                    <h4 style="color: #ff4444; margin-bottom: 10px;">Real-World Scenario</h4>
                    <div style="color: #ccc;">
                        <strong>Incident:</strong> VM connectivity loss affecting 50+ VMs in EPG "Prod-Web" on ACI fabric<br><br>
                        <strong>Initial Symptoms:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ APIC raises fault: <code>F1234 - EPG Prod-Web endpoint learning failures</code><br>
                            ‚Ä¢ Nexus leaf switches show CRC errors on uplinks<br>
                            ‚Ä¢ UCS fabric interconnects report link flaps on vNIC adapters<br>
                            ‚Ä¢ Kubernetes pods in namespace "prod-web" stuck in CrashLoopBackOff<br>
                            ‚Ä¢ ThousandEyes alerts: HTTP 503 errors from production web application
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+0 sec - Multi-Source Alerts Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Alert Sources:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ <strong>APIC webhook:</strong> <code>POST /api/webhook</code> ‚Üí Fault F1234<br>
                            ‚Ä¢ <strong>NDI anomaly:</strong> Endpoint movement storm in EPG "Prod-Web"<br>
                            ‚Ä¢ <strong>Intersight alert:</strong> UCS Blade 5 vNIC link flap<br>
                            ‚Ä¢ <strong>Kubernetes event stream:</strong> 50 pods in CrashLoopBackOff<br>
                            ‚Ä¢ <strong>Hubble alert:</strong> 500 DNS resolution failures in last 60 seconds
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Alert normalized and enriched, triggering Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üó∫Ô∏è Topology Graph Agent</span>
                        <span class="agent-status status-completed">T+5 sec - Dependency Mapping</span>
                    </div>
                    <div class="agent-content">
                        <strong>Topology Enrichment:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ EPG "Prod-Web" ‚Üí VLAN 100 ‚Üí Nexus Leaf 101 Eth1/1<br>
                            ‚Ä¢ Nexus Leaf 101 Eth1/1 ‚Üí UCS FI-A Eth1/1/1 ‚Üí UCS Blade 5 vNIC 0<br>
                            ‚Ä¢ K8s Pods in namespace "prod-web" ‚Üí K8s Node worker-05 ‚Üí VM on UCS Blade 5
                        </div>
                        <br>
                        <strong>Knowledge Graph Match:</strong><br>
                        <div style="margin-left: 20px;">
                            Similar incident: <code>INC-2024-00123</code> (bad optics causing CRC errors)
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-active">T+10 sec - Orchestrating Specialized Agents</span>
                    </div>
                    <div class="agent-content">
                        <strong>Agent Deployment Strategy:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì Spawning ACI_FABRIC_AGENT<br>
                            ‚úì Spawning NEXUS_SWITCH_AGENT<br>
                            ‚úì Spawning UCS_COMPUTE_AGENT<br>
                            ‚úì Spawning KUBERNETES_AGENT<br>
                            ‚úì Spawning EBPF_CILIUM_AGENT<br>
                            ‚úì Spawning STORAGE_AGENT
                        </div>
                        <br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px;">
                            <em>All agents running in parallel with read-only access...</em>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üåê ACI Fabric Agent</span>
                        <span class="agent-status status-completed">T+15 sec - APIC Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ EPG "Prod-Web" health score: <span style="color: #ff4444;">35/100 (CRITICAL)</span><br>
                            ‚Ä¢ Fault F1234: "Endpoint learning failure on Leaf 101 port Eth1/1"<br>
                            ‚Ä¢ 50 endpoints missing from EPG<br>
                            ‚Ä¢ Contract "Web-to-DB" policy allows traffic (no policy issue)<br>
                            ‚Ä¢ VXLAN VTEP 10.1.1.101 reachable from all spines<br>
                            ‚Ä¢ Leaf 101 TCAM utilization: 45% (normal)<br>
                            <br>
                            <span style="color: #ffaa00;">‚ö† ROOT CAUSE INDICATOR:</span> Issue downstream of Leaf 101 Eth1/1
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># ACI Fabric Agent - APIC REST API Query
import requests

class ACIFabricAgent:
    def get_epg_health(self, tenant, app_profile, epg):
        health_url = (
            f"{self.apic_url}/api/node/mo/uni/tn-{tenant}/"
            f"ap-{app_profile}/epg-{epg}/health.json"
        )
        health_response = self.session.get(health_url)
        health_data = health_response.json()

        health_score = int(
            health_data['imdata'][0]['healthInst']['attributes']['cur']
        )

        return {'health_score': health_score}

    def get_endpoint_learning_failures(self, tenant, app_profile, epg):
        fault_query_url = (
            f"{self.apic_url}/api/node/class/faultInst.json?"
            f"query-target-filter=and("
            f"wcard(faultInst.dn,\"tn-{tenant}/ap-{app_profile}/epg-{epg}\"),"
            f"eq(faultInst.code,\"F1234\")"
            f")"
        )
        response = self.session.get(fault_query_url)
        return response.json()['imdata']</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîÄ Nexus Switch Agent</span>
                        <span class="agent-status status-completed">T+20 sec - Interface Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ Leaf 101 Eth1/1 CRC errors: <span style="color: #ff4444;">15,234 (INCREASING)</span><br>
                            ‚Ä¢ Interface flapping: <span style="color: #ff4444;">23 flaps in last 10 minutes</span><br>
                            ‚Ä¢ VPC peer-link healthy, peer-keepalive OK<br>
                            ‚Ä¢ No STP topology changes<br>
                            ‚Ä¢ VXLAN control-plane stable<br>
                            <br>
                            <span style="color: #ffaa00;">‚ö† ROOT CAUSE INDICATOR:</span> Physical layer issue on Eth1/1 or upstream device
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #ff8800;">
                    <div class="agent-header">
                        <span class="agent-name">üíª UCS Compute Agent</span>
                        <span class="agent-status status-completed">T+25 sec - Hardware Diagnostics Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ UCS Blade 5 vNIC 0 link flaps: <span style="color: #ff4444;">23 flaps (MATCHES NEXUS FLAPS)</span><br>
                            ‚Ä¢ Adapter fault: <span style="color: #ff4444;">"SFP validation failed"</span><br>
                            ‚Ä¢ Optics diagnostics: RX power <span style="color: #ff4444;">-20dBm</span> (threshold: -14dBm) - <strong>BAD OPTICS</strong><br>
                            ‚Ä¢ Firmware version: Adapter 4.2(3d), FI 4.2(3d) - consistent<br>
                            ‚Ä¢ Service profile "Prod-Web-Blade-05" configuration OK<br>
                            <br>
                            <span style="color: #00ff88;">‚úì ROOT CAUSE CONFIRMED:</span> Bad SFP module on UCS Blade 5 vNIC 0
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># UCS Compute Agent - Intersight API Query
import requests

class UCSComputeAgent:
    def get_vnics_status(self, blade_moid):
        vnic_url = f"{self.base_url}/api/v1/adapter/Units"
        params = {
            "$filter": f"ComputeBlade.Moid eq '{blade_moid}'",
            "$expand": "AdapterLinks"
        }

        response = self.session.get(vnic_url, params=params)
        vnics = response.json().get('Results', [])

        vnic_status = []
        for vnic in vnics:
            for link in vnic.get('AdapterLinks', []):
                vnic_status.append({
                    'adapter_id': vnic.get('AdapterId'),
                    'link_state': link.get('LinkState'),
                    'rx_power_dbm': link.get('RxPower'),  # Key metric!
                    'tx_fault': link.get('TxFault')
                })

        return vnic_status

    def investigate_blade_issue(self, blade_serial, blade_moid):
        vnics = self.get_vnics_status(blade_moid)
        bad_vnics = []

        for vnic in vnics:
            # Check RX power (threshold: -14dBm for 10G SFP+)
            if vnic['rx_power_dbm'] and vnic['rx_power_dbm'] < -14:
                bad_vnics.append({
                    'adapter_id': vnic['adapter_id'],
                    'issue': 'LOW_RX_POWER',
                    'rx_power': vnic['rx_power_dbm'],
                    'threshold': -14
                })

        return bad_vnics</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">‚ò∏Ô∏è Kubernetes Agent</span>
                        <span class="agent-status status-completed">T+30 sec - Pod/Node Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ 50 pods in namespace "prod-web" CrashLoopBackOff<br>
                            ‚Ä¢ All pods scheduled on node <code>worker-05</code> (maps to UCS Blade 5)<br>
                            ‚Ä¢ Pod logs: "Unable to connect to database" (connectivity issue)<br>
                            ‚Ä¢ Node "worker-05" condition: Ready=True (node itself healthy)<br>
                            ‚Ä¢ PVC bindings OK, service endpoints missing (pods not ready)<br>
                            <br>
                            <span style="color: #ffaa00;">‚ö† ROOT CAUSE INDICATOR:</span> Network connectivity issue on worker-05
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üêù eBPF/Cilium Agent</span>
                        <span class="agent-status status-completed">T+35 sec - Network Policy Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ Hubble flows from pods on worker-05: <span style="color: #ff4444;">500 DROPPED</span> (verdict: FORWARDING_DISABLED)<br>
                            ‚Ä¢ Cilium agent logs on worker-05: "Endpoint regeneration failed due to datapath unavailable"<br>
                            ‚Ä¢ eBPF datapath: kernel drops due to interface flaps<br>
                            ‚Ä¢ DNS resolution failures: pods unable to reach CoreDNS due to network instability<br>
                            ‚Ä¢ No network policy denies (policy configuration OK)<br>
                            <br>
                            <span style="color: #ffaa00;">‚ö† ROOT CAUSE INDICATOR:</span> Kernel dropping packets due to unstable network interface
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 3px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-completed">T+60 sec - Conflict-Aware Reasoning Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>INCIDENT NARRATIVE:</strong><br>
                        <div style="background: #0d1a0d; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #00ff88;">
                            <div style="font-size: 16px; color: #00ff88; margin-bottom: 10px;">
                                <strong>Title:</strong> VM Connectivity Loss - Bad Optics on UCS Blade 5
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #00ff88;">Root Cause (Confirmed):</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px;">
                                    Failed SFP module on UCS Blade 5 vNIC 0 adapter<br>
                                    RX power -20dBm (6dB below threshold) causing link instability
                                </div>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #ffaa00;">Causal Chain:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px; line-height: 1.8;">
                                    1. Bad SFP on UCS Blade 5 vNIC 0<br>
                                    2. Link flaps between UCS FI and Nexus Leaf 101 Eth1/1<br>
                                    3. CRC errors accumulate on Nexus interface<br>
                                    4. VXLAN endpoint learning failures in ACI fabric<br>
                                    5. Hypervisor VM (K8s worker-05) network instability<br>
                                    6. Cilium eBPF datapath disabled due to interface flaps<br>
                                    7. Kubernetes pods lose network connectivity<br>
                                    8. Application unavailable (HTTP 503)
                                </div>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #ff4444;">Impact:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px;">
                                    ‚Ä¢ 50 VMs in EPG "Prod-Web" unreachable<br>
                                    ‚Ä¢ 50 Kubernetes pods in CrashLoopBackOff<br>
                                    ‚Ä¢ Application downtime: 8 minutes (so far)<br>
                                    ‚Ä¢ Estimated customer impact: 5,000 users
                                </div>
                            </div>

                            <div style="color: #00ff88;">
                                <strong>Confidence:</strong> 98% (multiple corroborating signals)
                            </div>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üìã Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-completed">T+70 sec - Mitigation Plan Drafted</span>
                    </div>
                    <div class="agent-content">
                        <strong>MITIGATION PLAN:</strong><br>
                        <div style="background: #0a0a0a; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <div style="margin-bottom: 10px;">
                                <strong>Title:</strong> Replace failed SFP on UCS Blade 5 vNIC 0<br>
                                <strong>Risk Level:</strong> <span style="color: #00ff88;">LOW</span><br>
                                <strong>Change Window:</strong> Immediate (service already down)<br>
                                <strong>Blast Radius:</strong> Single blade (50 VMs)<br>
                                <strong>Estimated Additional Downtime:</strong> 5 minutes
                            </div>

                            <div style="margin-bottom: 10px;">
                                <strong>Prerequisites:</strong><br>
                                <div style="margin-left: 20px;">
                                    ‚Ä¢ Spare SFP module available in DC inventory<br>
                                    ‚Ä¢ Remote hands or on-site engineer available
                                </div>
                            </div>

                            <div style="margin-bottom: 10px;">
                                <strong>Steps:</strong><br>
                                <div style="margin-left: 20px; line-height: 1.8;">
                                    1. Log into UCS Manager<br>
                                    2. Acknowledge blade fault on Blade 5<br>
                                    3. Physically replace SFP module on vNIC 0 adapter<br>
                                    4. Clear interface errors on Nexus Leaf 101 Eth1/1: <code>clear counters interface Eth1/1</code><br>
                                    5. Monitor for link stability (60 seconds)<br>
                                    6. Verify APIC endpoint learning resumes<br>
                                    7. Confirm K8s pods reach Running state<br>
                                    8. Test application connectivity (HTTP 200)
                                </div>
                            </div>

                            <div style="margin-bottom: 10px;">
                                <strong>Post-Change Validation:</strong><br>
                                <div style="margin-left: 20px;">
                                    ‚úì Nexus Eth1/1 CRC errors: 0 (for 5 minutes)<br>
                                    ‚úì UCS Blade 5 vNIC 0 link status: UP (stable)<br>
                                    ‚úì APIC EPG health score: &gt; 95/100<br>
                                    ‚úì K8s pods: 50/50 Running<br>
                                    ‚úì Hubble flows: FORWARDED (no drops)<br>
                                    ‚úì Application: HTTP 200 response from ThousandEyes
                                </div>
                            </div>

                            <div>
                                <strong>Rollback Plan:</strong><br>
                                <div style="margin-left: 20px;">
                                    If new SFP also fails: Move VMs to standby blade<br>
                                    RTO: 15 minutes
                                </div>
                            </div>
                        </div>
                        <div style="background: #1a1a0a; padding: 10px; border-radius: 5px; margin-top: 10px; border-left: 3px solid #ffaa00;">
                            <strong>‚Üí Awaiting human approval via ServiceNow...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üë§ Human Operator</span>
                        <span class="agent-status status-completed">T+75 sec - Approval Granted</span>
                    </div>
                    <div class="agent-content">
                        <strong>Ops Engineer Review:</strong><br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px; margin: 10px 0;">
                            Reviewed mitigation plan and evidence bundle.<br>
                            Root cause analysis is thorough and confidence is high.<br>
                            <br>
                            <span style="color: #00ff88;"><strong>‚úì APPROVED</strong></span> via Slack bot: <code>/approve INC-2024-05678</code>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîß Execution & Validation</span>
                        <span class="agent-status status-completed">T+80 sec to T+12 min - Remediation Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Execution Timeline:</strong><br>
                        <div style="margin-left: 20px; line-height: 2;">
                            <span style="color: #00ff88;">‚úì</span> T+80s: Remote hands dispatched<br>
                            <span style="color: #00ff88;">‚úì</span> T+5m: SFP module replaced<br>
                            <span style="color: #00ff88;">‚úì</span> T+6m: Link stable, CRC errors cleared<br>
                            <span style="color: #00ff88;">‚úì</span> T+7m: APIC endpoint learning resumed<br>
                            <span style="color: #00ff88;">‚úì</span> T+10m: All 50 K8s pods Running<br>
                            <span style="color: #00ff88;">‚úì</span> T+12m: Application HTTP 200 confirmed
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 12px; border-radius: 5px; border-left: 3px solid #00ff88;">
                            <strong>All validation checks PASSED</strong><br>
                            Incident auto-resolved in ServiceNow
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üìö Knowledge Graph Agent</span>
                        <span class="agent-status status-completed">T+15 min - Knowledge Capture Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Knowledge Graph Updates:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Incident pattern: "UCS SFP failure ‚Üí ACI endpoint learning failure"<br>
                            ‚Ä¢ Vendor context: CSCvy12345 (known issue with specific SFP model)<br>
                            ‚Ä¢ Preventive action: Schedule quarterly optics health audit<br>
                            ‚Ä¢ Runbook updated: "UCS Optics Failure" playbook
                        </div>
                    </div>
                </div>

                <div style="background: #0a0a0a; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #00ff88;">
                    <h3 style="color: #00ff88; margin-bottom: 15px;">Key Performance Indicators (KPIs)</h3>
                    <table style="width: 100%; border-collapse: collapse; color: #fff;">
                        <thead>
                            <tr style="background: #1a1a1a;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #333;">Metric</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Before AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">With AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>MTTR (Mean Time to Resolve)</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">45 minutes</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">12 minutes</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 73%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>MTTI (Mean Time to Identify)</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">20 minutes</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">2 minutes</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 90%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>False Escalations</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">35% of tickets</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">8% of tickets</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 77%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Manual Investigation Steps</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">25 per incident</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">3 per incident</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 88%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Repeat Incidents</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">15% recurrence</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">4% recurrence</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 73%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Incident Documentation</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">30% complete</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">98% complete</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üë 68pp</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 15px; padding: 10px; background: #1a0a1a; border-radius: 5px;">
                        <strong>FCAPS Coverage:</strong> <span style="color: #00ff88;">F (Fault)</span>, <span style="color: #00aaff;">P (Performance)</span>
                    </div>
                </div>

                <div style="background: #1a1a0a; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #00aaff;">
                    <h4 style="color: #00aaff; margin-bottom: 10px;">Guardrails & Safety</h4>
                    <div style="color: #ccc; line-height: 1.8;">
                        ‚úì <strong>Read-Only by Default:</strong> All agents query APIs in read-only mode<br>
                        ‚úì <strong>Human-in-Loop:</strong> Config changes require explicit approval<br>
                        ‚úì <strong>Blast Radius Check:</strong> MRA calculates impact before suggesting changes<br>
                        ‚úì <strong>Audit Trail:</strong> All agent actions logged to immutable audit store<br>
                        ‚úì <strong>Rollback Plan Mandatory:</strong> Every mitigation includes automated rollback<br>
                        ‚úì <strong>Approval Workflow:</strong> Integration with ServiceNow change approval<br>
                        ‚úì <strong>Safe Mode:</strong> Agents can be put in "monitor-only" mode
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">‚úÖ Incident Resolved</span>
                        <span class="agent-status status-completed">Total Time: 12 minutes</span>
                    </div>
                    <div class="agent-content">
                        <strong>Summary:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Root Cause: Failed SFP module on UCS Blade 5 vNIC 0<br>
                            ‚Ä¢ Resolution: SFP replaced, all systems validated<br>
                            ‚Ä¢ Total Downtime: 12 minutes<br>
                            ‚Ä¢ Agents Involved: 6 specialized + 1 MRA + IOAgent<br>
                            ‚Ä¢ Human Interactions: 1 (approval only)<br>
                            ‚Ä¢ Knowledge Base: Updated with incident pattern
                        </div>
                    </div>
                </div>
            </div>`
        ]
    },

    'capacity-management': {
        title: 'Predictive Capacity Management',
        icon: 'üìä',
        description: 'AI-powered capacity planning and optimization using predictive analytics',
        initialQuery: 'Analyze current capacity and predict future requirements',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üìä</span>
                    <h3 class="workflow-title">Use Case 2: Datacenter Capacity Management</h3>
                </div>

                <div style="background: #1a0a1a; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #4488ff;">
                    <h4 style="color: #4488ff; margin-bottom: 10px;">Real-World Scenario</h4>
                    <div style="color: #ccc;">
                        <strong>Situation:</strong> Quarterly capacity planning reveals compute capacity will be exhausted in 45 days based on current growth trends, risking VM provisioning failures and application deployment delays.<br><br>
                        <strong>Data Sources:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ <strong>Intersight API:</strong> UCS compute capacity (CPU cores, memory allocation, blade inventory)<br>
                            ‚Ä¢ <strong>APIC/NDI:</strong> ACI endpoint scale, TCAM utilization, fabric capacity metrics<br>
                            ‚Ä¢ <strong>HyperFlex:</strong> Storage capacity, deduplication ratios, IOPS/throughput<br>
                            ‚Ä¢ <strong>Kubernetes:</strong> PVC growth rate, node resource utilization<br>
                            ‚Ä¢ <strong>Historical Trends:</strong> 90-day VM creation rate, vCPU/vRAM growth patterns
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+0 sec - Capacity Alert Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Trigger Event:</strong> Intersight threshold alert (CPU allocation &gt;85%)<br>
                        <strong>Additional Signals:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ NDI reports ACI TCAM utilization approaching 80% on Leaf-101<br>
                            ‚Ä¢ HyperFlex cluster showing 56% capacity utilization<br>
                            ‚Ä¢ Budget cycle: Quarterly capacity planning review scheduled<br>
                            ‚Ä¢ Predictive model forecasts &lt;10% headroom in 30 days
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Initiating Capacity Management workflow via MRA...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üìä Capacity Monitoring Agent</span>
                        <span class="agent-status status-completed">T+5 sec - Real-Time Metrics Collection</span>
                    </div>
                    <div class="agent-content">
                        <strong>UCS Compute Capacity (via Intersight):</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Total CPU Cores: 16,000 (Physical)<br>
                            ‚Ä¢ Allocated CPU Cores: 12,450 (77.8%)<br>
                            ‚Ä¢ Total Memory: 64 TB<br>
                            ‚Ä¢ Allocated Memory: 45.2 TB (70.6%)<br>
                            ‚Ä¢ VM Count: 3,245 / 5,000 capacity (64.9%)<br>
                            ‚Ä¢ Blade Status: 85/100 active, 15 in standby
                        </div>
                        <br>
                        <strong>ACI Network Capacity (via APIC/NDI):</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Endpoints: 125,456 / 180,000 capacity (69.7%)<br>
                            ‚Ä¢ TCAM Utilization: 78% (Leaf-101 - highest)<br>
                            ‚Ä¢ Fabric Bandwidth: 850 / 1,000 Gbps (85.0%)<br>
                            ‚Ä¢ EPGs: 450 / 1,000 limit (45.0%)<br>
                            ‚Ä¢ Contracts: 2,340 / 5,000 limit (46.8%)
                        </div>
                        <br>
                        <div style="background: #1a1a0d; padding: 10px; border-radius: 5px;">
                            <strong>‚Üí Metrics stored in InfluxDB, passing to Predictive Analytics Agent...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">ü§ñ Predictive Analytics Agent</span>
                        <span class="agent-status status-completed">T+15 sec - Prophet ML Forecasting</span>
                    </div>
                    <div class="agent-content">
                        <strong>Forecast Model: Facebook Prophet</strong><br>
                        <div class="code-block">
from prophet import Prophet
import pandas as pd

# Historical data: 90 days of CPU utilization
model = Prophet(
    yearly_seasonality=True,
    weekly_seasonality=True,
    changepoint_prior_scale=0.05
)

# Add quarterly business cycle seasonality
model.add_seasonality(
    name='quarterly',
    period=91.25,
    fourier_order=5
)

model.fit(historical_cpu_data)
forecast = model.predict(
    model.make_future_dataframe(periods=90)
)

# Result: CPU will hit 90% threshold in 42 days
days_until_exhaustion = 42</div>
                        <br>
                        <strong>Capacity Predictions (90-day horizon):</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ <span style="color: #ff4444;">CPU Cores: 95% in 90 days (89% in 30 days) üî¥ URGENT</span><br>
                            ‚Ä¢ <span style="color: #ffaa44;">Memory: 85% in 90 days (78% in 30 days) ‚ö†Ô∏è</span><br>
                            ‚Ä¢ <span style="color: #ffaa44;">ACI TCAM: 92% in 90 days (85% in 30 days) ‚ö†Ô∏è</span><br>
                            ‚Ä¢ <span style="color: #ff4444;">Fabric Bandwidth: 98% in 90 days (92% in 30 days) üö® CRITICAL</span><br>
                            ‚Ä¢ <span style="color: #44ff88;">Storage: 70% in 90 days ‚úì OK</span>
                        </div>
                        <br>
                        <strong>Critical Finding:</strong> <span style="color: #ff4444;">CPU capacity exhaustion in 42 days, Network bandwidth crisis in 45 days</span>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üéØ Optimization Agent</span>
                        <span class="agent-status status-completed">T+25 sec - VM Placement Optimization</span>
                    </div>
                    <div class="agent-content">
                        <strong>Linear Programming Optimization:</strong><br>
                        <div class="code-block">
from scipy.optimize import linprog

# Objective: Minimize active hosts
# Constraints: CPU + memory capacity per host
def optimize_vm_placement(vms, hosts):
    # Decision variables: x[i][j] = VM i on host j
    num_vms = len(vms)
    num_hosts = len(hosts)

    # Cost vector: minimize host count
    c = [0] * (num_vms * num_hosts) + [1] * num_hosts

    # CPU capacity constraints
    A_ub = []
    for host in hosts:
        cpu_constraint = [0] * len(c)
        for i, vm in enumerate(vms):
            cpu_constraint[i*num_hosts + host.id] = vm.cpu
        A_ub.append(cpu_constraint)

    result = linprog(c, A_ub=A_ub, b_ub=b_ub)
    return result

# Result: Consolidate 127 VMs from 15 hosts to 10 hosts</div>
                        <br>
                        <strong>Optimization Opportunities Identified:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            <strong>1. VM Consolidation:</strong><br>
                            ‚Ä¢ Consolidate 127 VMs: 15 hosts ‚Üí 10 hosts<br>
                            ‚Ä¢ Savings: 5 blades (400 CPU cores, 2TB RAM)<br>
                            ‚Ä¢ Power savings: 15 KW<br>
                            ‚Ä¢ Risk: LOW (anti-affinity rules preserved)<br>
                            <br>
                            <strong>2. ACI TCAM Optimization:</strong><br>
                            ‚Ä¢ Remove 234 unused contracts (stale &gt;90 days)<br>
                            ‚Ä¢ TCAM reclamation: ~12% capacity freed<br>
                            ‚Ä¢ Impact: None (contracts inactive)<br>
                            <br>
                            <strong>3. Storage Deduplication Tuning:</strong><br>
                            ‚Ä¢ Projected savings: 8% capacity (400TB)<br>
                            ‚Ä¢ Performance impact: &lt;2% latency increase
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üìà Capacity Planning Agent</span>
                        <span class="agent-status status-completed">T+35 sec - Scenario Analysis</span>
                    </div>
                    <div class="agent-content">
                        <strong>Black Friday 2024 Scenario Simulation:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Expected load multiplier: 5x normal<br>
                            ‚Ä¢ Duration: 72 hours (Nov 29-Dec 1)<br>
                            ‚Ä¢ Required additional capacity:<br>
                            &nbsp;&nbsp;- CPU: +2,000 cores<br>
                            &nbsp;&nbsp;- Memory: +8 TB<br>
                            &nbsp;&nbsp;- Network: +400 Gbps<br>
                            ‚Ä¢ Deployment strategy: Cloud burst to AWS<br>
                            ‚Ä¢ Estimated cost: $15,000 (vs $250K CapEx for permanent)
                        </div>
                        <br>
                        <strong>Recommendation:</strong> Hybrid approach - optimize existing + cloud burst for peak
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üí∞ Budget Impact Agent</span>
                        <span class="agent-status status-completed">T+40 sec - Financial Analysis</span>
                    </div>
                    <div class="agent-content">
                        <strong>Investment Required:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ 10 UCS Blades (B200 M6): $150,000<br>
                            ‚Ä¢ Network upgrade (2x 100G modules): $80,000<br>
                            ‚Ä¢ Implementation services: $25,000<br>
                            ‚Ä¢ <strong>Total CapEx: $255,000</strong>
                        </div>
                        <br>
                        <strong>Savings from Optimization:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ VM consolidation power savings: $21,600/year<br>
                            ‚Ä¢ Deferred hardware purchases: $180,000<br>
                            ‚Ä¢ Reduced over-provisioning: $400,000/year<br>
                            ‚Ä¢ <strong>Total Annual Savings: $601,600</strong>
                        </div>
                        <br>
                        <strong>ROI: 5.2 months payback period</strong>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent</span>
                        <span class="agent-status status-completed">T+45 sec - Consolidated Capacity Plan</span>
                    </div>
                    <div class="agent-content">
                        <strong>Executive Summary:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            üî¥ <strong>Critical Actions (0-30 days):</strong><br>
                            ‚Ä¢ Execute VM consolidation (free 400 cores immediately)<br>
                            ‚Ä¢ Order 10 UCS blades (45-day lead time)<br>
                            ‚Ä¢ Clean up 234 unused ACI contracts<br>
                            <br>
                            ‚ö†Ô∏è <strong>Important Actions (30-60 days):</strong><br>
                            ‚Ä¢ Deploy new UCS blades<br>
                            ‚Ä¢ Install network capacity upgrade<br>
                            ‚Ä¢ Implement Black Friday cloud burst plan<br>
                            <br>
                            ‚úì <strong>Monitoring (60-90 days):</strong><br>
                            ‚Ä¢ Validate forecast accuracy<br>
                            ‚Ä¢ Tune predictive models<br>
                            ‚Ä¢ Prepare Q2 capacity planning
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px;">
                            <strong>‚Üí Sending detailed plan to IOAgent for ticket creation...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+50 sec - Actions Created</span>
                    </div>
                    <div class="agent-content">
                        <strong>üìã ServiceNow Tickets Created:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ <code>CHG-2024-1234</code>: VM Consolidation (127 VMs)<br>
                            ‚Ä¢ <code>PRJ-2024-567</code>: UCS Blade Procurement (CFO approval required)<br>
                            ‚Ä¢ <code>TASK-2024-890</code>: ACI Contract Cleanup (234 contracts)<br>
                            ‚Ä¢ <code>PRJ-2024-568</code>: Black Friday Cloud Burst Setup
                        </div>
                        <br>
                        <strong>üìä Capacity Dashboard Updated:</strong> Real-time forecast visible to all stakeholders<br>
                        <strong>üìß Notifications Sent:</strong> CTO, CFO, Infrastructure Manager<br>
                        <strong>üìÖ Calendar Invites:</strong> Capacity Review Meeting scheduled (3 stakeholders)
                    </div>
                </div>

                <div style="background: #0d1a1a; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h4 style="color: #44aaff; margin-bottom: 15px;">üìä KPIs & Business Impact</h4>
                    <table style="width: 100%; border-collapse: collapse; color: #ccc;">
                        <thead>
                            <tr style="border-bottom: 2px solid #444;">
                                <th style="text-align: left; padding: 10px;">Metric</th>
                                <th style="text-align: center; padding: 10px;">Before AI</th>
                                <th style="text-align: center; padding: 10px;">With AI</th>
                                <th style="text-align: center; padding: 10px;">Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Capacity-Related Outages/Year</td>
                                <td style="text-align: center; padding: 10px;">8</td>
                                <td style="text-align: center; padding: 10px;">1</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üì 87%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Over-Provisioning Cost</td>
                                <td style="text-align: center; padding: 10px;">$2M/year</td>
                                <td style="text-align: center; padding: 10px;">$1.2M/year</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üì 40%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Lead Time for Capacity Adds</td>
                                <td style="text-align: center; padding: 10px;">90 days</td>
                                <td style="text-align: center; padding: 10px;">45 days</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üì 50%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Forecast Accuracy (30-day)</td>
                                <td style="text-align: center; padding: 10px;">65%</td>
                                <td style="text-align: center; padding: 10px;">92%</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üë 27pp</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Resource Utilization (Compute)</td>
                                <td style="text-align: center; padding: 10px;">62%</td>
                                <td style="text-align: center; padding: 10px;">82%</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üë 20pp</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px;">Manual Analysis Hours/Month</td>
                                <td style="text-align: center; padding: 10px;">40 hrs</td>
                                <td style="text-align: center; padding: 10px;">5 hrs</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üì 87%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="background: #1a0d0d; padding: 15px; border-radius: 8px; border-left: 4px solid #ff8844;">
                    <h4 style="color: #ff8844; margin-bottom: 10px;">üõ°Ô∏è Guardrails & Safety</h4>
                    <div style="color: #ccc; line-height: 1.8;">
                        ‚Ä¢ <strong>Human Approval Required:</strong> All CapEx &gt;$100K requires CFO approval<br>
                        ‚Ä¢ <strong>Optimization Safety:</strong> Anti-affinity and affinity rules never violated<br>
                        ‚Ä¢ <strong>Change Control:</strong> All VM migrations follow standard change process<br>
                        ‚Ä¢ <strong>Rollback Plan:</strong> All optimizations reversible within 30 minutes<br>
                        ‚Ä¢ <strong>What-If Sandbox:</strong> All scenarios tested in isolated environment first
                    </div>
                </div>
            </div>`
        ]
    },

    'resiliency-check': {
        title: 'Datacenter Resiliency Check',
        icon: 'üõ°Ô∏è',
        description: 'Automated resilience validation through chaos engineering and failover testing',
        initialQuery: 'Run comprehensive resiliency assessment',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üõ°Ô∏è</span>
                    <h3 class="workflow-title">Use Case 3: Datacenter Resiliency Check</h3>
                </div>

                <div style="background: #1a0a1a; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ff8844;">
                    <h4 style="color: #ff8844; margin-bottom: 10px;">Real-World Scenario</h4>
                    <div style="color: #ccc;">
                        <strong>Situation:</strong> Quarterly DR drill reveals that ACI VPC peer-link on Leaf-101/102 is not properly configured, meaning a single leaf failure would cause complete tenant outage instead of seamless failover.<br><br>
                        <strong>Test Scope:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ <strong>ACI Fabric:</strong> VPC redundancy, spine connectivity, APIC cluster health, L3Out BGP<br>
                            ‚Ä¢ <strong>UCS Compute:</strong> FI redundancy, vNIC failover, PSU redundancy, blade health<br>
                            ‚Ä¢ <strong>Kubernetes:</strong> etcd quorum, worker node spread, PodDisruptionBudgets<br>
                            ‚Ä¢ <strong>Cilium/eBPF:</strong> Agent health, BPF program load status, network policy enforcement<br>
                            ‚Ä¢ <strong>Storage:</strong> HyperFlex 3-replica, multipathing, witness node health
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+0 sec - DR Drill Initiated</span>
                    </div>
                    <div class="agent-content">
                        <strong>Trigger Event:</strong> Scheduled quarterly DR drill<br>
                        <strong>Test Type:</strong> Automated failover tests + Chaos engineering<br>
                        <strong>Safety Mode:</strong> Non-production isolated test environment<br>
                        <br>
                        <div style="background: #1a0a0d; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Initiating Resilience Assessment via MRA...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üõ°Ô∏è Resilience Assessment Agent</span>
                        <span class="agent-status status-completed">T+5 sec - Baseline Scoring</span>
                    </div>
                    <div class="agent-content">
                        <strong>ACI Fabric Resiliency Score: 96/100</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úì VPC Redundancy: All 8 VPC pairs healthy<br>
                            ‚úì Spine Connectivity: 2+ uplinks per leaf (redundant)<br>
                            ‚úì APIC Cluster: 3-node cluster healthy<br>
                            ‚úì L3Out BGP: Dual-homed to WAN routers<br>
                        </div>
                        <br>
                        <strong>UCS Compute Resiliency Score: 95/100</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úì FI Redundancy: FI-A/FI-B cluster healthy<br>
                            ‚úì vNIC Failover: Fabric failover enabled on all blades<br>
                            ‚úì PSU Redundancy: N+1 on all chassis<br>
                            ‚úì Blade Health: All 85 blades operational
                        </div>
                        <br>
                        <strong>Kubernetes Resiliency Score: 89/100</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úì etcd Quorum: 3-member cluster healthy<br>
                            ‚úì Worker Nodes: Spread across 3 racks<br>
                            ‚ö†Ô∏è PodDisruptionBudget: 3 deployments missing PDB<br>
                            ‚úì Control Plane HA: 3 master nodes active
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üî• Failover Testing Agent</span>
                        <span class="agent-status status-active">T+20 sec - ACI VPC Failover Test</span>
                    </div>
                    <div class="agent-content">
                        <strong>Test: ACI VPC Peer-Link Failure (Leaf-101/102)</strong><br>
                        <div class="code-block">
# Test ACI VPC failover by admin-down peer-link
def test_aci_vpc_failover(apic, leaf_pair_id):
    # Phase 1: Pre-test validation
    pre_test = {
        'vpc_peer_link_status': 'up',
        'endpoint_count': 1250,
        'traffic_baseline': 850  # Mbps
    }

    # Phase 2: Shutdown peer-link (simulate failure)
    peer_link_intf = get_vpc_peer_link(apic, leaf_pair_id)
    admin_down_interface(apic, peer_link_intf)
    shutdown_time = time.time()

    # Phase 3: Monitor failover
    endpoint_recovery = monitor_endpoint_learning(apic)
    traffic_recovery = monitor_traffic_rate(apic)

    # Results: Failover time = 4.2 seconds
    return {
        'endpoint_learning_time': 4.2,
        'traffic_recovery_time': 3.8,
        'passed': True  # Both &lt; 5s target
    }</div>
                        <br>
                        <strong>üìä Test Results:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úÖ <span style="color: #00ff88;">VPC Failover: 4.2 seconds (target: &lt;5s)</span><br>
                            ‚úÖ Endpoint Re-Learning: 95% recovered in 4.2s<br>
                            ‚úÖ Traffic Recovery: 3.8 seconds (target: &lt;5s)<br>
                            ‚úÖ Packet Loss: 12 packets (0.0008% loss rate)<br>
                            ‚úÖ <strong>TEST PASSED</strong> - VPC failover working as designed
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üí• Chaos Engineering Agent</span>
                        <span class="agent-status status-active">T+45 sec - Kubernetes Pod Chaos</span>
                    </div>
                    <div class="agent-content">
                        <strong>Experiment: Random Pod Termination with eBPF Observability</strong><br>
                        <div class="code-block">
from kubernetes import client
import random

class ChaosEngineeringAgent:
    def chaos_pod_termination(self, namespace,
                               label_selector, count=1):
        # Validate PodDisruptionBudget first
        pdb_check = self.check_pdb_allows_disruption(
            label_selector
        )
        if not pdb_check['allowed']:
            return {'status': 'BLOCKED_BY_PDB'}

        # Select random pods (10% blast radius max)
        pods = self.v1.list_namespaced_pod(
            namespace=namespace,
            label_selector=label_selector
        )
        targets = random.sample(pods.items, count)

        # Kill pods
        for pod in targets:
            self.v1.delete_namespaced_pod(
                name=pod.metadata.name,
                namespace=namespace,
                grace_period_seconds=0
            )

        # Monitor recovery via Cilium/Hubble
        recovery_time = self.monitor_pod_recovery(
            label_selector, count
        )
        return {'recovery_time_seconds': recovery_time}</div>
                        <br>
                        <strong>üìä Chaos Experiment Results:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úÖ Pods Killed: 5 (app=web-frontend)<br>
                            ‚úÖ Recovery Time: 12 seconds (target: &lt;60s)<br>
                            ‚úÖ Service Availability: No user-facing impact<br>
                            ‚úÖ Cilium Network Policy: Continued enforcement during recovery<br>
                            ‚úÖ <strong>TEST PASSED</strong> - Pod recovery working correctly
                        </div>
                        <br>
                        <strong>eBPF Flow Analysis (via Hubble):</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Total flows during test: 12,456<br>
                            ‚Ä¢ Allowed flows: 12,245 (98.3%)<br>
                            ‚Ä¢ Denied flows: 211 (1.7% - expected external traffic)<br>
                            ‚Ä¢ Network policy enforcement: 100% during chaos
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üî¨ eBPF Datapath Testing Agent</span>
                        <span class="agent-status status-completed">T+60 sec - Cilium Health Check</span>
                    </div>
                    <div class="agent-content">
                        <strong>Cilium eBPF Datapath Verification:</strong><br>
                        <div class="code-block">
def test_cilium_ebpf_datapath(k8s_client):
    nodes = k8s_client.list_node()
    results = {'healthy_nodes': 0, 'unhealthy': []}

    for node in nodes.items:
        # Get Cilium agent pod on this node
        cilium_pod = get_cilium_agent_pod(node.name)

        # Check BPF program load status
        exec_cmd = ['cilium', 'status', '--brief']
        resp = exec_in_pod(cilium_pod, exec_cmd)

        if 'OK' in resp:
            results['healthy_nodes'] += 1
        else:
            results['unhealthy'].append(node.name)

    return results</div>
                        <br>
                        <strong>üìä eBPF Health Results:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úÖ Nodes Checked: 45<br>
                            ‚úÖ Healthy Cilium Agents: 45/45 (100%)<br>
                            ‚úÖ BPF Programs Loaded: 100%<br>
                            ‚úÖ Connection Tracking Entries: 12,456 active<br>
                            ‚úÖ Hubble Relay: 3 replicas operational<br>
                            ‚úÖ <strong>DATAPATH HEALTHY</strong> - All eBPF components functioning
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üíæ Storage Multipath Agent</span>
                        <span class="agent-status status-completed">T+75 sec - Storage Failover Test</span>
                    </div>
                    <div class="agent-content">
                        <strong>Test: HyperFlex iSCSI Path Failure</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úÖ Disabled 1 of 4 iSCSI paths<br>
                            ‚úÖ Multipath driver switched to alternate path: &lt;1 second<br>
                            ‚úÖ I/O continued without interruption<br>
                            ‚úÖ Path restored, rebalancing complete<br>
                            ‚úÖ <strong>TEST PASSED</strong> - Multipathing working correctly
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîç Recovery Validation Agent</span>
                        <span class="agent-status status-completed">T+90 sec - Post-Test Validation</span>
                    </div>
                    <div class="agent-content">
                        <strong>All Systems Restored to Pre-Test State:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚úì ACI VPC peer-link restored: PASS<br>
                            ‚úì All pods recovered to desired count: PASS<br>
                            ‚úì Cilium agents healthy on all nodes: PASS<br>
                            ‚úì Storage multipath all 4 paths active: PASS<br>
                            ‚úì Service endpoints responding normally: PASS<br>
                            ‚úì No configuration drift detected: PASS
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent</span>
                        <span class="agent-status status-completed">T+95 sec - Resiliency Assessment Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Overall Datacenter Resiliency Score: 94/100</strong><br>
                        <br>
                        <strong>‚úÖ Components Scoring 95+:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ ACI Fabric: 96/100<br>
                            ‚Ä¢ UCS Compute: 95/100<br>
                            ‚Ä¢ Storage (HyperFlex): 99/100<br>
                            ‚Ä¢ Cilium/eBPF: 94/100
                        </div>
                        <br>
                        <strong>‚ö†Ô∏è Areas for Improvement:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Kubernetes: 89/100 (3 deployments missing PodDisruptionBudget)<br>
                            ‚Ä¢ Recommendation: Add PDB with minAvailable: 1 to affected deployments
                        </div>
                        <br>
                        <strong>üéØ Single Points of Failure (SPOFs) Detected:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚ö†Ô∏è <strong>MAJOR:</strong> VPC domain 150 missing peer-keepalive SVI<br>
                            &nbsp;&nbsp;&nbsp;Impact: VPC split-brain possible<br>
                            &nbsp;&nbsp;&nbsp;Action: Add SVI on VLAN 3967<br>
                            <br>
                            ‚ö†Ô∏è <strong>MINOR:</strong> 3 K8s deployments missing PDB<br>
                            &nbsp;&nbsp;&nbsp;Impact: Node drain may cause downtime<br>
                            &nbsp;&nbsp;&nbsp;Action: Add PDB to web-frontend, api-backend, worker deployments
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px;">
                            <strong>‚Üí Sending detailed report to IOAgent for remediation...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+100 sec - Report & Tickets Created</span>
                    </div>
                    <div class="agent-content">
                        <strong>üìã ServiceNow Tickets Created:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ <code>TASK-2024-1001</code>: Add peer-keepalive SVI to VPC domain 150<br>
                            ‚Ä¢ <code>TASK-2024-1002</code>: Add PodDisruptionBudgets to 3 deployments<br>
                            ‚Ä¢ <code>INC-2024-0045</code>: Document all test results for audit
                        </div>
                        <br>
                        <strong>üìä Compliance Report Generated:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ SOC 2 audit evidence: DR drill complete ‚úì<br>
                            ‚Ä¢ ISO 27001 requirement met: Quarterly resilience test ‚úì<br>
                            ‚Ä¢ Report filed with Compliance Team
                        </div>
                        <br>
                        <strong>üìß Stakeholder Notifications:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ CISO: Resiliency score 94/100, 2 SPOFs identified<br>
                            ‚Ä¢ Infrastructure Manager: Remediation tasks assigned<br>
                            ‚Ä¢ Audit Committee: Compliance evidence attached
                        </div>
                    </div>
                </div>

                <div style="background: #0d1a1a; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h4 style="color: #44aaff; margin-bottom: 15px;">üìä KPIs & Business Impact</h4>
                    <table style="width: 100%; border-collapse: collapse; color: #ccc;">
                        <thead>
                            <tr style="border-bottom: 2px solid #444;">
                                <th style="text-align: left; padding: 10px;">Metric</th>
                                <th style="text-align: center; padding: 10px;">Before AI</th>
                                <th style="text-align: center; padding: 10px;">With AI</th>
                                <th style="text-align: center; padding: 10px;">Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Unplanned Outages/Year</td>
                                <td style="text-align: center; padding: 10px;">12</td>
                                <td style="text-align: center; padding: 10px;">3</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üì 75%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">SPOF Detection Rate</td>
                                <td style="text-align: center; padding: 10px;">40%</td>
                                <td style="text-align: center; padding: 10px;">95%</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üë 55pp</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">DR Drill Frequency</td>
                                <td style="text-align: center; padding: 10px;">Quarterly</td>
                                <td style="text-align: center; padding: 10px;">Monthly</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">4x increase</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Failover Test Coverage</td>
                                <td style="text-align: center; padding: 10px;">30%</td>
                                <td style="text-align: center; padding: 10px;">85%</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üë 55pp</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 10px;">Test Execution Time</td>
                                <td style="text-align: center; padding: 10px;">8 hours</td>
                                <td style="text-align: center; padding: 10px;">45 minutes</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üì 91%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px;">Audit Prep Time</td>
                                <td style="text-align: center; padding: 10px;">40 hours</td>
                                <td style="text-align: center; padding: 10px;">4 hours</td>
                                <td style="text-align: center; padding: 10px; color: #00ff88;">‚Üì 90%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="background: #1a0d0d; padding: 15px; border-radius: 8px; border-left: 4px solid #ff8844;">
                    <h4 style="color: #ff8844; margin-bottom: 10px;">üõ°Ô∏è Guardrails & Safety</h4>
                    <div style="color: #ccc; line-height: 1.8;">
                        ‚Ä¢ <strong>Production Chaos Opt-In:</strong> Chaos tests in prod require explicit approval<br>
                        ‚Ä¢ <strong>Blast Radius Limits:</strong> Max 10% of resources affected per test<br>
                        ‚Ä¢ <strong>Automatic Rollback:</strong> All tests have &lt;30s rollback if SLA breached<br>
                        ‚Ä¢ <strong>Maintenance Windows:</strong> Failover tests scheduled during low-traffic periods<br>
                        ‚Ä¢ <strong>PDB Enforcement:</strong> Cannot kill pods if PodDisruptionBudget violated<br>
                        ‚Ä¢ <strong>Change Approval:</strong> All tests logged as standard changes in ServiceNow
                    </div>
                </div>
            </div>`
        ]
    },

    'infra-verification': {
        title: 'Infrastructure Verification',
        icon: '‚úÖ',
        description: 'Automated verification of datacenter infrastructure, configurations, and compliance',
        initialQuery: 'Verify infrastructure configuration and compliance',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">‚úÖ</span>
                    <h3 class="workflow-title">Use Case 4: Datacenter Infrastructure Verification</h3>
                </div>

                <div style="background: #1a0a1a; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #44aaff;">
                    <h4 style="color: #44aaff; margin-bottom: 10px;">Real-World Scenario</h4>
                    <div style="color: #ccc;">
                        <strong>Situation:</strong> Pre-change validation before quarterly OS upgrade reveals 15 UCS blades have firmware mismatches, 8 ACI leaf switches have unapproved QoS configurations, and 23 Kubernetes nodes are missing required security hardening (CIS benchmark violations).<br><br>
                        <strong>Trigger:</strong> Pre-Change Validation Request for Q3 OS Upgrade
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+0 sec - Verification Request Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Input Source:</strong> Change Management System (ServiceNow)<br>
                        <strong>Change Request:</strong> CHG-2024-12345 - Quarterly OS Upgrade<br>
                        <strong>Verification Scope:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ ACI Fabric: Config drift detection, golden config compliance<br>
                            ‚Ä¢ UCS Compute: Firmware consistency, hardware health<br>
                            ‚Ä¢ Nexus Switching: Security hardening, baseline configs<br>
                            ‚Ä¢ Kubernetes: CIS benchmark compliance, policy enforcement
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Triggering Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-active">T+5 sec - Orchestrating Verification Agents</span>
                    </div>
                    <div class="agent-content">
                        <strong>Agent Deployment Strategy:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì Spawning CONFIGURATION_VERIFICATION_AGENT<br>
                            ‚úì Spawning COMPLIANCE_VERIFICATION_AGENT<br>
                            ‚úì Spawning HARDWARE_HEALTH_AGENT<br>
                            ‚úì Spawning FIRMWARE_CONSISTENCY_AGENT
                        </div>
                        <br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px;">
                            <em>All agents running in parallel with read-only access...</em>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">‚öôÔ∏è Configuration Verification Agent</span>
                        <span class="agent-status status-completed">T+15 sec - ACI Tenant Config Drift Detection</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ Tenant "Prod-Web": <span style="color: #ffaa00;">8 drift items detected (2.1% drift)</span><br>
                            ‚Ä¢ 5 EPGs have QoS markings changed from AF31 to BE (unapproved)<br>
                            ‚Ä¢ 3 bridge domains missing required subnets<br>
                            ‚Ä¢ Contract "Web-to-DB" has extra filter entry (not in golden config)<br>
                            <br>
                            <span style="color: #ffaa00;">‚ö† CONFIG DRIFT:</span> 8 items require remediation
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># Configuration Verification Agent - Git Diff Style
import difflib

class ConfigurationVerificationAgent:
    def verify_aci_tenant_config(self, apic_client, tenant_name, golden_template):
        # Get current tenant config
        current_config = self.get_tenant_config(apic_client, tenant_name)

        # Normalize configs for comparison
        current_normalized = self.normalize_aci_config(current_config)
        golden_normalized = self.normalize_aci_config(golden_template)

        # Compute diff (unified diff format)
        diff = list(difflib.unified_diff(
            golden_normalized.splitlines(),
            current_normalized.splitlines(),
            lineterm='',
            fromfile='golden',
            tofile='current'
        ))

        drift_items = []
        for line in diff:
            if line.startswith('+') and not line.startswith('+++'):
                # Extra configuration (not in golden)
                drift_items.append({
                    'type': 'EXTRA_CONFIG',
                    'line': line[1:].strip(),
                    'severity': 'MAJOR',
                    'impact': 'Configuration not per standard'
                })
            elif line.startswith('-') and not line.startswith('---'):
                # Missing configuration (should be in current)
                drift_items.append({
                    'type': 'MISSING_CONFIG',
                    'line': line[1:].strip(),
                    'severity': 'CRITICAL',
                    'impact': 'Required configuration missing'
                })

        return {
            'tenant': tenant_name,
            'drift_detected': len(drift_items) &gt; 0,
            'drift_items': drift_items,
            'compliant': drift_percent &lt;= 0.02  # 2% threshold
        }</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîß Firmware Consistency Agent</span>
                        <span class="agent-status status-completed">T+20 sec - UCS Blade Firmware Analysis</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ Total UCS Blades: 120<br>
                            ‚Ä¢ Firmware Consistent: <span style="color: #ff4444;">105 blades (87.5%)</span><br>
                            ‚Ä¢ <span style="color: #ff4444;">Inconsistent: 15 blades (12.5%)</span><br>
                            <br>
                            <strong>Standard Firmware (105 blades):</strong><br>
                            &nbsp;&nbsp;‚Ä¢ BIOS: 4.2(3d)<br>
                            &nbsp;&nbsp;‚Ä¢ CIMC: 4.2(3d)<br>
                            &nbsp;&nbsp;‚Ä¢ Adapter: 5.2(1a)<br>
                            <br>
                            <strong>Outlier Blades (15):</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Blades 45-59: BIOS 4.1(3c), CIMC 4.1(3c), Adapter 5.1(2e)<br>
                            <br>
                            <span style="color: #ffaa00;">‚ö† REMEDIATION REQUIRED:</span> Upgrade 15 blades to standard firmware
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># Firmware Consistency Agent - Intersight API
class FirmwareConsistencyAgent:
    def verify_ucs_firmware_consistency(self, intersight_client, domain_name):
        # Query all blades in domain
        blades_query = intersight_client.get(
            f"/compute/PhysicalSummaries?$filter=ManagementMode eq 'Intersight' and "
            f"Parent.Moid eq '{domain_name}'"
        )

        blades = blades_query['Results']

        # Group by firmware versions
        firmware_groups = {}
        for blade in blades:
            fw_key = (
                blade.get('BiosVersion'),
                blade.get('CimcVersion'),
                blade.get('AdapterFirmware')
            )

            if fw_key not in firmware_groups:
                firmware_groups[fw_key] = []

            firmware_groups[fw_key].append({
                'serial': blade['Serial'],
                'model': blade['Model'],
                'name': blade['Name']
            })

        # Determine if there's firmware inconsistency
        inconsistent = len(firmware_groups) &gt; 1

        # Identify the "standard" version (most common)
        standard_group = max(firmware_groups.items(), key=lambda x: len(x[1]))
        outliers = [b for fw, blades in firmware_groups.items()
                   if fw != standard_group[0] for b in blades]

        return {
            'firmware_consistent': not inconsistent,
            'outlier_blades': outliers,
            'remediation': f"Upgrade {len(outliers)} blades to standard firmware"
        }</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîê Compliance Verification Agent</span>
                        <span class="agent-status status-completed">T+30 sec - CIS Kubernetes Benchmark Audit</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ Framework: CIS Kubernetes Benchmark v1.8<br>
                            ‚Ä¢ Total Checks: 150<br>
                            ‚Ä¢ Passed: <span style="color: #00ff88;">127 (84.7%)</span><br>
                            ‚Ä¢ Failed: <span style="color: #ff4444;">23 (15.3%)</span><br>
                            <br>
                            <strong>Critical Failures:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ CIS 5.2.1: PodSecurityPolicy admission controller disabled (23 nodes)<br>
                            &nbsp;&nbsp;‚Ä¢ CIS 5.3.2: Default service accounts have token automount enabled<br>
                            &nbsp;&nbsp;‚Ä¢ CIS 5.7.3: AppArmor profiles not applied to pods<br>
                            <br>
                            <span style="color: #ff4444;">‚ö† COMPLIANCE SCORE:</span> 84.7% (Target: 95%+)
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># Compliance Verification Agent - CIS Benchmark
import yaml

class ComplianceVerificationAgent:
    def audit_kubernetes_cis_compliance(self, k8s_api_client):
        results = {
            'framework': 'CIS_KUBERNETES_V1.8',
            'total_checks': 0,
            'passed': 0,
            'failed': 0,
            'findings': []
        }

        cis_checks = self.compliance_frameworks['cis_kubernetes']

        for check in cis_checks:
            result = self.execute_cis_check(k8s_api_client, check)

            results['total_checks'] += 1

            if result['passed']:
                results['passed'] += 1
            else:
                results['failed'] += 1
                results['findings'].append({
                    'check_id': check['id'],
                    'title': check['title'],
                    'severity': check['severity'],
                    'description': check['description'],
                    'current_state': result['current_state'],
                    'expected_state': result['expected_state'],
                    'remediation': check['remediation']
                })

        results['compliance_score'] = (results['passed'] / results['total_checks']) * 100

        return results</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üè• Hardware Health Agent</span>
                        <span class="agent-status status-completed">T+40 sec - Predictive Hardware Failure Detection</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚Ä¢ Blades Checked: 120<br>
                            ‚Ä¢ Healthy: <span style="color: #00ff88;">115 (95.8%)</span><br>
                            ‚Ä¢ Warnings: <span style="color: #ffaa00;">3 (2.5%)</span><br>
                            ‚Ä¢ Critical: <span style="color: #ff4444;">2 (1.7%)</span><br>
                            <br>
                            <strong>Critical Issues:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Blade 23: DIMM A1 has 67 ECC errors (predictive failure in 7 days)<br>
                            &nbsp;&nbsp;‚Ä¢ Blade 89: Disk 0 has 25 reallocated sectors (pre-failure state)<br>
                            <br>
                            <strong>Warning Issues:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Blade 12: CPU temp 78¬∞C (warning threshold: 75¬∞C)<br>
                            &nbsp;&nbsp;‚Ä¢ Blade 45: DIMM B2 has 12 ECC errors (monitor closely)<br>
                            &nbsp;&nbsp;‚Ä¢ Blade 91: Disk 1 has 8 reallocated sectors (elevated risk)<br>
                            <br>
                            <span style="color: #ff4444;">‚ö† ACTION REQUIRED:</span> Schedule component replacements
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 3px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-completed">T+60 sec - Verification Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>INFRASTRUCTURE VERIFICATION REPORT:</strong><br>
                        <div style="background: #0d1a1a; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #44aaff;">
                            <div style="font-size: 16px; color: #44aaff; margin-bottom: 10px;">
                                <strong>Pre-Change Validation Status: NOT READY</strong>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #ff4444;">Blocking Issues (Must Fix Before Upgrade):</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px; line-height: 1.8;">
                                    1. <strong>Firmware Inconsistency:</strong> 15 UCS blades on old firmware<br>
                                    2. <strong>Config Drift:</strong> 8 ACI configuration deviations from golden config<br>
                                    3. <strong>CIS Compliance:</strong> 23 Kubernetes nodes missing security hardening<br>
                                    4. <strong>Hardware Predictive Failures:</strong> 2 components in pre-failure state
                                </div>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #00ff88;">Remediation Plan:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px; line-height: 1.8;">
                                    <strong>Phase 1 (Pre-Upgrade - 3 days):</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ Upgrade 15 UCS blades to standard firmware (4.2(3d))<br>
                                    &nbsp;&nbsp;‚Ä¢ Replace DIMM A1 on Blade 23, Disk 0 on Blade 89<br>
                                    &nbsp;&nbsp;‚Ä¢ Remediate 8 ACI config drift items (auto-remediation available)<br>
                                    <br>
                                    <strong>Phase 2 (Pre-Upgrade - 2 days):</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ Enable PodSecurityPolicy admission controller on all K8s nodes<br>
                                    &nbsp;&nbsp;‚Ä¢ Apply AppArmor profiles to pods<br>
                                    &nbsp;&nbsp;‚Ä¢ Disable service account token automount<br>
                                    <br>
                                    <strong>Phase 3 (Validation - 1 day):</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ Re-run full verification suite<br>
                                    &nbsp;&nbsp;‚Ä¢ Confirm all blocking issues resolved<br>
                                    &nbsp;&nbsp;‚Ä¢ Proceed with OS upgrade only if 100% pass rate
                                </div>
                            </div>

                            <div style="margin-bottom: 10px;">
                                <strong style="color: #ffaa00;">Risk Assessment:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px;">
                                    Proceeding with upgrade without remediation: <span style="color: #ff4444;">HIGH RISK</span><br>
                                    Estimated probability of upgrade failure: <span style="color: #ff4444;">45%</span><br>
                                    Recommendation: <span style="color: #00ff88;">DELAY UPGRADE - Complete remediation first</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: #0a0a0a; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #00ff88;">
                    <h3 style="color: #00ff88; margin-bottom: 15px;">Key Performance Indicators (KPIs)</h3>
                    <table style="width: 100%; border-collapse: collapse; color: #fff;">
                        <thead>
                            <tr style="background: #1a1a1a;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #333;">Metric</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Before AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">With AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Config Drift Incidents/Month</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">25</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">5</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 80%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Compliance Audit Prep Time</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">120 hours</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">12 hours</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 90%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Hardware Predictive Failures</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">0 detected</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">15 detected</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">N/A</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Pre-Change Validation Time</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">4 hours</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">15 minutes</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 94%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Firmware Inconsistencies</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">45 blades</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">2 blades</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 96%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Security Posture Score</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">72/100</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">94/100</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üë 22 points</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 15px; padding: 10px; background: #1a0a1a; border-radius: 5px;">
                        <strong>FCAPS Coverage:</strong> <span style="color: #00ff88;">C (Configuration)</span>, <span style="color: #ffaa00;">S (Security)</span>, <span style="color: #00aaff;">A (Accounting/Audit)</span>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">Report Delivered to Change Management</span>
                    </div>
                    <div class="agent-content">
                        ‚úÖ <strong>Verification Summary:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Overall Status: <span style="color: #ff4444;">NOT READY FOR UPGRADE</span><br>
                            ‚Ä¢ Compliance Score: 84.7% (Target: 95%+)<br>
                            ‚Ä¢ Config Drift Items: 8 (ACI)<br>
                            ‚Ä¢ Firmware Inconsistencies: 15 blades<br>
                            ‚Ä¢ Hardware Predictive Failures: 2 critical<br>
                            ‚Ä¢ CIS Compliance Failures: 23 findings<br>
                            ‚Ä¢ Remediation Timeline: 6 days<br>
                            ‚Ä¢ Report Filed: ServiceNow CHG-2024-12345<br>
                            ‚Ä¢ Recommendation: <strong>DELAY UPGRADE - Complete remediation first</strong>
                        </div>
                    </div>
                </div>
            </div>`
        ]
    },

    'service-verification': {
        title: 'Service Verification Testing',
        icon: 'üîç',
        description: 'Black box and white box testing for VMs, containers, databases, and message queues',
        initialQuery: 'Run comprehensive service verification tests',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üîç</span>
                    <h3 class="workflow-title">Use Case 5: Service Verification (Black Box &amp; White Box Testing)</h3>
                </div>

                <div style="background: #1a0a1a; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #44aaff;">
                    <h4 style="color: #44aaff; margin-bottom: 10px;">Real-World Scenario</h4>
                    <div style="color: #ccc;">
                        <strong>Situation:</strong> New Kubernetes-based microservices application deployed on ACI fabric with Cilium CNI. Before production release, need to validate: API functionality, network policies, pod-to-pod communication, database connectivity, performance under load, and eBPF datapath health.<br><br>
                        <strong>Trigger:</strong> Pre-Production Validation Request for "web-frontend" Service
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+0 sec - Test Request Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Input Source:</strong> CI/CD Pipeline (GitHub Actions)<br>
                        <strong>Service:</strong> web-frontend (Kubernetes deployment)<br>
                        <strong>Test Types:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ <strong>Black-Box:</strong> API health, load testing, service discovery<br>
                            ‚Ä¢ <strong>White-Box:</strong> Pod deployment, Cilium eBPF datapath, network policies
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Triggering Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-active">T+5 sec - Orchestrating Test Agents</span>
                    </div>
                    <div class="agent-content">
                        <strong>Test Agent Deployment:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì Spawning BLACKBOX_TESTING_AGENT<br>
                            ‚úì Spawning WHITEBOX_KUBERNETES_AGENT<br>
                            ‚úì Spawning CILIUM_EBPF_AGENT<br>
                            ‚úì Spawning NETWORK_POLICY_AGENT
                        </div>
                        <br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px;">
                            <em>All agents running test suites in parallel...</em>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">‚¨õ Black-Box Testing Agent</span>
                        <span class="agent-status status-completed">T+15 sec - External API Testing Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            <strong>Health Endpoint Test:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Status Code: <span style="color: #00ff88;">200 OK</span><br>
                            &nbsp;&nbsp;‚Ä¢ Response Time: <span style="color: #00ff88;">12ms avg</span><br>
                            &nbsp;&nbsp;‚Ä¢ Health Check: PASS<br>
                            <br>
                            <strong>Load Test Results (60 sec, 100 concurrent users):</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Total Requests: <span style="color: #00ff88;">5,432</span><br>
                            &nbsp;&nbsp;‚Ä¢ Successful: <span style="color: #00ff88;">5,429 (99.95%)</span><br>
                            &nbsp;&nbsp;‚Ä¢ Failed: <span style="color: #ffaa00;">3 (0.05%)</span><br>
                            &nbsp;&nbsp;‚Ä¢ Throughput: <span style="color: #00ff88;">90.5 RPS</span><br>
                            &nbsp;&nbsp;‚Ä¢ Latency P95: <span style="color: #00ff88;">45ms</span><br>
                            &nbsp;&nbsp;‚Ä¢ Latency P99: <span style="color: #00ff88;">78ms</span><br>
                            &nbsp;&nbsp;‚Ä¢ Error Rate: <span style="color: #00ff88;">0.05%</span> (Target: &lt;1%)<br>
                            <br>
                            <strong>Service Discovery Test:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ DNS Resolution: <span style="color: #00ff88;">PASS</span><br>
                            &nbsp;&nbsp;‚Ä¢ Service FQDN: web-frontend.default.svc.cluster.local<br>
                            &nbsp;&nbsp;‚Ä¢ Resolved IPs: 3 endpoints<br>
                            <br>
                            <span style="color: #00ff88;">‚úì BLACK-BOX TESTS:</span> PASS (99.95% success rate)
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># Black-Box Testing Agent - Load Test
import requests
import time
from concurrent.futures import ThreadPoolExecutor, as_completed

class BlackBoxTestingAgent:
    def load_test_api(self, endpoint, duration_seconds=60, concurrent_users=100):
        results = {
            'total_requests': 0,
            'successful_requests': 0,
            'failed_requests': 0,
            'response_times_ms': []
        }

        end_time = time.time() + duration_seconds

        def send_request():
            try:
                start = time.time()
                response = self.session.get(f"{self.base_url}{endpoint}", timeout=10)
                elapsed_ms = (time.time() - start) * 1000

                return {
                    'success': response.status_code == 200,
                    'status_code': response.status_code,
                    'response_time_ms': elapsed_ms
                }
            except Exception as e:
                return {'success': False, 'error': str(e)}

        # Execute concurrent requests
        with ThreadPoolExecutor(max_workers=concurrent_users) as executor:
            while time.time() &lt; end_time:
                futures = [executor.submit(send_request) for _ in range(concurrent_users)]

                for future in as_completed(futures):
                    result = future.result()
                    results['total_requests'] += 1

                    if result['success']:
                        results['successful_requests'] += 1
                        results['response_times_ms'].append(result['response_time_ms'])
                    else:
                        results['failed_requests'] += 1

        # Calculate statistics
        results['throughput_rps'] = results['successful_requests'] / duration_seconds
        results['error_rate_percent'] = (results['failed_requests'] / results['total_requests']) * 100

        return results</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">‚¨ú White-Box Kubernetes Agent</span>
                        <span class="agent-status status-completed">T+25 sec - Pod Deployment Internal Validation</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            <strong>Deployment Status:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Deployment: web-frontend<br>
                            &nbsp;&nbsp;‚Ä¢ Namespace: default<br>
                            &nbsp;&nbsp;‚Ä¢ Desired Replicas: <span style="color: #00ff88;">10</span><br>
                            &nbsp;&nbsp;‚Ä¢ Available Replicas: <span style="color: #00ff88;">10 (100%)</span><br>
                            &nbsp;&nbsp;‚Ä¢ All replicas ready: <span style="color: #00ff88;">PASS</span><br>
                            <br>
                            <strong>Pod Events Analysis:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Warning Events: <span style="color: #00ff88;">0</span><br>
                            &nbsp;&nbsp;‚Ä¢ Error Events: <span style="color: #00ff88;">0</span><br>
                            &nbsp;&nbsp;‚Ä¢ All pods healthy: <span style="color: #00ff88;">PASS</span><br>
                            <br>
                            <strong>Resource Utilization:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ CPU Usage: <span style="color: #00ff88;">45% avg</span> (within limits)<br>
                            &nbsp;&nbsp;‚Ä¢ Memory Usage: <span style="color: #00ff88;">62% avg</span> (within limits)<br>
                            &nbsp;&nbsp;‚Ä¢ Resource health: <span style="color: #00ff88;">PASS</span><br>
                            <br>
                            <span style="color: #00ff88;">‚úì WHITE-BOX KUBERNETES:</span> PASS (all checks passed)
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üêù Cilium eBPF Agent</span>
                        <span class="agent-status status-completed">T+35 sec - Network Policy &amp; eBPF Datapath Validation</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            <strong>Hubble Flow Analysis (last 60 seconds):</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Total Flows: <span style="color: #00ff88;">12,456</span><br>
                            &nbsp;&nbsp;‚Ä¢ Allowed (FORWARDED): <span style="color: #00ff88;">12,275 (98.5%)</span><br>
                            &nbsp;&nbsp;‚Ä¢ Denied (DROPPED): <span style="color: #ffaa00;">181 (1.5%)</span><br>
                            &nbsp;&nbsp;‚Ä¢ Denied flows analysis: All expected (external traffic blocked by policy)<br>
                            <br>
                            <strong>Network Policy Enforcement:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Policies Applied: <span style="color: #00ff88;">5 CiliumNetworkPolicies</span><br>
                            &nbsp;&nbsp;‚Ä¢ Policy Verdicts: <span style="color: #00ff88;">Correct (98.5% allowed as expected)</span><br>
                            &nbsp;&nbsp;‚Ä¢ Deny Rate: <span style="color: #00ff88;">1.5%</span> (Expected: &lt;10%)<br>
                            <br>
                            <strong>eBPF Datapath Health (all nodes):</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Nodes Checked: <span style="color: #00ff88;">45</span><br>
                            &nbsp;&nbsp;‚Ä¢ Healthy Nodes: <span style="color: #00ff88;">45 (100%)</span><br>
                            &nbsp;&nbsp;‚Ä¢ Cilium Agent Status: <span style="color: #00ff88;">OK on all nodes</span><br>
                            &nbsp;&nbsp;‚Ä¢ BPF Programs Loaded: <span style="color: #00ff88;">100%</span><br>
                            &nbsp;&nbsp;‚Ä¢ Connection Tracking: <span style="color: #00ff88;">12,456 entries</span><br>
                            <br>
                            <span style="color: #00ff88;">‚úì CILIUM eBPF DATAPATH:</span> PASS (all checks passed)
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># Cilium eBPF Agent - Hubble Flow Analysis
from hubble.observer_pb2 import GetFlowsRequest
from hubble.observer_pb2_grpc import ObserverStub
import grpc

class CiliumEBPFAgent:
    def test_cilium_network_policy_enforcement(self, namespace, pod_label):
        results = {
            'test': 'CILIUM_NETWORK_POLICY',
            'namespace': namespace,
            'pod_label': pod_label,
            'policy_verdicts': {
                'allowed': 0,
                'denied': 0
            },
            'sample_flows': []
        }

        # Query Hubble for recent flows
        request = GetFlowsRequest(
            whitelist=[f"source.namespace={namespace}", f"source.labels={pod_label}"],
            since="60s",
            follow=False
        )

        for response in self.hubble_observer.GetFlows(request):
            flow = response.flow

            verdict = str(flow.verdict)

            if 'FORWARDED' in verdict:
                results['policy_verdicts']['allowed'] += 1
            elif 'DROPPED' in verdict or 'DENIED' in verdict:
                results['policy_verdicts']['denied'] += 1

            # Collect sample flows
            if len(results['sample_flows']) &lt; 10:
                results['sample_flows'].append({
                    'source': f"{flow.source.namespace}/{flow.source.pod_name}",
                    'destination': f"{flow.destination.namespace}/{flow.destination.pod_name}",
                    'verdict': verdict,
                    'l4_protocol': 'TCP' if flow.l4.TCP else 'UDP',
                    'dest_port': (flow.l4.TCP.destination_port if flow.l4.TCP
                                 else flow.l4.UDP.destination_port)
                })

        # Analyze results
        total_flows = results['policy_verdicts']['allowed'] + results['policy_verdicts']['denied']

        if total_flows &gt; 0:
            results['deny_rate_percent'] = (results['policy_verdicts']['denied'] / total_flows) * 100

            # If deny rate is unexpectedly high, flag as potential issue
            if results['deny_rate_percent'] &gt; 10:
                results['status'] = 'WARNING'
            else:
                results['status'] = 'PASS'

        return results</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 3px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-completed">T+60 sec - Service Verification Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>SERVICE VERIFICATION REPORT:</strong><br>
                        <div style="background: #0d1a1a; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #00ff88;">
                            <div style="font-size: 16px; color: #00ff88; margin-bottom: 10px;">
                                <strong>Production Readiness Status: APPROVED</strong>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #00ff88;">Test Results Summary:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px; line-height: 1.8;">
                                    <strong>Black-Box Testing:</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ Health Endpoint: <span style="color: #00ff88;">‚úì PASS</span> (200 OK, 12ms avg)<br>
                                    &nbsp;&nbsp;‚Ä¢ Load Test: <span style="color: #00ff88;">‚úì PASS</span> (5,432 RPS, 99.95% success)<br>
                                    &nbsp;&nbsp;‚Ä¢ Service Discovery: <span style="color: #00ff88;">‚úì PASS</span> (DNS resolves to 3 endpoints)<br>
                                    <br>
                                    <strong>White-Box Testing:</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ Pod Deployment: <span style="color: #00ff88;">‚úì PASS</span> (10/10 replicas healthy)<br>
                                    &nbsp;&nbsp;‚Ä¢ Resource Usage: <span style="color: #00ff88;">‚úì PASS</span> (CPU 45%, Memory 62%)<br>
                                    &nbsp;&nbsp;‚Ä¢ Pod Events: <span style="color: #00ff88;">‚úì PASS</span> (No warnings)<br>
                                    <br>
                                    <strong>Cilium eBPF Testing:</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ Network Policy: <span style="color: #00ff88;">‚úì PASS</span> (98.5% flows allowed as expected)<br>
                                    &nbsp;&nbsp;‚Ä¢ eBPF Datapath: <span style="color: #00ff88;">‚úì PASS</span> (All 45 nodes healthy)<br>
                                    &nbsp;&nbsp;‚Ä¢ Hubble Observability: <span style="color: #00ff88;">‚úì PASS</span> (12,456 flows analyzed)
                                </div>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #00ff88;">Overall Assessment:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px; line-height: 1.8;">
                                    ‚Ä¢ Test Coverage: <span style="color: #00ff88;">92%</span> (Target: 80%+)<br>
                                    ‚Ä¢ Pass Rate: <span style="color: #00ff88;">100%</span> (All critical tests passed)<br>
                                    ‚Ä¢ Performance: <span style="color: #00ff88;">Exceeds targets</span> (P95: 45ms vs 100ms target)<br>
                                    ‚Ä¢ Reliability: <span style="color: #00ff88;">High</span> (99.95% success rate)<br>
                                    ‚Ä¢ Security: <span style="color: #00ff88;">Compliant</span> (Network policies enforced correctly)
                                </div>
                            </div>

                            <div style="margin-bottom: 10px;">
                                <strong style="color: #00ff88;">Recommendation:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px;">
                                    Service "web-frontend" is <span style="color: #00ff88;">APPROVED FOR PRODUCTION</span><br>
                                    Confidence Level: <span style="color: #00ff88;">HIGH (95%)</span><br>
                                    Risk Assessment: <span style="color: #00ff88;">LOW</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: #0a0a0a; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #00ff88;">
                    <h3 style="color: #00ff88; margin-bottom: 15px;">Key Performance Indicators (KPIs)</h3>
                    <table style="width: 100%; border-collapse: collapse; color: #fff;">
                        <thead>
                            <tr style="background: #1a1a1a;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #333;">Metric</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Before AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">With AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Service Deployment Failures</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">18%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">3%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 83%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Test Coverage</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">45%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">92%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üë 47pp</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Test Execution Time</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">6 hours</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">25 minutes</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 93%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>False Positive Rate</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">15%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">2%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 87%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Time to Production</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">14 days</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">5 days</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 64%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Post-Deployment Incidents</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">12/quarter</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">2/quarter</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 83%</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 15px; padding: 10px; background: #1a0a1a; border-radius: 5px;">
                        <strong>FCAPS Coverage:</strong> <span style="color: #00aaff;">P (Performance)</span>, <span style="color: #00ff88;">F (Fault)</span>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">Report Delivered to CI/CD Pipeline</span>
                    </div>
                    <div class="agent-content">
                        üîç <strong>Service Verification Summary:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Service: web-frontend<br>
                            ‚Ä¢ Overall Status: <span style="color: #00ff88;">APPROVED FOR PRODUCTION</span><br>
                            ‚Ä¢ Tests Passed: 100% (All critical tests)<br>
                            ‚Ä¢ Test Coverage: 92%<br>
                            ‚Ä¢ Performance: Exceeds SLA (P95: 45ms vs 100ms target)<br>
                            ‚Ä¢ Error Rate: 0.05% (Target: &lt;1%)<br>
                            ‚Ä¢ eBPF Datapath: Healthy on all 45 nodes<br>
                            ‚Ä¢ Network Policies: Correctly enforced<br>
                            ‚Ä¢ Confidence Level: HIGH (95%)<br>
                            ‚Ä¢ Report Filed: GitHub Actions Build #12345<br>
                            ‚Ä¢ Next Action: <strong>Deploy to Production</strong>
                        </div>
                    </div>
                </div>
            </div>`
        ]
    },

    'service-creation': {
        title: 'AI Service Creation Agent',
        icon: 'ü§ñ',
        description: 'Automatically generate self-service portals from API documentation',
        initialQuery: 'Create a self-service portal for L3VPN as a Service',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">ü§ñ</span>
                    <h3 class="workflow-title">Use Case 6: Service Creation Agent (Nexus Dashboard Integration)</h3>
                </div>

                <div style="background: #1a0a1a; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #44aaff;">
                    <h4 style="color: #44aaff; margin-bottom: 10px;">Real-World Scenario</h4>
                    <div style="color: #ccc;">
                        <strong>Situation:</strong> NetOps team wants to offer "L3VPN as a Service" via self-service portal. Needs to integrate with APIC REST API for tenant creation, EPG provisioning, contract application, and L3Out BGP peering. Traditional development would take 4-6 weeks. AI agent generates complete portal in 2 hours.<br><br>
                        <strong>Trigger:</strong> Service Portal Request - "L3VPN as a Service"
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">T+0 min - Service Portal Request Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Input:</strong> APIC OpenAPI/Swagger Specification<br>
                        <strong>Service Definition:</strong> L3VPN as a Service<br>
                        <strong>Requirements:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ React TypeScript frontend (Material-UI)<br>
                            ‚Ä¢ Python FastAPI backend<br>
                            ‚Ä¢ APIC API integration for tenant/VRF/L3Out creation<br>
                            ‚Ä¢ Form validation with Yup schema<br>
                            ‚Ä¢ Kubernetes deployment manifests
                        </div>
                        <br>
                        <div style="background: #0d1a0d; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Triggering Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-active">T+5 min - Orchestrating Service Creation Pipeline</span>
                    </div>
                    <div class="agent-content">
                        <strong>Service Creation Agent Deployment:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì Spawning API_ANALYSIS_AGENT<br>
                            ‚úì Spawning UI_GENERATION_AGENT<br>
                            ‚úì Spawning BACKEND_GENERATION_AGENT<br>
                            ‚úì Spawning CODE_GENERATION_AGENT<br>
                            ‚úì Spawning DEPLOYMENT_AGENT
                        </div>
                        <br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px;">
                            <em>All agents generating portal components in parallel...</em>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üìÑ API Analysis Agent</span>
                        <span class="agent-status status-completed">T+10 min - APIC API Spec Analyzed</span>
                    </div>
                    <div class="agent-content">
                        <strong>FINDINGS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            <strong>Service Definition - L3VPN as a Service:</strong><br>
                            <br>
                            <strong>Operation: create_l3vpn</strong><br>
                            &nbsp;&nbsp;‚Ä¢ Endpoint: /api/node/mo/uni/tn-{tenant}.json<br>
                            &nbsp;&nbsp;‚Ä¢ Method: POST<br>
                            &nbsp;&nbsp;‚Ä¢ Auth: APIC Cookie-based<br>
                            <br>
                            <strong>Parameters Extracted:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ tenant_name (string, required, 3-32 chars)<br>
                            &nbsp;&nbsp;‚Ä¢ vrf_name (string, required)<br>
                            &nbsp;&nbsp;‚Ä¢ bd_subnet (CIDR, required, e.g. 10.1.1.0/24)<br>
                            &nbsp;&nbsp;‚Ä¢ l3out_name (string, required)<br>
                            &nbsp;&nbsp;‚Ä¢ bgp_asn (integer, required, 1-4294967295)<br>
                            <br>
                            <strong>Additional Operations:</strong><br>
                            &nbsp;&nbsp;‚Ä¢ delete_l3vpn (DELETE)<br>
                            &nbsp;&nbsp;‚Ä¢ list_l3vpns (GET)<br>
                            <br>
                            <span style="color: #00ff88;">‚úì API ANALYSIS:</span> Complete - 3 operations, 5 parameters
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üíª UI Generation Agent</span>
                        <span class="agent-status status-completed">T+30 min - React TypeScript Components Generated</span>
                    </div>
                    <div class="agent-content">
                        <strong>GENERATED COMPONENTS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚úÖ CreateL3VPNForm.tsx (Material-UI form component)<br>
                            ‚úÖ L3VPNList.tsx (Data table with pagination)<br>
                            ‚úÖ L3VPNDashboard.tsx (Main dashboard)<br>
                            ‚úÖ Yup validation schema (form validation)<br>
                            <br>
                            <strong>Files Created: 12 TypeScript components</strong>
                        </div>
                        <div class="code-block">
                            <pre><code class="language-typescript">// Auto-generated by Service Creation Agent
// CreateL3VPNForm.tsx - React Component with Yup Validation

import React, { useState } from 'react';
import { TextField, Button, Card, Grid, Typography, Alert } from '@mui/material';
import { useFormik } from 'formik';
import * as Yup from 'yup';
import { ACIAPIClient } from './api-client';

interface CreateL3VPNFormProps {
  onSuccess?: (tenant: string) =&gt; void;
  onError?: (error: string) =&gt; void;
}

const CreateL3VPNForm: React.FC&lt;CreateL3VPNFormProps&gt; = ({ onSuccess, onError }) =&gt; {
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState&lt;string | null&gt;(null);

  const apiClient = new ACIAPIClient({
    baseUrl: process.env.REACT_APP_APIC_URL,
    apiKey: process.env.REACT_APP_APIC_KEY
  });

  // Form validation schema (auto-generated from API spec)
  const validationSchema = Yup.object({
    tenant_name: Yup.string()
      .matches(/^[a-zA-Z0-9_-]{3,32}$/, 'Tenant name must be 3-32 alphanumeric characters')
      .required('Tenant name is required'),
    vrf_name: Yup.string()
      .required('VRF name is required'),
    bd_subnet: Yup.string()
      .matches(/^([0-9]{1,3}\.){3}[0-9]{1,3}\/[0-9]{1,2}$/, 'Must be valid CIDR')
      .required('Bridge domain subnet is required'),
    l3out_name: Yup.string()
      .required('L3Out name is required'),
    bgp_asn: Yup.number()
      .min(1, 'BGP ASN must be &gt;= 1')
      .max(4294967295, 'BGP ASN must be &lt;= 4294967295')
      .required('BGP ASN is required')
  });

  const formik = useFormik({
    initialValues: {
      tenant_name: '',
      vrf_name: '',
      bd_subnet: '',
      l3out_name: '',
      bgp_asn: 65001
    },
    validationSchema: validationSchema,
    onSubmit: async (values) =&gt; {
      setLoading(true);
      setError(null);

      try {
        const result = await apiClient.createL3VPN({
          tenantName: values.tenant_name,
          vrfName: values.vrf_name,
          bdSubnet: values.bd_subnet,
          l3outName: values.l3out_name,
          bgpAsn: values.bgp_asn
        });

        if (onSuccess) {
          onSuccess(values.tenant_name);
        }

        formik.resetForm();
      } catch (err: any) {
        const errorMessage = err.response?.data?.imdata?.[0]?.error?.attributes?.text ||
                           err.message || 'Failed to create L3VPN tenant';
        setError(errorMessage);
        if (onError) {
          onError(errorMessage);
        }
      } finally {
        setLoading(false);
      }
    }
  });

  return (
    &lt;Card sx={{ p: 3, maxWidth: 800, margin: '0 auto' }}&gt;
      &lt;Typography variant="h5" gutterBottom&gt;
        Create New L3VPN Service
      &lt;/Typography&gt;
      {/* Form fields auto-generated based on API parameters */}
      &lt;form onSubmit={formik.handleSubmit}&gt;
        &lt;Grid container spacing={3}&gt;
          &lt;Grid item xs={12} md={6}&gt;
            &lt;TextField fullWidth id="tenant_name" name="tenant_name"
              label="Tenant Name" value={formik.values.tenant_name}
              onChange={formik.handleChange}
              error={formik.touched.tenant_name &amp;&amp; Boolean(formik.errors.tenant_name)}
              helperText={formik.touched.tenant_name &amp;&amp; formik.errors.tenant_name}
              disabled={loading} /&gt;
          &lt;/Grid&gt;
          {/* Additional fields for vrf_name, bd_subnet, l3out_name, bgp_asn */}
          &lt;Grid item xs={12}&gt;
            &lt;Button type="submit" variant="contained" fullWidth disabled={loading || !formik.isValid}&gt;
              {loading ? 'Creating L3VPN...' : 'Create L3VPN Service'}
            &lt;/Button&gt;
          &lt;/Grid&gt;
        &lt;/Grid&gt;
      &lt;/form&gt;
    &lt;/Card&gt;
  );
};

export default CreateL3VPNForm;</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîß Backend Generation Agent</span>
                        <span class="agent-status status-completed">T+45 min - Python API Client Generated</span>
                    </div>
                    <div class="agent-content">
                        <strong>GENERATED BACKEND:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚úÖ ACIAPIClient.py (Python APIC client)<br>
                            ‚úÖ Authentication flow (APIC cookie-based auth)<br>
                            ‚úÖ Error handling & retry logic<br>
                            ‚úÖ Webhook integrations<br>
                            <br>
                            <strong>Files Created: 8 Python modules</strong>
                        </div>
                        <div class="code-block">
                            <pre><code class="language-python"># Auto-generated by Service Creation Agent
# ACIAPIClient.py - Python API Client

import requests
import json
from typing import Dict, List, Optional
from datetime import datetime

class ACIAPIClient:
    """
    Auto-generated API client for Cisco ACI
    Provides methods for L3VPN service management
    """

    def __init__(self, base_url: str, username: str, password: str):
        self.base_url = base_url.rstrip('/')
        self.username = username
        self.password = password
        self.session = requests.Session()
        self.session.verify = False
        self.token = None
        self._authenticate()

    def _authenticate(self):
        """Authenticate to APIC and obtain token"""
        login_url = f"{self.base_url}/api/aaaLogin.json"
        payload = {
            "aaaUser": {
                "attributes": {
                    "name": self.username,
                    "pwd": self.password
                }
            }
        }

        response = self.session.post(login_url, json=payload)
        response.raise_for_status()

        self.token = response.json()['imdata'][0]['aaaLogin']['attributes']['token']
        self.session.cookies.set('APIC-cookie', self.token)

    def create_l3vpn(
        self,
        tenant_name: str,
        vrf_name: str,
        bd_subnet: str,
        l3out_name: str,
        bgp_asn: int
    ) -&gt; Dict:
        """
        Create new L3VPN tenant with EPGs and contracts

        Args:
            tenant_name: Unique tenant name
            vrf_name: VRF name for L3VPN
            bd_subnet: Bridge domain subnet (e.g., 10.1.1.0/24)
            l3out_name: L3Out for external connectivity
            bgp_asn: BGP AS number for peering

        Returns:
            API response with created tenant details
        """
        # Build ACI JSON payload
        payload = {
            "fvTenant": {
                "attributes": {
                    "name": tenant_name,
                    "descr": f"L3VPN Service - Created {datetime.now().isoformat()}"
                },
                "children": [
                    {
                        "fvCtx": {
                            "attributes": {
                                "name": vrf_name,
                                "pcEnfPref": "enforced"
                            }
                        }
                    },
                    {
                        "fvBD": {
                            "attributes": {
                                "name": f"{tenant_name}_BD",
                                "arpFlood": "yes"
                            },
                            "children": [
                                {
                                    "fvRsCtx": {
                                        "attributes": {
                                            "tnFvCtxName": vrf_name
                                        }
                                    }
                                },
                                {
                                    "fvSubnet": {
                                        "attributes": {
                                            "ip": bd_subnet,
                                            "scope": "public"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "l3extOut": {
                            "attributes": {
                                "name": l3out_name
                            },
                            "children": [
                                {
                                    "l3extRsEctx": {
                                        "attributes": {
                                            "tnFvCtxName": vrf_name
                                        }
                                    }
                                },
                                {
                                    "bgpExtP": {
                                        "attributes": {}
                                    }
                                }
                            ]
                        }
                    }
                ]
            }
        }

        url = f"{self.base_url}/api/node/mo/uni/tn-{tenant_name}.json"
        response = self.session.post(url, json=payload)
        response.raise_for_status()

        return response.json()

    def delete_l3vpn(self, tenant_name: str) -&gt; Dict:
        """Delete L3VPN tenant"""
        url = f"{self.base_url}/api/node/mo/uni/tn-{tenant_name}.json"
        response = self.session.delete(url)
        response.raise_for_status()
        return response.json()

    def list_l3vpns(self) -&gt; List[Dict]:
        """List all L3VPN tenants"""
        url = f"{self.base_url}/api/class/fvTenant.json"
        response = self.session.get(url)
        response.raise_for_status()

        tenants = response.json()['imdata']
        return [
            {
                'name': t['fvTenant']['attributes']['name'],
                'description': t['fvTenant']['attributes'].get('descr', ''),
                'dn': t['fvTenant']['attributes']['dn']
            }
            for t in tenants
        ]</code></pre>
                        </div>
                    </div>
                </div>

                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üöÄ Deployment Agent</span>
                        <span class="agent-status status-completed">T+90 min - Kubernetes Manifests Generated</span>
                    </div>
                    <div class="agent-content">
                        <strong>DEPLOYMENT ARTIFACTS:</strong><br>
                        <div style="background: #0a0a0a; padding: 12px; border-radius: 5px; margin: 10px 0; font-family: monospace; font-size: 13px;">
                            ‚úÖ Dockerfile (multi-stage build)<br>
                            ‚úÖ deployment.yaml (Kubernetes deployment)<br>
                            ‚úÖ service.yaml (Kubernetes service)<br>
                            ‚úÖ ingress.yaml (NGINX ingress)<br>
                            ‚úÖ configmap.yaml (environment configuration)<br>
                            ‚úÖ .github/workflows/ci-cd.yaml (GitHub Actions)<br>
                            <br>
                            <strong>Files Created: 15 deployment artifacts</strong>
                        </div>
                    </div>
                </div>

                <div class="agent-step" style="border: 3px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† Master Reasoning Agent (MRA)</span>
                        <span class="agent-status status-completed">T+120 min - Service Portal Generation Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>SERVICE PORTAL GENERATION REPORT:</strong><br>
                        <div style="background: #0d1a1a; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #00ff88;">
                            <div style="font-size: 16px; color: #00ff88; margin-bottom: 10px;">
                                <strong>Portal Generation Status: COMPLETE</strong>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #00ff88;">Generated Artifacts:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px; line-height: 1.8;">
                                    <strong>Frontend (React TypeScript):</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ 12 React components (Material-UI)<br>
                                    &nbsp;&nbsp;‚Ä¢ Yup validation schema<br>
                                    &nbsp;&nbsp;‚Ä¢ Formik form handling<br>
                                    &nbsp;&nbsp;‚Ä¢ TypeScript interfaces<br>
                                    <br>
                                    <strong>Backend (Python FastAPI):</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ 8 Python modules<br>
                                    &nbsp;&nbsp;‚Ä¢ APIC API client with authentication<br>
                                    &nbsp;&nbsp;‚Ä¢ Error handling & retry logic<br>
                                    &nbsp;&nbsp;‚Ä¢ Webhook integrations<br>
                                    <br>
                                    <strong>Deployment (Kubernetes):</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ Docker multi-stage build<br>
                                    &nbsp;&nbsp;‚Ä¢ K8s deployment, service, ingress<br>
                                    &nbsp;&nbsp;‚Ä¢ ConfigMaps for environment variables<br>
                                    &nbsp;&nbsp;‚Ä¢ GitHub Actions CI/CD pipeline<br>
                                    <br>
                                    <strong>Documentation:</strong><br>
                                    &nbsp;&nbsp;‚Ä¢ User guide (Markdown)<br>
                                    &nbsp;&nbsp;‚Ä¢ API documentation (Swagger)<br>
                                    &nbsp;&nbsp;‚Ä¢ Deployment guide
                                </div>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <strong style="color: #00ff88;">Code Statistics:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px; line-height: 1.8;">
                                    ‚Ä¢ Total Lines of Code: <span style="color: #00ff88;">8,743</span><br>
                                    ‚Ä¢ Components Generated: <span style="color: #00ff88;">35</span><br>
                                    ‚Ä¢ Test Coverage: <span style="color: #00ff88;">95%</span> (auto-generated unit tests)<br>
                                    ‚Ä¢ Documentation Pages: <span style="color: #00ff88;">12</span><br>
                                    ‚Ä¢ Generation Time: <span style="color: #00ff88;">2 hours</span>
                                </div>
                            </div>

                            <div style="margin-bottom: 10px;">
                                <strong style="color: #00ff88;">Time Comparison:</strong><br>
                                <div style="margin-left: 20px; margin-top: 5px;">
                                    Traditional Development: <span style="color: #ff4444;">4-6 weeks</span><br>
                                    AI-Generated Portal: <span style="color: #00ff88;">2 hours</span><br>
                                    Time Saved: <span style="color: #00ff88;">99% reduction</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: #0a0a0a; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #00ff88;">
                    <h3 style="color: #00ff88; margin-bottom: 15px;">Key Performance Indicators (KPIs)</h3>
                    <table style="width: 100%; border-collapse: collapse; color: #fff;">
                        <thead>
                            <tr style="background: #1a1a1a;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #333;">Metric</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Before AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">With AI</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #333;">Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Time to Create Service Portal</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">4-6 weeks</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">2 hours</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 99%</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Developer Effort</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">200 hours</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">5 hours</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 97%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Code Quality (Test Coverage)</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">60%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">95%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üë 35pp</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>API Integration Errors</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">15%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">1%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üì 93%</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Documentation Completeness</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">40%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">100%</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">‚Üë 60pp</td>
                            </tr>
                            <tr style="background: #111;">
                                <td style="padding: 10px; border: 1px solid #333;"><strong>Service Catalog Growth</strong></td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333;">2 services/qtr</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88;">15 services/qtr</td>
                                <td style="padding: 10px; text-align: center; border: 1px solid #333; color: #00ff88; font-weight: bold;">7.5x</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 15px; padding: 10px; background: #1a0a1a; border-radius: 5px;">
                        <strong>FCAPS Coverage:</strong> <span style="color: #00ff88;">C (Configuration)</span>, <span style="color: #00aaff;">A (Accounting/Service Catalog)</span>
                    </div>
                </div>

                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IOAgent</span>
                        <span class="agent-status status-completed">Portal Package Delivered to NetOps Team</span>
                    </div>
                    <div class="agent-content">
                        ü§ñ <strong>Service Portal Generation Summary:</strong><br>
                        <div style="margin-left: 20px; line-height: 1.8;">
                            ‚Ä¢ Service: L3VPN as a Service<br>
                            ‚Ä¢ Generation Time: <span style="color: #00ff88;">2 hours</span><br>
                            ‚Ä¢ Total Lines of Code: <span style="color: #00ff88;">8,743</span><br>
                            ‚Ä¢ Components Generated: <span style="color: #00ff88;">35</span><br>
                            ‚Ä¢ Test Coverage: <span style="color: #00ff88;">95%</span><br>
                            ‚Ä¢ Documentation: <span style="color: #00ff88;">Complete (12 pages)</span><br>
                            ‚Ä¢ Deployment Ready: <span style="color: #00ff88;">Yes (K8s + CI/CD)</span><br>
                            ‚Ä¢ GitHub Repository: <span style="color: #00ff88;">Ready to deploy</span><br>
                            ‚Ä¢ Time Saved vs Traditional: <span style="color: #00ff88;">4-6 weeks (99% reduction)</span><br>
                            ‚Ä¢ Next Action: <strong>Deploy to Kubernetes cluster</strong>
                        </div>
                    </div>
                </div>
            </div>`
        ]
    },

    'vm-management': {
        title: 'VM Lifecycle Management',
        icon: 'üíª',
        description: 'Intelligent VM provisioning, optimization, and lifecycle automation',
        initialQuery: 'Optimize VM resource allocation across clusters',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üíª</span>
                    <h3 class="workflow-title">Multi-Agent VM Optimization Pipeline</h3>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Request Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Input:</strong> VM Optimization Request<br>
                        <strong>Scope:</strong> 3,247 VMs across 85 hosts<br>
                        <strong>Goal:</strong> Optimize resource allocation<br>
                        <br>
                        <strong>üéØ MRA Selection:</strong> Routing to <code>VM_MRA</code><br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Initiating handoff to Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† VM_MRA</span>
                        <span class="agent-status status-active">Orchestrating Optimization</span>
                    </div>
                    <div class="agent-content">
                        <strong>VM Agent Deployment:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì VM_ANALYSIS_AGENT - Analyze usage<br>
                            ‚úì RIGHTSIZING_AGENT - Size optimization<br>
                            ‚úì PLACEMENT_AGENT - Host placement<br>
                            ‚úì MIGRATION_AGENT - Live migration<br>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üìä VM_ANALYSIS_AGENT</span>
                        <span class="agent-status status-completed">Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>VM Analysis:</strong><br>
                        ‚Ä¢ Idle VMs: 234 (>7 days inactive)<br>
                        ‚Ä¢ Oversized: 456 (using <30%)<br>
                        ‚Ä¢ Undersized: 89 (>90% usage)<br>
                        ‚Ä¢ Waste: $42,000/month<br>
                        <strong>‚Üí Reporting to MRA...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† VM_MRA</span>
                        <span class="agent-status status-completed">Optimization Plan Ready</span>
                    </div>
                    <div class="agent-content">
                        <strong>Optimization Actions:</strong><br>
                        ‚úÖ Right-size 456 VMs<br>
                        ‚úÖ Migrate 78 VMs for balance<br>
                        ‚úÖ Consolidate 45 low-usage VMs<br>
                        <strong>Savings: $67,000/month</strong><br>
                        <strong>‚Üê Sending plan to IO_AGENT...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Report Delivered</span>
                    </div>
                    <div class="agent-content">
                        üíª <strong>VM Optimization Complete:</strong><br>
                        ‚Ä¢ VMs Optimized: 578<br>
                        ‚Ä¢ Monthly Savings: $67k<br>
                        ‚Ä¢ Performance Gain: 23%<br>
                        ‚Ä¢ Zero Downtime Migration<br>
                        ‚Ä¢ Report Filed: Infrastructure Team
                    </div>
                </div>
            </div>`
        ]
    },

    'container-orchestration': {
        title: 'Container Orchestration',
        icon: 'üê≥',
        description: 'Kubernetes cluster management, scaling, and optimization',
        initialQuery: 'Analyze and optimize Kubernetes cluster performance',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üê≥</span>
                    <h3 class="workflow-title">Multi-Agent K8s Optimization</h3>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Request Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Input:</strong> K8s Cluster Optimization<br>
                        <strong>Cluster Size:</strong> 45 nodes, 2,847 pods<br>
                        <strong>Namespaces:</strong> 67 active<br>
                        <br>
                        <strong>üéØ MRA Selection:</strong> Routing to <code>K8S_MRA</code><br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Initiating handoff to Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† K8S_MRA</span>
                        <span class="agent-status status-active">Orchestrating Analysis</span>
                    </div>
                    <div class="agent-content">
                        <strong>K8s Agent Deployment:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì CLUSTER_AGENT - Cluster analysis<br>
                            ‚úì POD_OPTIMIZER - Pod optimization<br>
                            ‚úì HPA_TUNER - Autoscaling tuning<br>
                            ‚úì RESOURCE_AGENT - Resource limits<br>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">‚ò∏Ô∏è CLUSTER_AGENT</span>
                        <span class="agent-status status-completed">Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Cluster Status:</strong><br>
                        ‚Ä¢ CPU Utilization: 68%<br>
                        ‚Ä¢ Memory: 74%<br>
                        ‚Ä¢ Unused PVCs: 234 (2.3TB)<br>
                        ‚Ä¢ Pending Pods: 12<br>
                        <strong>‚Üí Reporting to MRA...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† K8S_MRA</span>
                        <span class="agent-status status-completed">Optimization Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Optimizations Applied:</strong><br>
                        ‚úÖ HPA tuned for 34 deployments<br>
                        ‚úÖ Resource limits adjusted<br>
                        ‚úÖ Pod distribution rebalanced<br>
                        ‚úÖ Unused PVCs cleaned<br>
                        <strong>Savings: $18,000/month</strong><br>
                        <strong>‚Üê Sending report to IO_AGENT...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Report Delivered</span>
                    </div>
                    <div class="agent-content">
                        üê≥ <strong>K8s Optimization Summary:</strong><br>
                        ‚Ä¢ Pods Optimized: 1,234<br>
                        ‚Ä¢ Storage Freed: 2.3TB<br>
                        ‚Ä¢ Cost Savings: $18k/month<br>
                        ‚Ä¢ Performance: +35%<br>
                        ‚Ä¢ Report Filed: Platform Team
                    </div>
                </div>
            </div>`
        ]
    },

    'database-optimization': {
        title: 'Database Performance Optimization',
        icon: 'üóÑÔ∏è',
        description: 'AI-driven database tuning, query optimization, and capacity planning',
        initialQuery: 'Optimize database performance and identify bottlenecks',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üóÑÔ∏è</span>
                    <h3 class="workflow-title">Multi-Agent Database Optimization</h3>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Request Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Input:</strong> Database Performance Optimization<br>
                        <strong>Databases:</strong> 23 production instances<br>
                        <strong>Types:</strong> PostgreSQL, MySQL, MongoDB<br>
                        <br>
                        <strong>üéØ MRA Selection:</strong> Routing to <code>DB_MRA</code><br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Initiating handoff to Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† DB_MRA</span>
                        <span class="agent-status status-active">Orchestrating Analysis</span>
                    </div>
                    <div class="agent-content">
                        <strong>Database Agent Deployment:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì QUERY_ANALYZER - Query analysis<br>
                            ‚úì INDEX_OPTIMIZER - Index tuning<br>
                            ‚úì CACHE_TUNER - Cache optimization<br>
                            ‚úì SCHEMA_ADVISOR - Schema review<br>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîç QUERY_ANALYZER</span>
                        <span class="agent-status status-completed">Analysis Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Query Analysis:</strong><br>
                        ‚Ä¢ Slow queries: 23 identified<br>
                        ‚Ä¢ Missing indexes: 15 critical<br>
                        ‚Ä¢ N+1 queries: 8 patterns<br>
                        ‚Ä¢ Cache hit rate: 45%<br>
                        <strong>‚Üí Reporting to MRA...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† DB_MRA</span>
                        <span class="agent-status status-completed">Optimization Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Optimizations Applied:</strong><br>
                        ‚úÖ Created 15 missing indexes<br>
                        ‚úÖ Rewrote 8 inefficient queries<br>
                        ‚úÖ Adjusted buffer pool size<br>
                        ‚úÖ Enabled query caching<br>
                        <strong>Performance: +65% improvement</strong><br>
                        <strong>‚Üê Sending report to IO_AGENT...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Report Delivered</span>
                    </div>
                    <div class="agent-content">
                        üóÑÔ∏è <strong>Database Optimization Summary:</strong><br>
                        ‚Ä¢ Query Latency: -65%<br>
                        ‚Ä¢ Throughput: +120%<br>
                        ‚Ä¢ CPU Usage: 85% ‚Üí 52%<br>
                        ‚Ä¢ Cache Hit: 45% ‚Üí 78%<br>
                        ‚Ä¢ Report Filed: DBA Team
                    </div>
                </div>
            </div>`
        ]
    },

    'network-automation': {
        title: 'Network Automation & SDN',
        icon: 'üåê',
        description: 'Software-defined networking, automated configuration, and optimization',
        initialQuery: 'Automate network configuration and optimize traffic flow',
        responses: [
            `<div class="agent-workflow">
                <div class="workflow-header">
                    <span class="workflow-icon">üåê</span>
                    <h3 class="workflow-title">Multi-Agent Network Orchestration</h3>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Request Received</span>
                    </div>
                    <div class="agent-content">
                        <strong>Input:</strong> Network Automation Request<br>
                        <strong>Scope:</strong> SDN configuration + optimization<br>
                        <strong>Devices:</strong> 145 switches, 23 routers<br>
                        <br>
                        <strong>üéØ MRA Selection:</strong> Routing to <code>NETWORK_MRA</code><br>
                        <div style="background: #1a0a1a; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <strong>‚Üí Initiating handoff to Master Reasoning Agent...</strong>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üß† NETWORK_MRA</span>
                        <span class="agent-status status-active">Orchestrating Automation</span>
                    </div>
                    <div class="agent-content">
                        <strong>Network Agent Deployment:</strong><br>
                        <div style="margin-left: 20px; color: #00ff88;">
                            ‚úì SDN_CONTROLLER - SDN management<br>
                            ‚úì CONFIG_AUTOMATION - Auto-config<br>
                            ‚úì TRAFFIC_OPTIMIZER - Flow optimization<br>
                            ‚úì SECURITY_POLICY - Policy enforcement<br>
                        </div>
                    </div>
                </div>
                
                <div class="agent-step">
                    <div class="agent-header">
                        <span class="agent-name">üîß CONFIG_AUTOMATION</span>
                        <span class="agent-status status-completed">Configuration Applied</span>
                    </div>
                    <div class="agent-content">
                        <strong>Automated Changes:</strong><br>
                        ‚úÖ VLANs provisioned: 12<br>
                        ‚úÖ BGP peers configured: 8<br>
                        ‚úÖ QoS policies: 23 services<br>
                        ‚úÖ Load balancing: 15 pools<br>
                        <strong>‚Üí Reporting to MRA...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00ff88;">
                    <div class="agent-header">
                        <span class="agent-name">üß† NETWORK_MRA</span>
                        <span class="agent-status status-completed">Automation Complete</span>
                    </div>
                    <div class="agent-content">
                        <strong>Network Optimization Results:</strong><br>
                        ‚úÖ Flow rules updated: 1,247<br>
                        ‚úÖ Traffic engineering applied<br>
                        ‚úÖ Micro-segmentation enabled<br>
                        <strong>Performance: Latency -15%</strong><br>
                        <strong>‚Üê Sending report to IO_AGENT...</strong>
                    </div>
                </div>
                
                <div class="agent-step" style="border: 2px solid #00aaff;">
                    <div class="agent-header">
                        <span class="agent-name">üì• IO_AGENT</span>
                        <span class="agent-status status-completed">Report Delivered</span>
                    </div>
                    <div class="agent-content">
                        üåê <strong>Network Automation Summary:</strong><br>
                        ‚Ä¢ Configs Automated: 168<br>
                        ‚Ä¢ Latency Reduced: 15%<br>
                        ‚Ä¢ Packet Loss: 0.001%<br>
                        ‚Ä¢ Bandwidth Optimized: +23%<br>
                        ‚Ä¢ Report Filed: Network Team
                    </div>
                </div>
            </div>`
        ]
    }
};
        let currentScenario = null;
        let messageHistory = [];

        // Initialize event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Add click handlers to scenario items
            document.querySelectorAll('.scenario-item').forEach(item => {
                item.addEventListener('click', function() {
                    const scenario = this.getAttribute('data-scenario');
                    loadScenario(scenario);
                });
            });

            // Enter key handler for input
            document.getElementById('userInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });

        function loadScenario(scenarioKey) {
            // Remove active class from all items
            document.querySelectorAll('.scenario-item').forEach(item => {
                item.classList.remove('active');
            });

            // Add active class to selected item
            document.querySelector(`[data-scenario="${scenarioKey}"]`).classList.add('active');

            // Get scenario data
            const scenario = scenarios[scenarioKey];
            currentScenario = scenarioKey;

            // Update UI
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('chatContainer').style.display = 'flex';
            document.getElementById('scenarioTitle').textContent = scenario.title;
            document.getElementById('scenarioIcon').textContent = scenario.icon;
            document.getElementById('scenarioDescription').textContent = scenario.description;

            // Clear chat and add initial message
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.innerHTML = '';
            messageHistory = [];

            // Add user's initial query
            addMessage(scenario.initialQuery, 'user');

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response after delay
            setTimeout(() => {
                hideTypingIndicator();
                addMessage(scenario.responses[0], 'assistant', true);
            }, 2000);
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();

            if (message === '') return;

            // Add user message
            addMessage(message, 'user');

            // Clear input
            input.value = '';

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response
            setTimeout(() => {
                hideTypingIndicator();
                
                let response = '';
                if (message.toLowerCase().includes('status')) {
                    response = `<div class="alert-box" style="border-color: #00ff88; background-color: #001a0f;">
                        <span class="alert-icon" style="color: #00ff88;">‚úÖ</span>
                        <div class="alert-content">
                            <div class="alert-title" style="color: #00ff88;">System Status: All Services Operational</div>
                            <div class="alert-description">All datacenter services are running within normal parameters. No incidents detected in the last 24 hours.</div>
                        </div>
                    </div>`;
                } else if (message.toLowerCase().includes('help')) {
                    response = `I can help you with:
                    <br>‚Ä¢ Incident management and resolution
                    <br>‚Ä¢ Capacity planning and optimization
                    <br>‚Ä¢ Infrastructure verification
                    <br>‚Ä¢ Service testing and validation
                    <br>‚Ä¢ Creating self-service portals
                    <br><br>What would you like to explore?`;
                } else {
                    response = `I'm analyzing your request: "${message}". Our AI agents are continuously monitoring and optimizing the datacenter infrastructure. Would you like me to run a specific analysis or test?`;
                }
                
                addMessage(response, 'assistant', true);
            }, 1500);
        }

        function addMessage(content, sender, isHTML = false) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            if (sender === 'assistant' && isHTML) {
                // For assistant messages with HTML, use streaming
                chatMessages.appendChild(messageDiv);
                streamHTMLContent(messageDiv, content);
            } else {
                // For user messages or plain text, add immediately
                if (isHTML) {
                    messageDiv.innerHTML = content;
                } else {
                    messageDiv.textContent = content;
                }
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            messageHistory.push({ content, sender });
        }
        
        // Stream HTML content with typing effect
        function streamHTMLContent(element, html) {
            const chatMessages = document.getElementById('chatMessages');
            // Split HTML into chunks for streaming
            const htmlChunks = splitHTMLToChunks(html, 5);
            let currentHTML = '';
            let chunkIndex = 0;
            
            // Helper function for random delays
            function getRandomDelay(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            
            // Function to process the next chunk with variable timing
            function processNextChunk() {
                if (chunkIndex < htmlChunks.length) {
                    currentHTML += htmlChunks[chunkIndex];
                    element.innerHTML = currentHTML;
                    chunkIndex++;
                    
                    // Auto-scroll to bottom
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    
                    // Decide on the delay for the next chunk
                    let nextDelay;
                    
                    // Every 10 chunks, pause for a bit longer to simulate thinking
                    if (chunkIndex % 10 === 0) {
                        nextDelay = getRandomDelay(300, 800);
                    } 
                    // Every 5 chunks, pause briefly
                    else if (chunkIndex % 5 === 0) {
                        nextDelay = getRandomDelay(150, 350);
                    }
                    // Regular typing speed
                    else {
                        nextDelay = getRandomDelay(70, 120);
                    }
                    
                    setTimeout(processNextChunk, nextDelay);
                }
            }
            
            // Start the processing
            processNextChunk();
        }
        
        // Function to split HTML into chunks while preserving tags
        function splitHTMLToChunks(html, chunkSize) {
            const result = [];
            let currentChunk = '';
            let inTag = false;
            
            for (let i = 0; i < html.length; i++) {
                const char = html[i];
                
                // Always add the current character to the chunk
                currentChunk += char;
                
                // If we're inside a tag, don't count it toward chunk size
                if (char === '<') {
                    inTag = true;
                } else if (char === '>') {
                    inTag = false;
                }
                
                // If we've reached chunk size and we're not inside a tag, add chunk to result
                if (currentChunk.length >= chunkSize && !inTag) {
                    result.push(currentChunk);
                    currentChunk = '';
                }
            }
            
            // Add the remaining chunk if there is any
            if (currentChunk) {
                result.push(currentChunk);
            }
            
            return result;
        }

        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = '<span></span><span></span><span></span>';
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }
    </script>
</body>
</html>