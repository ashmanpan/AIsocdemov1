<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cisco-Agentic-AI-NOC-Telco-Demo-V7 (100% Workflow Compliance)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        body {
            background-color: #0a0a0a;
            color: #ffffff;
            min-height: 100vh;
        }
        
        .navbar {
            background-color: #111111;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #333;
            position: relative;
        }
        
        .home-button {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 20px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            color: #000;
            text-decoration: none;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .home-button:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo img {
            height: 35px;
            width: 70px;
        }
        
        .logo-text {
            font-size: 20px;
            font-weight: 600;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .version-badge {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }
        
        .main-container {
            display: flex;
            height: calc(100vh - 65px);
        }
        
        .sidebar {
            width: 320px;
            background-color: #111111;
            border-right: 1px solid #333;
            overflow-y: auto;
        }
        
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }
        
        .sidebar::-webkit-scrollbar-thumb {
            background-color: #444;
            border-radius: 3px;
        }
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #333;
        }
        
        .sidebar-title {
            font-size: 18px;
            font-weight: 500;
            color: #fff;
            margin-bottom: 10px;
        }
        
        .sidebar-subtitle {
            font-size: 12px;
            color: #888;
        }
        
        .scenario-list {
            list-style: none;
            padding: 10px;
        }
        
        .scenario-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            background-color: #1a1a1a;
            border: 1px solid #333;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .scenario-item:hover {
            background-color: #252525;
            border-color: #00ff88;
            transform: translateX(5px);
        }
        
        .scenario-item.active {
            background-color: #002b36;
            border-color: #00ff88;
        }
        
        .scenario-icon {
            font-size: 20px;
        }
        
        .scenario-text {
            flex: 1;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background-color: #0a0a0a;
            overflow: hidden;
        }
        
        .welcome-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 40px;
            text-align: center;
        }
        
        .ai-logo {
            width: 150px;
            height: 150px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .ai-logo svg {
            width: 100%;
            height: 100%;
        }
        
        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border: 2px solid #00ff88;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 0;
            }
        }
        
        .welcome-heading {
            font-size: 36px;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome-subtext {
            color: #888;
            font-size: 18px;
            max-width: 600px;
            line-height: 1.6;
        }
        
        .chat-container {
            display: none;
            flex-direction: column;
            height: 100%;
            padding: 20px;
        }
        
        .chat-header {
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
            margin-bottom: 20px;
        }
        
        .chat-title {
            font-size: 24px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-description {
            color: #888;
            font-size: 14px;
        }
        
        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 10px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-messages::-webkit-scrollbar-thumb {
            background-color: #444;
            border-radius: 3px;
        }
        
        .message {
            padding: 15px;
            border-radius: 12px;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .user-message {
            background-color: #002b36;
            border: 1px solid #00ff88;
            color: #fff;
            align-self: flex-end;
        }
        
        .assistant-message {
            background-color: #111111;
            border: 1px solid #333;
            color: #fff;
            align-self: flex-start;
        }
        
        .input-container {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            padding-top: 20px;
            border-top: 1px solid #333;
        }
        
        .input-field {
            flex: 1;
            padding: 12px 20px;
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 25px;
            color: #fff;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #00ff88;
        }
        
        .send-button {
            padding: 12px 24px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            border: none;
            border-radius: 25px;
            color: #000;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .send-button:hover {
            transform: scale(1.05);
        }
        
        .typing-indicator {
            display: inline-block;
            padding: 15px 20px;
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 12px;
            align-self: flex-start;
        }
        
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #00ff88;
            border-radius: 50%;
            margin-right: 5px;
            animation: typing 1.5s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.3s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.6s;
            margin-right: 0;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        /* NOC Agent response styles */
        .agent-workflow {
            background-color: #0a1014;
            border: 1px solid #00ff88;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .workflow-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }
        
        .workflow-icon {
            font-size: 24px;
        }
        
        .workflow-title {
            font-size: 20px;
            color: #00ff88;
            font-weight: 600;
        }
        
        .agent-step {
            margin-bottom: 15px;
            padding: 15px;
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .agent-step:hover {
            border-color: #00ff88;
            transform: translateX(5px);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .agent-name {
            font-weight: 600;
            color: #00aaff;
        }
        
        .agent-status {
            margin-left: auto;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-active {
            background-color: #00ff88;
            color: #000;
        }
        
        .status-completed {
            background-color: #0088ff;
            color: #fff;
        }
        
        .agent-content {
            font-size: 14px;
            line-height: 1.6;
            color: #ddd;
        }
        
        .detection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .detection-card {
            background-color: #111111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            transition: border-color 0.3s ease;
        }
        
        .detection-card:hover {
            border-color: #00ff88;
        }
        
        .detection-title {
            font-size: 14px;
            color: #00ff88;
            margin-bottom: 8px;
        }
        
        .detection-value {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
        }
        
        .detection-details {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }
        
        .alert-box {
            background-color: #1a0a0a;
            border: 1px solid #ff6600;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .alert-icon {
            font-size: 24px;
            color: #ff6600;
        }
        
        .alert-content {
            flex: 1;
        }
        
        .alert-title {
            font-size: 16px;
            color: #ff6600;
            margin-bottom: 5px;
        }
        
        .alert-description {
            font-size: 14px;
            color: #ccc;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .action-button {
            padding: 10px 20px;
            border-radius: 6px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-primary {
            background: linear-gradient(45deg, #00ff88, #00aaff);
            color: #000;
        }
        
        .action-secondary {
            background-color: transparent;
            border: 1px solid #00ff88;
            color: #00ff88;
        }
        
        .action-danger {
            background-color: #ff0044;
            color: #fff;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }
        
        /* NOC-specific styles */
        .root-container {
            color: #fff;
        }
        
        .root-container h3 {
            color: #00ff88;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .root-container p {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .root-container ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .root-container li {
            margin-bottom: 5px;
        }
        
        .progress-container {
            width: 100%;
            margin: 10px 0;
        }
        
        .progress-bar {
            height: 6px;
            background-color: #1a1a1a;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00aaff);
            transition: width 0.3s ease;
        }
        
        .status-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            margin-right: 5px;
        }
        
        .status-critical {
            background-color: #ff0044;
            color: #fff;
        }
        
        .status-warning {
            background-color: #ff6600;
            color: #fff;
        }
        
        .status-success {
            background-color: #00ff88;
            color: #000;
        }
        
        .status-info {
            background-color: #00aaff;
            color: #fff;
        }
        
        .highlight {
            background-color: #333;
            padding: 2px 6px;
            border-radius: 4px;
            color: #00ff88;
        }
        
        .warning {
            color: #ff6600;
            font-weight: 600;
        }
        
        .success {
            color: #00ff88;
            font-weight: 600;
        }
        
        .table-container {
            width: 100%;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background-color: #111111;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #333;
        }
        
        .data-table th {
            background-color: #1a1a1a;
            font-weight: 600;
            color: #00ff88;
        }
        
        .data-table tbody tr:hover {
            background-color: #1a1a1a;
        }
        
        .chart-container {
            width: 100%;
            height: 120px;
            margin: 15px 0;
            position: relative;
            background-color: #111111;
            border-radius: 8px;
            padding: 10px;
        }
        
        .chart-bar {
            position: absolute;
            bottom: 30px;
            width: 24px;
            background-color: #00aaff;
            border-radius: 3px 3px 0 0;
        }
        
        .chart-label {
            position: absolute;
            bottom: 10px;
            text-align: center;
            font-size: 10px;
            color: #888;
            width: 24px;
        }
        
        /* Additional NOC workflow styles */
        .compact-list {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .compact-list li {
            margin-bottom: 3px;
            font-size: 13px;
        }
        
        .agent-transfer {
            margin-top: 10px;
            padding: 8px;
            background-color: #0a0a0a;
            border-left: 3px solid #00ff88;
            border-radius: 0 4px 4px 0;
        }
        
        .arrow {
            color: #00ff88;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .completed {
            opacity: 0.9;
        }
        
        .highlight-step {
            border-color: #ff6600 !important;
            background-color: #1a1a0a;
        }
        
        .multi-transfer {
            margin-top: 10px;
        }
        
        .finding-summary {
            margin-top: 10px;
        }
        
        .finding-tag {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .finding-good {
            background-color: #00ff88;
            color: #000;
        }
        
        .finding-issue {
            background-color: #ff6600;
            color: #fff;
        }
        
        .finding-critical {
            background-color: #ff0044;
            color: #fff;
        }
        
        .metric-list li {
            margin-bottom: 5px;
        }
        
        .normal-value {
            color: #00ff88;
            font-weight: 600;
        }
        
        .problem-value {
            color: #ff0044;
            font-weight: 600;
        }
        
        .change-details {
            background-color: #0a0a0a;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 3px solid #ff6600;
        }
        
        .remediation-phase {
            margin-bottom: 15px;
        }
        
        .phase-tag {
            background-color: #00ff88;
            color: #000;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-right: 10px;
        }

        code {
            background-color: #1a1a1a;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            color: #00ff88;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <img src="ciscologo.jpg" alt="Cisco Logo">
            <span class="logo-text">Cisco Agentic AI - NOC Demo</span>
            <span class="version-badge">v7</span>
        </div>
        <a href="https://allinone.ciscoaidemo.com" class="home-button">🏠 Back to Home</a>
        <div class="actions">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#00ff88" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 17L12 22L22 17" stroke="#00ff88" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 12L12 17L22 12" stroke="#00ff88" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
    </div>
    
    <div class="main-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">Telco AI NOC Scenarios</h2>
                <p class="sidebar-subtitle">13 Scenarios • 5G/4G • Network Operations • Performance Analysis</p>
            </div>
            <ul class="scenario-list">
                <li class="scenario-item" data-scenario="packet-loss">
                    <span class="scenario-icon">📊</span>
                    <span class="scenario-text">Packet Loss Investigation</span>
                </li>
                <li class="scenario-item" data-scenario="firewall-config">
                    <span class="scenario-icon">🔥</span>
                    <span class="scenario-text">Firewall Configuration Analysis</span>
                </li>
                <li class="scenario-item" data-scenario="network-latency">
                    <span class="scenario-icon">⚡</span>
                    <span class="scenario-text">Network Latency Analysis</span>
                </li>
                <li class="scenario-item" data-scenario="router-troubleshooting">
                    <span class="scenario-icon">🔧</span>
                    <span class="scenario-text">Router Troubleshooting</span>
                </li>
                <li class="scenario-item" data-scenario="app-performance">
                    <span class="scenario-icon">🏆</span>
                    <span class="scenario-text">Application Performance RCA</span>
                </li>
                <li class="scenario-item" data-scenario="capacity-planning">
                    <span class="scenario-icon">📈</span>
                    <span class="scenario-text">Network Capacity Planning</span>
                </li>
                <li class="scenario-item" data-scenario="sdwan-optimization">
                    <span class="scenario-icon">🌐</span>
                    <span class="scenario-text">SD-WAN Performance Optimization</span>
                </li>
                <li class="scenario-item" data-scenario="security-breach">
                    <span class="scenario-icon">🚨</span>
                    <span class="scenario-text">Security Breach Detection</span>
                </li>
                <li class="scenario-item" data-scenario="router-upgrade">
                    <span class="scenario-icon">🔄</span>
                    <span class="scenario-text">Router Upgrade Resilience</span>
                </li>
                <li class="scenario-item" data-scenario="slow-response">
                    <span class="scenario-icon">🛤️</span>
                    <span class="scenario-text">Intermittent Slow Response</span>
                </li>
                <li class="scenario-item" data-scenario="config-audit">
                    <span class="scenario-icon">🔍</span>
                    <span class="scenario-text">Config Audit & Resiliency Assessment</span>
                </li>
                <li class="scenario-item" data-scenario="recommendations-mitigation">
                    <span class="scenario-icon">💡</span>
                    <span class="scenario-text">AI-Driven Recommendations & Mitigation</span>
                </li>
                <li class="scenario-item" data-scenario="scheduled-migration">
                    <span class="scenario-icon">📅</span>
                    <span class="scenario-text">Scheduled Migration & Change Management</span>
                </li>
            </ul>
        </div>
        
        <div class="content">
            <div class="welcome-screen" id="welcome-screen">
                <div class="ai-logo">
                    <div class="pulse-ring"></div>
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00ff88;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00aaff;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="50" cy="50" r="45" fill="none" stroke="url(#gradient)" stroke-width="2" opacity="0.8" />
                        <circle cx="50" cy="50" r="35" fill="none" stroke="url(#gradient)" stroke-width="2" opacity="0.6" />
                        <circle cx="50" cy="50" r="25" fill="none" stroke="url(#gradient)" stroke-width="2" opacity="0.4" />
                        <circle cx="50" cy="50" r="15" fill="url(#gradient)" opacity="0.8" />
                    </svg>
                </div>
                <h1 class="welcome-heading">AI-Powered Network Operations</h1>
                <p class="welcome-subtext">
                    Experience next-generation network monitoring and troubleshooting powered by collaborative AI agents. 
                    Select a scenario to see how AI transforms network operations from reactive to proactive.
                </p>
            </div>
            
            <div class="chat-container" id="chat-screen">
                <div class="chat-header">
                    <h2 class="chat-title" id="chat-title">
                        <span id="chat-icon">📊</span>
                        <span id="chat-title-text">AI Network Analysis</span>
                    </h2>
                    <p class="chat-description" id="chat-description">AI agents are analyzing the scenario...</p>
                </div>
                
                <div class="chat-messages" id="chat-messages">
                    <!-- Messages will be dynamically added here -->
                </div>
                
                <div class="input-container">
                    <input type="text" class="input-field" id="chat-input" placeholder="Ask about the network analysis...">
                    <button class="send-button" id="send-button">Analyze</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Scenario data and responses
        const scenarios = {
            'packet-loss': {
                title: 'Packet Loss Investigation',
                icon: '📊',
                description: 'Investigating intermittent packet loss on telco core network',
                initialQuery: 'Show AI-Driven Packet Loss Investigation',
                responses: [
                    `<!-- SCENARIO 1: PACKET LOSS INVESTIGATION -->


<div class="root-container">
  <h3>Packet Loss Investigation</h3>
  <p><strong>Complete 25-Step Workflow: Alert → Investigation → Resolution → Verification</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: ALERT/TICKET GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">MONITORING_SYSTEM → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Alert Generated from Network Monitoring:</strong></p>
        <ul class="compact-list">
          <li>⏰ Alert Time: 2025-10-17 09:15:23 AM</li>
          <li>🔍 Alert Source: SolarWinds NPM</li>
          <li>⚠️ Alert Type: Packet Loss Threshold Exceeded</li>
          <li>🔴 Severity: HIGH</li>
          <li>📍 Affected Devices: 5 remote sites → DC-CORE-SW-01</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#67891</span></li>
            <li>Category: Network Performance</li>
            <li>Subcategory: Packet Loss</li>
            <li>Priority: P2 - High</li>
            <li>Auto-assigned to: Network Operations Team</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES TICKET -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #67891 Received - Initial Problem Statement:</strong></p>
        <div class="change-details">
          <p><strong>Reported By:</strong> XYZ Corp NOC (Automated Alert + User Report)</p>
          <p><strong>Affected Entity:</strong> XYZ Corporation</p>
          <p><strong>Department:</strong> IT Operations - 5 Remote Sites</p>
          <p><strong>Users Impacted:</strong> ~200 users across remote sites</p>
          <p><strong>Initial Problem Description:</strong></p>
          <p>"Multiple users reporting intermittent slowness and application timeouts. Monitoring shows 5-8% packet loss occurring every 30-45 minutes across all remote sites connecting to primary data center. Issue started at 09:15 AM today."</p>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering additional context before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS CLARIFYING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Asking Clarifying Questions:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which specific sites are experiencing packet loss?</strong></p>
            <p class="answer">A1: All 5 remote sites: Chicago, Dallas, Seattle, Denver, Boston</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Are all applications affected or specific ones?</strong></p>
            <p class="answer">A2: All applications affected - CRM (Salesforce), Email (Office 365), File sharing (SMB), VoIP calls</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: When exactly did the packet loss symptoms begin? Is this the first occurrence?</strong></p>
            <p class="answer">A3: Started at 09:15 AM today. Pattern repeats every 30-45 minutes. This has been happening for the past 3 hours.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: What is the business impact? Any critical services down?</strong></p>
            <p class="answer">A4: High business impact - VoIP calls dropping (customer service affected), CRM response times 3-5 seconds (normal: <1 sec), file transfers timing out</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: Have there been any recent network changes or maintenance?</strong></p>
            <p class="answer">A5: No scheduled changes. Last maintenance was 2 weeks ago (unrelated router firmware update)</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: PROBLEM CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Problem Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Problem Type</td>
                <td>Network Performance Degradation</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>Intermittent Packet Loss</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Multiple Sites (WAN)</td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td>Recurring (30-45 min intervals)</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P2 - High</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Escalating to <strong>MASTER_REASONING_AGENT</strong> for systematic investigation
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Investigation:</strong></p>
        <div class="change-details">
          <p><strong>Ticket Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ Intermittent packet loss with regular intervals suggests scheduled processes or capacity issues</li>
            <li>✓ Affecting all remote sites indicates common path or centralized component</li>
            <li>✓ All applications impacted rules out application-specific issues</li>
            <li>✓ Recent start time (09:15 AM) suggests correlation with business hours activity</li>
          </ul>
          <p><strong>Investigation Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for network topology and device configurations</li>
            <li>2. Search RAG system for similar historical incidents</li>
            <li>3. Perform three-source analysis (Problem + KG + RAG)</li>
            <li>4. Deploy specialized agents for targeted investigation</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for Network Context:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: Network Topology</strong></p>
          <ul class="compact-list">
            <li>✓ Retrieved: XYZ Corp network diagram</li>
            <li>✓ 5 Remote sites: CHI-SITE-01, DAL-SITE-01, SEA-SITE-01, DEN-SITE-01, BOS-SITE-01</li>
            <li>✓ MPLS WAN connecting to primary DC (10.1.0.0/16)</li>
            <li>✓ DC routers: DC-RTR-01 (10.1.1.1), DC-RTR-02 (10.1.1.2) - HSRP active</li>
            <li>✓ Core switches: CORE-SW-01 (10.1.2.1 - ACTIVE), CORE-SW-02 (10.1.2.2 - STANDBY)</li>
          </ul>
          <p><strong>Query 2: Device Configurations</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Device</th>
                  <th>Model</th>
                  <th>OS Version</th>
                  <th>Key Config</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>CORE-SW-01</td>
                  <td>Cisco Catalyst 9500</td>
                  <td>IOS-XE 17.6.3</td>
                  <td>HSRP Priority: 110 (Active)</td>
                </tr>
                <tr>
                  <td>GigE 0/1/0</td>
                  <td>Uplink Interface</td>
                  <td>1 Gbps</td>
                  <td>Buffer: 64KB (default)</td>
                </tr>
                <tr>
                  <td>GigE 0/1/1-2</td>
                  <td>Access Interfaces</td>
                  <td>1 Gbps each</td>
                  <td>No QoS policies</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: Protocol States</strong></p>
          <ul class="compact-list">
            <li>✓ OSPF: All adjacencies UP (Area 0)</li>
            <li>✓ BGP: All peers established</li>
            <li>✓ HSRP: CORE-SW-01 active, CORE-SW-02 standby (normal)</li>
            <li>✓ MPLS: All LSPs operational</li>
          </ul>
          <p><strong>Query 4: Historical Interface Statistics (Past 7 Days)</strong></p>
          <ul class="metric-list">
            <li>Avg Utilization: <span class="normal-value">35-45%</span> (normal hours)</li>
            <li>Peak Utilization: <span class="warning">85-95%</span> (daily 09:00-11:00)</li>
            <li>Input Errors: <span class="success">0</span></li>
            <li>Output Drops: <span class="problem-value">Spikes to 1,200-1,500</span> during peak</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-warning">High Utilization Pattern Detected</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Similar Incidents and Solutions:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "intermittent packet loss + buffer exhaustion + recurring pattern"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Similarity</th>
                  <th>Problem</th>
                  <th>Resolution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>TKT-45621</td>
                  <td><span class="success">89%</span></td>
                  <td>Packet loss during backup window</td>
                  <td>Buffer tuning + traffic shaping</td>
                </tr>
                <tr>
                  <td>TKT-39012</td>
                  <td><span class="success">76%</span></td>
                  <td>Recurring drops every 30 min</td>
                  <td>Traffic shaping policy applied</td>
                </tr>
                <tr>
                  <td>TKT-29834</td>
                  <td><span class="warning">68%</span></td>
                  <td>WAN congestion 09:00-11:00</td>
                  <td>Backup schedule changed</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Troubleshooting Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>Buffer_Tuning_Best_Practices.pdf</strong> (Cisco Doc ID: 118632)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Recommends 128KB-256KB buffers for bursty traffic on 1G interfaces</li>
            <li>📄 <strong>QoS_Design_Guide_Enterprise.pdf</strong> (Cisco Press 2024)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Traffic shaping policies for backup traffic: Limit to 60-70% of link capacity</li>
            <li>📄 <strong>Packet_Loss_Troubleshooting_Flowchart.pdf</strong> (Internal KB-8821)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Step-by-step guide: Check buffers → QoS → scheduling</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 3 similar incidents resolved with traffic shaping + buffer tuning</li>
            <li>✓ Common root cause: Uncontrolled backup traffic during business hours</li>
            <li>✓ Recommended fix: Immediate traffic shaping, long-term schedule change</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">High Confidence Pattern Match</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Problem Statement:</strong></p>
            <ul class="compact-list">
              <li>Intermittent 5-8% packet loss</li>
              <li>Recurring every 30-45 minutes</li>
              <li>Affecting all 5 remote sites</li>
              <li>Started 09:15 AM, during business hours</li>
              <li>All applications impacted (CRM, Email, VoIP, File sharing)</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>Traffic flows through CORE-SW-01 (active HSRP)</li>
              <li>GigE 0/1/0: 64KB buffers (default)</li>
              <li>Historical data: 85-95% utilization 09:00-11:00 daily</li>
              <li>Output drops spike to 1,200-1,500 during peak</li>
              <li>No QoS policies configured</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>89% similarity to TKT-45621 (backup traffic issue)</li>
              <li>Historical resolution: Traffic shaping + buffer tuning</li>
              <li>Common pattern: Uncontrolled backup traffic</li>
              <li>Best practice: Limit backup to 60-70% link capacity</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Hypothesis:</strong> Scheduled backup operations consuming excessive bandwidth on CORE-SW-01 GigE 0/1/0, causing buffer exhaustion and packet drops. Need to verify with specialized agents.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Targeted Investigation:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">🗺️</div>
            <div class="deployment-name">TOPOLOGY_AGENT</div>
            <div class="deployment-task">Verify traffic paths</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📊</div>
            <div class="deployment-name">TRAFFIC_ANALYSIS_AGENT</div>
            <div class="deployment-task">Analyze traffic patterns</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔌</div>
            <div class="deployment-name">INTERFACE_STATS_AGENT</div>
            <div class="deployment-task">Check interface health</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💾</div>
            <div class="deployment-name">BUFFER_ANALYSIS_AGENT</div>
            <div class="deployment-task">Analyze buffer configs</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔧</div>
            <div class="deployment-name">ROOT_CAUSE_AGENT</div>
            <div class="deployment-task">Correlate all findings</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💡</div>
            <div class="deployment-name">RECOMMENDATIONS_AGENT</div>
            <div class="deployment-task">Generate remediation plan</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: TOPOLOGY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🗺️</span>
        <span class="agent-name">TOPOLOGY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Topology Verification via Knowledge Graph & MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved stored topology (last updated: 2025-10-15)</li>
            <li>🔌 <strong>MCP NETCONF:</strong> Live routing tables from DC-RTR-01, DC-RTR-02</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show cdp neighbors from CORE-SW-01</li>
          </ul>
          <p><strong>Traffic Path Analysis:</strong></p>
          <ul class="compact-list">
            <li>Remote Sites → MPLS Cloud → DC-RTR-01 (10.1.1.1)</li>
            <li>DC-RTR-01 → CORE-SW-01 GigE 0/1/0 (1 Gbps uplink)</li>
            <li>CORE-SW-01 → Internal servers via GigE 0/1/1-2</li>
            <li><strong>Bottleneck Identified:</strong> All 5 sites converge on single GigE 0/1/0 interface</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ All routing paths established correctly</li>
          <li>✅ HSRP failover ready (CORE-SW-02 standby)</li>
          <li>✅ No routing loops detected</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>⚠️ Single point of convergence (GigE 0/1/0) - potential bottleneck</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-warning">Potential Bottleneck: GigE 0/1/0</span>
        </div>
      </div>
    </div>

    <!-- Continue with remaining steps in next part due to length... -->
    <!-- This file demonstrates the structure. Full implementation continues similarly -->

  </div>
</div>

<style>
  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    color: #00ff88;
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #888;
  }
</style>

    <!-- STEP 11: TRAFFIC_ANALYSIS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📊</span>
        <span class="agent-name">TRAFFIC_ANALYSIS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Traffic Pattern Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved 7-day traffic baseline from data warehouse</li>
            <li>🔌 <strong>MCP IPFIX/NetFlow:</strong> Real-time flow data from CORE-SW-01</li>
            <li>🔌 <strong>MCP SNMP:</strong> Interface utilization counters (5-min granularity)</li>
          </ul>
          <p><strong>Traffic Analysis Results:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Time Window</th>
                  <th>Traffic Volume</th>
                  <th>Top Protocol</th>
                  <th>Utilization</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>00:00-08:00</td>
                  <td>150-200 Mbps</td>
                  <td>HTTPS (40%)</td>
                  <td><span class="success">15-20%</span></td>
                </tr>
                <tr>
                  <td>08:00-09:00</td>
                  <td>400-500 Mbps</td>
                  <td>HTTPS (50%)</td>
                  <td><span class="success">40-50%</span></td>
                </tr>
                <tr>
                  <td>09:00-11:00</td>
                  <td>920-950 Mbps</td>
                  <td>SMB/CIFS (65%)</td>
                  <td><span class="problem-value">92-95%</span></td>
                </tr>
                <tr>
                  <td>11:00-17:00</td>
                  <td>450-550 Mbps</td>
                  <td>HTTPS (55%)</td>
                  <td><span class="success">45-55%</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Key Finding:</strong> SMB/CIFS (file sharing protocol) traffic spikes to 65% of total during 09:00-11:00 window.</p>
          <p><strong>Source IP Analysis:</strong></p>
          <ul class="compact-list">
            <li>Top talker: 10.100.50.10 (Backup Server) → 620 Mbps</li>
            <li>Destinations: All 5 remote sites (120-130 Mbps each)</li>
            <li>Pattern: Scheduled backup operations</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Normal business hours traffic: 400-550 Mbps</li>
          <li>✅ Application mix appropriate outside backup window</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Backup traffic: 620 Mbps during business hours</li>
          <li>❌ Total traffic 950 Mbps on 1G interface (95% utilization)</li>
          <li>❌ Correlation confirmed: Backup window = packet loss window</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Backup Traffic Correlation Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: INTERFACE_STATS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔌</span>
        <span class="agent-name">INTERFACE_STATS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Interface Health Check via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP NETCONF:</strong> ietf-interfaces module from CORE-SW-01</li>
            <li>🔌 <strong>MCP SNMP:</strong> IF-MIB interface statistics</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show interface GigabitEthernet 0/1/0</li>
          </ul>
          <p><strong>Interface GigE 0/1/0 Statistics:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Current Value</th>
                  <th>Threshold</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Input Errors</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>CRC Errors</td>
                  <td>0</td>
                  <td>< 5</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Output Drops</td>
                  <td>1,247 (past hour)</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-critical">CRITICAL</span></td>
                </tr>
                <tr>
                  <td>Buffer Overruns</td>
                  <td>1,247</td>
                  <td>< 5</td>
                  <td><span class="status-tag status-critical">CRITICAL</span></td>
                </tr>
                <tr>
                  <td>Collisions</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Physical Layer:</strong> Link up, Full-duplex, 1000 Mbps, Copper</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ GigE 0/1/1: Clean (0 errors, 0 drops)</li>
          <li>✅ GigE 0/1/2: Clean (0 errors, 0 drops)</li>
          <li>✅ Physical layer healthy on GigE 0/1/0</li>
          <li>✅ No input errors (excludes upstream issues)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ GigE 0/1/0: Output drops = 1,247 (past hour)</li>
          <li>❌ Buffer overruns = 1,247 (exactly matching drops)</li>
          <li>❌ Drop rate: 8.2% during peak periods</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Buffer Overruns Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: BUFFER_ANALYSIS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💾</span>
        <span class="agent-name">BUFFER_ANALYSIS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Buffer Configuration & Utilization Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved buffer config from device inventory</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show controllers GigabitEthernet 0/1/0</li>
            <li>🔌 <strong>RAG Query:</strong> "buffer sizing + 1G interface + bursty traffic"</li>
          </ul>
          <p><strong>Current Buffer Configuration:</strong></p>
          <ul class="metric-list">
            <li>Buffer Size: <span class="problem-value">64 KB</span> (default)</li>
            <li>Buffer Type: FIFO (no priority queuing)</li>
            <li>Queue Depth: 512 packets</li>
            <li>Current Utilization: <span class="problem-value">98-100%</span> during peak</li>
          </ul>
          <p><strong>RAG Best Practices Comparison:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Parameter</th>
                  <th>Current</th>
                  <th>Recommended</th>
                  <th>Reason</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Buffer Size</td>
                  <td><span class="problem-value">64 KB</span></td>
                  <td><span class="success">128-256 KB</span></td>
                  <td>Bursty traffic absorption</td>
                </tr>
                <tr>
                  <td>Queue Type</td>
                  <td><span class="problem-value">FIFO</span></td>
                  <td><span class="success">WFQ/CBWFQ</span></td>
                  <td>Traffic prioritization</td>
                </tr>
                <tr>
                  <td>Traffic Shaping</td>
                  <td><span class="problem-value">None</span></td>
                  <td><span class="success">Enabled</span></td>
                  <td>Rate limiting backup traffic</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Calculation:</strong> At 950 Mbps on 1G interface, with 950ms bursts, minimum buffer = 118 KB needed (current: 64 KB = insufficient)</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Buffer size adequate for normal traffic (400-550 Mbps)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Buffer size insufficient for burst traffic (950 Mbps)</li>
          <li>❌ No traffic shaping to control bursts</li>
          <li>❌ FIFO queuing cannot prioritize critical traffic</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Buffer Exhaustion Root Cause</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💬</span>
        <span class="agent-name">AGENT_COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Inter-Agent Communication & Task Delegation:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p><strong>Exchange 1:</strong></p>
            <p class="collab-from">🗺️ TOPOLOGY_AGENT → 📊 TRAFFIC_ANALYSIS_AGENT:</p>
            <p class="collab-message">"I've identified GigE 0/1/0 as the convergence point. Can you analyze traffic patterns specifically on this interface during 09:00-11:00 window?"</p>
            <p class="collab-response">📊 Response: "Confirmed. Focusing NetFlow analysis on GigE 0/1/0. Will correlate with packet loss timing."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 2:</strong></p>
            <p class="collab-from">📊 TRAFFIC_ANALYSIS_AGENT → 🔌 INTERFACE_STATS_AGENT:</p>
            <p class="collab-message">"Seeing 950 Mbps on GigE 0/1/0 during 09:00-11:00. Suspect buffer issues. Can you check output drops and buffer overruns on this specific interface?"</p>
            <p class="collab-response">🔌 Response: "Will prioritize GigE 0/1/0. Querying SNMP counters now."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 3:</strong></p>
            <p class="collab-from">🔌 INTERFACE_STATS_AGENT → 💾 BUFFER_ANALYSIS_AGENT:</p>
            <p class="collab-message">"Confirmed 1,247 buffer overruns on GigE 0/1/0. Output drops match exactly. Need buffer config analysis. What's the current buffer size and is it adequate for 950 Mbps bursts?"</p>
            <p class="collab-response">💾 Response: "Checking buffer config now. Will compare against best practices for bursty traffic."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 4:</strong></p>
            <p class="collab-from">💾 BUFFER_ANALYSIS_AGENT → 📊 TRAFFIC_ANALYSIS_AGENT:</p>
            <p class="collab-message">"Buffer size is 64 KB (default). Calculation shows need for 118 KB at 950 Mbps. Can you identify what traffic is causing the 950 Mbps burst?"</p>
            <p class="collab-response">📊 Response: "Identified: 620 Mbps from backup server (10.100.50.10) using SMB/CIFS protocol to all 5 remote sites."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 5:</strong></p>
            <p class="collab-from">📊 TRAFFIC_ANALYSIS_AGENT → 🔧 ROOT_CAUSE_AGENT:</p>
            <p class="collab-message">"All evidence points to scheduled backup traffic. Buffer exhaustion confirmed by BUFFER_ANALYSIS_AGENT. Ready for correlation."</p>
            <p class="collab-response">🔧 Response: "Acknowledged. Collecting all findings for root cause determination."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Dynamic Task Adjustment:</strong></p>
            <ul class="compact-list">
              <li>✓ TOPOLOGY_AGENT narrowed focus to GigE 0/1/0 based on traffic data</li>
              <li>✓ INTERFACE_STATS_AGENT prioritized buffer counters based on traffic analysis</li>
              <li>✓ BUFFER_ANALYSIS_AGENT added burst calculation based on traffic volume</li>
              <li>✓ All agents converged on backup traffic hypothesis</li>
            </ul>
          </div>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Collaborating Effectively</span>
        </div>
      </div>
    </div>

    <!-- STEP 15: ROOT_CAUSE_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">ROOT_CAUSE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Root Cause Analysis - Correlating All Agent Findings:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Compilation:</strong></p>
          <ul class="compact-list">
            <li>✓ TOPOLOGY_AGENT: All traffic converges on GigE 0/1/0</li>
            <li>✓ TRAFFIC_ANALYSIS_AGENT: 620 Mbps backup traffic 09:00-11:00</li>
            <li>✓ INTERFACE_STATS_AGENT: 1,247 output drops = buffer overruns</li>
            <li>✓ BUFFER_ANALYSIS_AGENT: 64 KB buffers insufficient for 950 Mbps</li>
            <li>✓ RAG Historical Data: 89% similarity to TKT-45621 (backup issue)</li>
          </ul>
          <p><strong>Timeline Correlation:</strong></p>
          <ul class="metric-list">
            <li>09:15 AM: Backup starts → Traffic spikes to 950 Mbps</li>
            <li>09:16 AM: Buffer exhaustion → Packet drops begin (8.2%)</li>
            <li>09:17 AM: User reports → VoIP calls drop, apps slow</li>
            <li>Pattern repeats: Every 30-45 minutes for 3 hours</li>
          </ul>
        </div>
        <p><strong>Root Cause Statement:</strong></p>
        <div class="rca-box">
          <p><strong>PRIMARY ROOT CAUSE:</strong></p>
          <p>Scheduled backup operations from backup server (10.100.50.10) to 5 remote sites consuming 620 Mbps of 1 Gbps link capacity on CORE-SW-01 interface GigE 0/1/0, combined with normal business traffic (330 Mbps), results in 95% utilization and buffer exhaustion on default 64 KB buffers, causing 8.2% packet loss.</p>
          <p><strong>CONTRIBUTING FACTORS:</strong></p>
          <ul class="compact-list">
            <li>1. No traffic shaping policy to limit backup traffic</li>
            <li>2. Backup scheduled during business hours (09:00-11:00)</li>
            <li>3. Default buffer size (64 KB) inadequate for burst traffic</li>
            <li>4. FIFO queuing cannot prioritize critical traffic (VoIP, CRM)</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Root Cause Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CORRELATION ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Correlation Analysis - Symptoms vs. Causes:</strong></p>
        <div class="change-details">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Severity</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting slow applications</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>VoIP calls dropping</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Time-sensitive traffic affected</td>
                </tr>
                <tr>
                  <td>5-8% packet loss</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Network-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 buffer overruns</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Device-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 output drops</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Direct result of buffer exhaustion</td>
                </tr>
                <tr>
                  <td>95% interface utilization</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Causes buffer pressure</td>
                </tr>
                <tr>
                  <td>620 Mbps backup traffic</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>High</td>
                  <td>Major bandwidth consumer</td>
                </tr>
                <tr>
                  <td>64 KB buffer (insufficient)</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Cannot absorb bursts</td>
                </tr>
                <tr>
                  <td>Backup during business hours</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Triggers the issue</td>
                </tr>
                <tr>
                  <td>No traffic shaping policy</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Allows uncontrolled traffic</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with backup traffic schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with backup traffic schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Task Assignment (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Task Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Root cause clearly identified: Backup traffic during business hours without traffic shaping</p>
          <p>✓ All specialized agents have completed their investigations</p>
          <p>✓ Findings are conclusive and correlated</p>
          <p>✓ Sufficient data collected from KG, RAG, and MCP servers</p>
          <p><strong>Decision: No additional investigation tasks required. Proceeding directly to resolution recommendations.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear RCA Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: ROOT CAUSE ANALYSIS - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 ROOT CAUSE ANALYSIS STATEMENT</h3>
          <p><strong>Primary Root Cause:</strong></p>
          <p class="highlight">The 5-8% packet loss across all remote sites is caused by <strong>uncontrolled backup traffic (620 Mbps) consuming 95% of the 650 Mbps WAN link capacity during business hours (09:00-11:00 AM)</strong>, combined with <strong>absence of traffic shaping/QoS policies</strong> to prioritize business-critical traffic.</p>

          <p><strong>Contributing Factors:</strong></p>
          <ul class="compact-list">
            <li>• Insufficient buffer size (64 KB) on interface GigE 0/1/0 cannot absorb traffic bursts</li>
            <li>• No bandwidth reservation for business-critical applications</li>
            <li>• Backup schedule overlaps with peak business hours</li>
            <li>• Single point of convergence (GigE 0/1/0) for all remote site traffic</li>
          </ul>

          <p><strong>Evidence Supporting RCA:</strong></p>
          <ul class="compact-list">
            <li>✓ NetFlow data shows 620 Mbps backup traffic (95% utilization) during packet loss window</li>
            <li>✓ Interface statistics show 1,247 buffer overruns correlating with packet loss</li>
            <li>✓ Packet loss (5-8%) occurs ONLY during 09:00-11:00 backup window</li>
            <li>✓ Historical tickets (TKT-45621, TKT-38904) show identical pattern and resolution</li>
            <li>✓ 100% repeatable pattern - issue resolves when backup completes at 11:00 AM</li>
          </ul>

          <p><strong>Business Impact:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: VoIP call quality degraded (5-8% packet loss exceeds 1% threshold)</li>
            <li>🟡 Medium: Video conferencing disruptions reported by users</li>
            <li>🟡 Medium: Database synchronization delays affecting applications</li>
            <li>⏱️ Duration: 2 hours daily (09:00-11:00 AM) - 10 hours/week productivity impact</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: RECOMMENDATIONS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">STEP 19: RECOMMENDATIONS_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved best practice QoS templates for Cisco routers</li>
          <li>📚 RAG Query: Retrieved 3 successful resolution playbooks from similar tickets</li>
          <li>🔧 MCP Server: Retrieved current QoS configuration (none configured)</li>
        </ul>

        <div class="info-box">
          <h3>🎯 THREE-PHASE REMEDIATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 30 minutes)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Implement Traffic Shaping Policy on GigE 0/1/0</strong></p>
            <ul class="compact-list">
              <li>✓ Limit backup traffic to 40% of link capacity (260 Mbps)</li>
              <li>✓ Reserve 50% for business-critical traffic (325 Mbps)</li>
              <li>✓ Reserve 10% for network management (65 Mbps)</li>
              <li>⏱️ Deployment time: 5 minutes via NETCONF</li>
              <li>📊 Expected impact: Reduce packet loss from 8% to <0.5%</li>
            </ul>

            <p><strong>Action 1.2 - Increase Interface Buffer Size</strong></p>
            <ul class="compact-list">
              <li>✓ Increase GigE 0/1/0 buffer from 64 KB to 256 KB</li>
              <li>✓ Enable weighted fair queueing (WFQ)</li>
              <li>⏱️ Deployment time: 3 minutes via NETCONF</li>
              <li>📊 Expected impact: Eliminate buffer overruns</li>
            </ul>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 24 hours)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - Reschedule Backup Window</strong></p>
            <ul class="compact-list">
              <li>✓ Move backup from 09:00-11:00 AM to 01:00-03:00 AM (off-peak)</li>
              <li>✓ Coordinate with backup team and change management</li>
              <li>⏱️ Implementation: Tonight 8:00 PM</li>
              <li>📊 Expected impact: Eliminate daytime congestion entirely</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Comprehensive QoS Implementation</strong></p>
            <ul class="compact-list">
              <li>✓ Deploy class-based QoS across all WAN interfaces</li>
              <li>✓ Implement priority queuing for VoIP (guaranteed bandwidth)</li>
              <li>✓ Implement DSCP marking for application prioritization</li>
              <li>⏱️ Rollout: Phased deployment over 2 weeks</li>
            </ul>

            <p><strong>Action 3.2 - WAN Link Capacity Upgrade</strong></p>
            <ul class="compact-list">
              <li>✓ Evaluate upgrade from 650 Mbps to 1 Gbps MPLS link</li>
              <li>✓ Cost-benefit analysis vs. SD-WAN implementation</li>
              <li>⏱️ Timeline: 30-day evaluation period</li>
            </ul>

            <p><strong>Action 3.3 - Enhanced Monitoring</strong></p>
            <ul class="compact-list">
              <li>✓ Implement real-time bandwidth utilization alerts (>80% threshold)</li>
              <li>✓ Enable NetFlow collection on all WAN interfaces</li>
              <li>✓ Create dashboard for QoS queue statistics</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Traffic shaping policy</td>
              <td><span class="success">LOW</span></td>
              <td>Non-disruptive, can adjust limits</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Buffer size increase</td>
              <td><span class="success">LOW</span></td>
              <td>No downtime required</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Backup rescheduling</td>
              <td><span class="warning">MEDIUM</span></td>
              <td>Test backup completion before production</td>
              <td>N/A (schedule change)</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ Packet loss reduced to <0.1% on all remote site links</li>
          <li>✓ Zero buffer overruns on GigE 0/1/0</li>
          <li>✓ VoIP call quality score >4.0 (MOS)</li>
          <li>✓ Business-critical traffic receives guaranteed bandwidth</li>
          <li>✓ No user complaints during backup window</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: RECOMMENDATIONS_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the solution design based on RCA findings, KG best practices, and RAG historical resolutions. I recommend proceeding with PHASE 1 immediate actions (traffic shaping + buffer increase) to provide rapid relief within 30 minutes."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase remediation plan</li>
            <li>📄 NETCONF configuration snippets for deployment</li>
            <li>📄 Risk assessment matrix</li>
            <li>📄 Success criteria and verification tests</li>
            <li>📄 Rollback procedures</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (John Smith):</strong></p>
          <p>"John, our AI agents have completed the investigation of ticket #67891 (packet loss issue)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: Backup traffic consuming 95% of WAN link without traffic control</li>
            <li>📊 Impact: 5-8% packet loss during 09:00-11:00 AM daily</li>
            <li>⏱️ Affecting: All 5 remote sites (Chicago, Dallas, Seattle, Denver, Boston)</li>
          </ul>

          <p><strong>Recommended Immediate Solution (PHASE 1):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Deploy traffic shaping policy to limit backup traffic to 260 Mbps (40%)</li>
            <li>2️⃣ Increase buffer size from 64 KB to 256 KB on interface GigE 0/1/0</li>
            <li>⏱️ Total deployment time: ~8 minutes</li>
            <li>📉 Expected result: Packet loss reduced from 8% to <0.5%</li>
            <li>🔄 Rollback time: 2 minutes if any issues occur</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve the deployment of PHASE 1 immediate actions?</strong></p>
            <p class="answer">✅ A1: Yes, approved. Please proceed immediately.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: What is your preferred maintenance window for deployment?</strong></p>
            <p class="answer">✅ A2: Deploy now (10:45 AM) - users are already experiencing issues, so minimal additional risk.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Should we proceed with PHASE 2 (backup rescheduling) tonight at 8:00 PM?</strong></p>
            <p class="answer">✅ A3: Yes, coordinate with backup team. I'll approve the change request.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Who should receive the final resolution report?</strong></p>
            <p class="answer">✅ A4: Send to me (john.smith@xyzcorp.com) and CC network-ops@xyzcorp.com</p>
          </div>
        </div>
        <p><strong>✅ User Permission Granted: Proceeding to deployment phase</strong></p>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Configuration Deployment</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Initiated - Deployment Plan:</strong></p>
        <ul class="compact-list">
          <li>🎯 Target Device: RTR-CORE-01 (Interface GigE 0/1/0)</li>
          <li>🔧 Deployment Method: NETCONF over SSH (Port 830)</li>
          <li>⏱️ Start Time: 2025-10-17 10:47:15 AM</li>
          <li>👤 Authorized By: John Smith (john.smith@xyzcorp.com)</li>
          <li>🎫 Change Ticket: CHG-2025-1017-001</li>
        </ul>

        <div class="deployment-box">
          <p><strong>📝 ACTION 1: Deploy Traffic Shaping Policy</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;policy&gt;
      &lt;policy-map&gt;
        &lt;name&gt;WAN-TRAFFIC-SHAPING&lt;/name&gt;
        &lt;class&gt;
          &lt;name&gt;BACKUP-TRAFFIC&lt;/name&gt;
          &lt;police&gt;
            &lt;rate&gt;260000000&lt;/rate&gt;  &lt;!-- 260 Mbps --&gt;
            &lt;burst&gt;8000000&lt;/burst&gt;
            &lt;conform-action&gt;transmit&lt;/conform-action&gt;
            &lt;exceed-action&gt;drop&lt;/exceed-action&gt;
          &lt;/police&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;BUSINESS-CRITICAL&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;50&lt;/percent&gt;  &lt;!-- 325 Mbps reserved --&gt;
          &lt;/bandwidth&gt;
          &lt;priority&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;NETWORK-MGMT&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;10&lt;/percent&gt;  &lt;!-- 65 Mbps reserved --&gt;
          &lt;/bandwidth&gt;
        &lt;/class&gt;
      &lt;/policy-map&gt;
    &lt;/policy&gt;
    &lt;interface&gt;
      &lt;GigabitEthernet&gt;
        &lt;name&gt;0/1/0&lt;/name&gt;
        &lt;service-policy&gt;
          &lt;output&gt;WAN-TRAFFIC-SHAPING&lt;/output&gt;
        &lt;/service-policy&gt;
      &lt;/GigabitEthernet&gt;
    &lt;/interface&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:18 - NETCONF session established to RTR-CORE-01</li>
            <li>⏱️ 10:47:22 - Configuration validated (no syntax errors)</li>
            <li>⏱️ 10:47:25 - Policy-map WAN-TRAFFIC-SHAPING created</li>
            <li>⏱️ 10:47:28 - Classes configured: BACKUP-TRAFFIC, BUSINESS-CRITICAL, NETWORK-MGMT</li>
            <li>⏱️ 10:47:31 - Service policy applied to GigE 0/1/0 output</li>
            <li>✅ 10:47:33 - <strong>ACTION 1 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <div class="deployment-box">
          <p><strong>📝 ACTION 2: Increase Interface Buffer Size</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;interface&gt;
      &lt;GigabitEthernet&gt;
        &lt;name&gt;0/1/0&lt;/name&gt;
        &lt;hold-queue&gt;256&lt;/hold-queue&gt;  &lt;!-- 256 KB buffer --&gt;
        &lt;tx-ring-limit&gt;512&lt;/tx-ring-limit&gt;
        &lt;fair-queue&gt;
          &lt;weight&gt;true&lt;/weight&gt;  &lt;!-- Enable WFQ --&gt;
        &lt;/fair-queue&gt;
      &lt;/GigabitEthernet&gt;
    &lt;/interface&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:35 - Applying buffer configuration to GigE 0/1/0</li>
            <li>⏱️ 10:47:38 - Hold-queue increased from 64 to 256 packets</li>
            <li>⏱️ 10:47:41 - TX ring limit set to 512</li>
            <li>⏱️ 10:47:43 - Weighted Fair Queuing (WFQ) enabled</li>
            <li>✅ 10:47:45 - <strong>ACTION 2 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <p><strong>📊 Post-Deployment Verification:</strong></p>
        <ul class="compact-list">
          <li>✅ Configuration committed to device running-config</li>
          <li>✅ Configuration saved to startup-config (automatic backup)</li>
          <li>✅ NETCONF session closed gracefully</li>
          <li>⏱️ Total Deployment Time: 30 seconds</li>
          <li>🎉 <strong>PHASE 1 DEPLOYMENT COMPLETE - No errors encountered</strong></li>
        </ul>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Verifying</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Executing Post-Deployment Tests:</strong></p>
        <p>⏱️ Verification Start Time: 2025-10-17 10:48:00 AM (15 seconds after deployment)</p>

        <div class="verification-box">
          <p><strong>TEST 1: Verify Traffic Shaping Policy Active</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">RTR-CORE-01# show policy-map interface GigE 0/1/0

GigabitEthernet0/1/0
  Service-policy output: WAN-TRAFFIC-SHAPING
    Class-map: BACKUP-TRAFFIC (match-any)
      Police: 260000000 bps, 8000000 byte burst
        Conformed: 245321 packets, 253.4 Mbps
        Exceeded: 8932 packets (dropped)
        Conform rate: 95.2% | Exceed rate: 4.8%

    Class-map: BUSINESS-CRITICAL (match-any)
      Bandwidth: 50% (325 Mbps guaranteed)
        Packets: 182934 packets, 298.7 Mbps
        Priority queue: Active

    Class-map: NETWORK-MGMT (match-any)
      Bandwidth: 10% (65 Mbps guaranteed)
        Packets: 15432 packets, 18.3 Mbps</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Traffic shaping policy actively policing traffic</p>
          <ul class="compact-list">
            <li>✓ Backup traffic limited to 253.4 Mbps (target: 260 Mbps)</li>
            <li>✓ Business-critical traffic receiving guaranteed bandwidth</li>
            <li>✓ Policy already dropping excess backup packets (8,932 dropped)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 2: Verify Buffer Configuration</strong></p>
          <p><strong>MCP Server Query (NETCONF):</strong></p>
          <pre class="code-block">RTR-CORE-01# show interfaces GigE 0/1/0 | include queue
  Output queue: 0/256 (size/max)
  TX ring: 512
  Queueing strategy: weighted fair
  Output drops: 0 (in last 60 seconds)</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Buffer configuration applied correctly</p>
          <ul class="compact-list">
            <li>✓ Hold-queue size increased to 256 (previously 64)</li>
            <li>✓ TX ring limit set to 512</li>
            <li>✓ Weighted Fair Queuing active</li>
            <li>✓ Zero output drops in last 60 seconds</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 3: Verify Packet Loss Reduction</strong></p>
          <p><strong>MCP Server Query (SNMP + NetFlow):</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Site</th>
                <th>Packet Loss (Before)</th>
                <th>Packet Loss (After)</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Chicago</td>
                <td><span class="error">8.2%</span></td>
                <td><span class="success">0.08%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Dallas</td>
                <td><span class="error">7.5%</span></td>
                <td><span class="success">0.05%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Seattle</td>
                <td><span class="error">6.8%</span></td>
                <td><span class="success">0.03%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Denver</td>
                <td><span class="error">5.4%</span></td>
                <td><span class="success">0.01%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Boston</td>
                <td><span class="error">5.1%</span></td>
                <td><span class="success">0.02%</span></td>
                <td>✅ FIXED</td>
              </tr>
            </tbody>
          </table>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Packet loss reduced by 99% across all sites</p>
          <ul class="compact-list">
            <li>✓ Average packet loss: 6.6% → 0.04% (164x improvement)</li>
            <li>✓ All sites now below 0.1% threshold (target: <0.5%)</li>
            <li>✓ Exceeds success criteria</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 4: Verify VoIP Call Quality</strong></p>
          <p><strong>Query: Voice Quality Monitoring System</strong></p>
          <ul class="compact-list">
            <li>📞 Active calls monitored: 23 concurrent VoIP sessions</li>
            <li>📊 Mean Opinion Score (MOS): <strong>4.3</strong> (target: >4.0)</li>
            <li>🎵 Jitter: 8ms (acceptable: <30ms)</li>
            <li>⏱️ Latency: 45ms (acceptable: <150ms)</li>
            <li>📉 Packet loss: 0.02% (acceptable: <1%)</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - VoIP quality restored to excellent</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 5: Verify No Negative Side Effects</strong></p>
          <ul class="compact-list">
            <li>✅ No interface flaps detected</li>
            <li>✅ BGP sessions stable (no routing changes)</li>
            <li>✅ CPU utilization normal: 12% (no spike from QoS processing)</li>
            <li>✅ Memory utilization: 45% (no increase)</li>
            <li>✅ All remote sites reachable via ping</li>
            <li>✅ No user complaints received (monitoring helpdesk queue)</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No adverse impacts detected</p>
        </div>

        <p><strong>📊 VERIFICATION SUMMARY:</strong></p>
        <div class="success-box">
          <p><strong>🎉 ALL VERIFICATION TESTS PASSED (5/5)</strong></p>
          <ul class="compact-list">
            <li>✅ Traffic shaping policy operational and effective</li>
            <li>✅ Buffer configuration applied successfully</li>
            <li>✅ Packet loss reduced from 6.6% average to 0.04% (99% improvement)</li>
            <li>✅ VoIP call quality excellent (MOS 4.3/5.0)</li>
            <li>✅ Zero negative side effects observed</li>
          </ul>
          <p><strong>⏱️ Time to Resolution: 18 minutes from ticket assignment to verified fix</strong></p>
          <p><strong>✅ Solution validated and stable. Proceeding to final report generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 24: Final Report -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📄</span>
        <span class="agent-name">STEP 24: MRA - Final Resolution Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <div class="final-report-box">
          <h2>🎯 INCIDENT RESOLUTION REPORT</h2>

          <p><strong>Ticket Information:</strong></p>
          <ul class="compact-list">
            <li>🎫 Ticket ID: #67891</li>
            <li>📋 Title: Packet Loss Across All Remote Sites</li>
            <li>👤 Reported By: John Smith (john.smith@xyzcorp.com)</li>
            <li>⏱️ Opened: 2025-10-17 09:15:23 AM</li>
            <li>⏱️ Resolved: 2025-10-17 10:48:45 AM</li>
            <li>⌛ Resolution Time: <strong>1 hour 33 minutes</strong></li>
          </ul>

          <hr>

          <p><strong>Problem Summary:</strong></p>
          <p>Users across all 5 remote sites (Chicago, Dallas, Seattle, Denver, Boston) reported degraded network performance during 09:00-11:00 AM daily, including poor VoIP quality, video conferencing issues, and slow application response times. Investigation revealed 5-8% packet loss on WAN connections during this time window.</p>

          <hr>

          <p><strong>Root Cause Analysis:</strong></p>
          <p class="highlight">Uncontrolled backup traffic consuming 620 Mbps (95% of 650 Mbps WAN link capacity) during business hours without traffic shaping or QoS policies. Insufficient buffer size (64 KB) on convergence interface GigE 0/1/0 resulted in 1,247 buffer overruns and packet drops.</p>

          <hr>

          <p><strong>Investigation Timeline:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Agent/System</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>09:15 AM</td>
                <td>MONITORING_SYSTEM</td>
                <td>Alert generated, ticket #67891 created</td>
              </tr>
              <tr>
                <td>09:16 AM</td>
                <td>IO_AGENT</td>
                <td>Engaged user, asked 5 clarifying questions</td>
              </tr>
              <tr>
                <td>09:22 AM</td>
                <td>MRA</td>
                <td>Deployed 6 specialized agents</td>
              </tr>
              <tr>
                <td>09:23 AM</td>
                <td>TOPOLOGY_AGENT</td>
                <td>Identified GigE 0/1/0 convergence point</td>
              </tr>
              <tr>
                <td>09:25 AM</td>
                <td>TRAFFIC_ANALYSIS_AGENT</td>
                <td>Discovered 620 Mbps backup traffic (NetFlow)</td>
              </tr>
              <tr>
                <td>09:27 AM</td>
                <td>INTERFACE_STATS_AGENT</td>
                <td>Found 1,247 buffer overruns</td>
              </tr>
              <tr>
                <td>09:29 AM</td>
                <td>BUFFER_ANALYSIS_AGENT</td>
                <td>Confirmed 64 KB buffer insufficient</td>
              </tr>
              <tr>
                <td>09:35 AM</td>
                <td>ROOT_CAUSE_AGENT</td>
                <td>Correlated findings, confirmed root cause</td>
              </tr>
              <tr>
                <td>09:38 AM</td>
                <td>RECOMMENDATIONS_AGENT</td>
                <td>Created 3-phase remediation plan</td>
              </tr>
              <tr>
                <td>09:42 AM</td>
                <td>IO_AGENT</td>
                <td>Obtained user approval for deployment</td>
              </tr>
              <tr>
                <td>10:47 AM</td>
                <td>DEPLOYMENT_AGENT</td>
                <td>Deployed traffic shaping + buffer config</td>
              </tr>
              <tr>
                <td>10:48 AM</td>
                <td>VERIFICATION_AGENT</td>
                <td>Verified fix, all tests passed</td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Resolution Actions Taken:</strong></p>
          <p><strong>PHASE 1 (Completed - 2025-10-17 10:47 AM):</strong></p>
          <ul class="compact-list">
            <li>✅ Deployed traffic shaping policy limiting backup traffic to 260 Mbps (40%)</li>
            <li>✅ Reserved 325 Mbps (50%) for business-critical applications</li>
            <li>✅ Reserved 65 Mbps (10%) for network management</li>
            <li>✅ Increased interface buffer from 64 KB to 256 KB</li>
            <li>✅ Enabled Weighted Fair Queuing (WFQ)</li>
          </ul>

          <p><strong>PHASE 2 (Scheduled - Tonight 8:00 PM):</strong></p>
          <ul class="compact-list">
            <li>⏳ Reschedule backup window from 09:00-11:00 AM to 01:00-03:00 AM</li>
            <li>⏳ Coordinate with backup team (change request CHG-2025-1017-002)</li>
          </ul>

          <p><strong>PHASE 3 (Planned - 30-day roadmap):</strong></p>
          <ul class="compact-list">
            <li>📅 Implement comprehensive class-based QoS across all WAN interfaces</li>
            <li>📅 Evaluate WAN capacity upgrade (650 Mbps → 1 Gbps)</li>
            <li>📅 Deploy enhanced monitoring with real-time alerts</li>
          </ul>

          <hr>

          <p><strong>Results and Metrics:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before</th>
                <th>After</th>
                <th>Improvement</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Packet Loss (avg)</td>
                <td><span class="error">6.6%</span></td>
                <td><span class="success">0.04%</span></td>
                <td><span class="success">99.4% ↓</span></td>
              </tr>
              <tr>
                <td>VoIP MOS Score</td>
                <td><span class="error">2.8</span></td>
                <td><span class="success">4.3</span></td>
                <td><span class="success">54% ↑</span></td>
              </tr>
              <tr>
                <td>Buffer Overruns</td>
                <td><span class="error">1,247/hour</span></td>
                <td><span class="success">0/hour</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
              <tr>
                <td>User Complaints</td>
                <td><span class="error">15+ calls</span></td>
                <td><span class="success">0 calls</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Knowledge Sources Utilized:</strong></p>
          <ul class="compact-list">
            <li>📚 <strong>Knowledge Graph:</strong> 8 queries (topology, configs, protocols, interfaces)</li>
            <li>📚 <strong>RAG System:</strong> Retrieved 3 similar historical tickets + 3 troubleshooting documents</li>
            <li>🔧 <strong>MCP Servers:</strong> 15+ real-time queries (NETCONF, SNMP, CLI, NetFlow)</li>
            <li>🤖 <strong>AI Agents:</strong> 6 specialized agents deployed with inter-agent collaboration</li>
          </ul>

          <hr>

          <p><strong>Lessons Learned & Recommendations:</strong></p>
          <ul class="compact-list">
            <li>💡 Implement proactive bandwidth monitoring with alerting (>80% utilization threshold)</li>
            <li>💡 Establish change management process for backup schedules to avoid business hours</li>
            <li>💡 Deploy baseline QoS policies on all WAN interfaces as standard practice</li>
            <li>💡 Enable NetFlow collection permanently for traffic visibility</li>
            <li>💡 Document buffer sizing standards based on interface speed and traffic patterns</li>
          </ul>

          <hr>

          <p><strong>Documentation & Artifacts:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete configuration backups (before/after) saved to repository</li>
            <li>📄 NETCONF deployment scripts archived for reuse</li>
            <li>📄 Agent investigation logs stored for knowledge base</li>
            <li>📄 Updated runbook: "WAN Packet Loss Investigation Procedure"</li>
          </ul>

          <hr>

          <p><strong>✅ TICKET STATUS: RESOLVED</strong></p>
          <p><strong>Resolution Category:</strong> Network Performance - WAN Optimization</p>
          <p><strong>Resolved By:</strong> AI Operations Center (MRA + 6 Specialized Agents)</p>
          <p><strong>Verified By:</strong> VERIFICATION_AGENT (all 5 tests passed)</p>
          <p><strong>User Satisfaction:</strong> ⭐⭐⭐⭐⭐ (Awaiting user feedback)</p>
        </div>
      </div>
    </div>

    <!-- STEP 25: User Notification -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📧</span>
        <span class="agent-name">STEP 25: IO_AGENT → USER - Final Notification</span>
        <span class="status-badge">Closed</span>
      </div>
      <div class="agent-content">
        <div class="notification-box">
          <p><strong>📧 Email Notification Sent:</strong></p>
          <hr>
          <p><strong>To:</strong> john.smith@xyzcorp.com</p>
          <p><strong>CC:</strong> network-ops@xyzcorp.com</p>
          <p><strong>Subject:</strong> ✅ RESOLVED: Ticket #67891 - Packet Loss Across All Remote Sites</p>
          <p><strong>Sent:</strong> 2025-10-17 10:50:15 AM</p>
          <hr>
          <div class="email-body">
            <p>Hi John,</p>
            <p>Great news! Your ticket <strong>#67891</strong> has been <strong>successfully resolved</strong>.</p>

            <p><strong>Issue Summary:</strong></p>
            <p>5-8% packet loss across all remote sites (Chicago, Dallas, Seattle, Denver, Boston) during 09:00-11:00 AM daily, caused by uncontrolled backup traffic consuming 95% of WAN link capacity without traffic shaping policies.</p>

            <p><strong>Resolution:</strong></p>
            <p>Our AI Operations Center deployed traffic shaping policies and optimized buffer configurations on your core router (RTR-CORE-01). The fix was deployed at 10:47 AM and verified successful by 10:48 AM.</p>

            <p><strong>Results:</strong></p>
            <ul>
              <li>✅ Packet loss reduced from 6.6% average to 0.04% (99.4% improvement)</li>
              <li>✅ VoIP call quality improved from 2.8 to 4.3 MOS (Excellent)</li>
              <li>✅ Zero buffer overruns detected</li>
              <li>✅ All remote sites now performing normally</li>
            </ul>

            <p><strong>Next Steps:</strong></p>
            <ul>
              <li>📅 Tonight 8:00 PM: Backup schedule will be moved to 01:00-03:00 AM (off-peak hours)</li>
              <li>📄 Full incident report attached (PDF)</li>
              <li>📞 Network Operations team will contact you to review long-term recommendations</li>
            </ul>

            <p><strong>Resolution Time:</strong> 1 hour 33 minutes (from ticket creation to verified fix)</p>

            <p>The issue is now fully resolved and your network should be performing optimally. If you experience any further issues, please open a new ticket or reply to this email.</p>

            <p><strong>We'd appreciate your feedback!</strong> Please rate your experience: <a href="#">⭐⭐⭐⭐⭐</a></p>

            <p>Thank you for using AI Operations Center!</p>

            <p>Best regards,<br>
            <strong>AI Operations Center</strong><br>
            Powered by MRA + 6 Specialized AI Agents<br>
            📧 aiops-support@xyzcorp.com | 📞 1-800-AIOPS-24</p>
          </div>
          <hr>
          <p><strong>Attachments:</strong></p>
          <ul class="compact-list">
            <li>📎 Incident_Report_67891.pdf (3.2 MB)</li>
            <li>📎 Configuration_Changes_Log.txt (18 KB)</li>
            <li>📎 Verification_Test_Results.xlsx (245 KB)</li>
          </ul>
        </div>

        <div class="success-box">
          <p><strong>🎉 TICKET #67891 - CLOSED</strong></p>
          <ul class="compact-list">
            <li>✅ User notified via email</li>
            <li>✅ Final report delivered</li>
            <li>✅ Documentation archived</li>
            <li>✅ Knowledge base updated</li>
            <li>✅ Change tickets created for Phase 2 & 3</li>
            <li>⏱️ <strong>Total Resolution Time: 1 hour 33 minutes</strong></li>
            <li>🤖 <strong>AI Agents Efficiency: 18 minutes investigation + deployment</strong></li>
            <li>👥 <strong>Human Approval Time: 1 hour 15 minutes (waiting for user response)</strong></li>
          </ul>
        </div>

        <div class="completion-banner">
          <h2>✅ SCENARIO 1 COMPLETE - ALL 25 STEPS IMPLEMENTED</h2>
          <p><strong>Compliance Status: 100% v6 Standard</strong></p>
          <ul class="compact-list">
            <li>✅ Steps 1-5: Alert → IO_AGENT → Classification → MRA → KG</li>
            <li>✅ Steps 6-8: RAG → 3-Source Analysis → Agent Deployment</li>
            <li>✅ Steps 9-13: Specialized Agents with KG/RAG/MCP queries + Inter-Agent Collaboration</li>
            <li>✅ Steps 14-16: Feedback → MRA Correlation → Additional Tasks</li>
            <li>✅ Steps 17-19: RCA Statement → RECOMMENDATIONS_AGENT → Solutions</li>
            <li>✅ Steps 20-23: IO_AGENT Permission → DEPLOYMENT_AGENT → VERIFICATION_AGENT</li>
            <li>✅ Steps 24-25: Final Report → User Notification → Ticket Closed</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .info-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
  }
  
  .deployment-box {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
    padding: 15px;
    margin: 15px 0;
  }
  
  .verification-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
  }
  
  .final-report-box {
    background: #fff3e0;
    border: 2px solid #ff9800;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .notification-box {
    background: #f3e5f5;
    border-left: 4px solid #9c27b0;
    padding: 15px;
    margin: 15px 0;
  }
  
  .email-body {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }
  
  .completion-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: 30px 0;
    border-radius: 10px;
    text-align: center;
  }
  
  .completion-banner h2 {
    margin-top: 0;
    font-size: 24px;
  }
  
  .code-block {
    background: #263238;
    color: #aed581;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
  }
  
  .user-interaction-box {
    background: #fff9e6;
    border: 2px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .recommendation-phase {
    background: white;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    border-left: 3px solid #2196f3;
  }

  .rca-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .collaboration-exchange {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    margin: 15px 0;
    border-left: 3px solid #00ff88;
    border-radius: 4px;
  }

  .collab-from {
    font-weight: bold;
    color: #00aaff;
    margin-bottom: 5px;
  }

  .collab-message {
    font-style: italic;
    margin-left: 20px;
    color: #ccc;
  }

  .collab-response {
    margin-left: 20px;
    margin-top: 10px;
    color: #00ff88;
  }

  .symptom-tag {
    background: #ff9800;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .contributing-tag {
    background: #ffc107;
    color: black;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .root-cause-tag {
    background: #f44336;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }
</style>`
                ]
            },
            'firewall-config': {
                title: 'Firewall Configuration',
                icon: '🔥',
                description: 'Analyzing firewall ACL rules and traffic flow issues',
                initialQuery: 'Show Firewall Configuration Analysis',
                responses: [
                    `<!-- SCENARIO 2: FIREWALL CONFIGURATION ANALYSIS  -->


<div class="root-container">
  <h3>Agentic AI - Firewall Configuration Analysis v6</h3>
  <p><strong>Complete 25-Step Workflow: Alert → Investigation → Resolution → Verification</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: ALERT/TICKET GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">MONITORING_SYSTEM → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Alert Generated from User Report:</strong></p>
        <ul class="compact-list">
          <li>⏰ Alert Time: 2025-10-17 08:35:12 AM</li>
          <li>🔍 Alert Source: ServiceNow (User-initiated ticket)</li>
          <li>⚠️ Alert Type: DMZ Access Failure</li>
          <li>🔴 Severity: HIGH</li>
          <li>📍 Affected: Finance Department → DMZ SharePoint Server</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#FW-8823</span></li>
            <li>Category: Network Security</li>
            <li>Subcategory: Firewall Access Issue</li>
            <li>Priority: P2 - High</li>
            <li>Auto-assigned to: Security Operations Team</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES TICKET -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #FW-8823 Received - Initial Problem Statement:</strong></p>
        <div class="change-details">
          <p><strong>Reported By:</strong> John (Finance Department)</p>
          <p><strong>Affected Entity:</strong> XYZ Corporation</p>
          <p><strong>Department:</strong> Finance Department</p>
          <p><strong>Users Impacted:</strong> All finance department users (~35 users)</p>
          <p><strong>Initial Problem Description:</strong></p>
          <p>"Users in Finance Department unable to access SharePoint server in DMZ from internal network. Error message: 'Connection timed out'. Access worked fine yesterday. Issue started this morning at approximately 08:30 AM."</p>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering additional context before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS CLARIFYING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Asking Clarifying Questions:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which specific DMZ application are you trying to access?</strong></p>
            <p class="answer">A1: SharePoint server at dmz-sharepoint.xyzcorp.local (IP: 172.16.50.10)</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Which users or network segments are affected?</strong></p>
            <p class="answer">A2: All finance department users on VLAN 100 (10.10.100.0/24) are affected</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: When exactly did the issue start? Is this the first occurrence?</strong></p>
            <p class="answer">A3: Started this morning around 08:30 AM. It worked perfectly until yesterday evening (5:00 PM)</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: What is the business impact? Are other departments affected?</strong></p>
            <p class="answer">A4: High impact - Finance team cannot access critical budget planning documents. Other departments (HR, IT) can access DMZ SharePoint fine.</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: Have there been any recent firewall changes or maintenance?</strong></p>
            <p class="answer">A5: Yes, last night (10:00 PM) there was scheduled firewall rule cleanup to remove obsolete ACLs</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: PROBLEM CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Problem Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Problem Type</td>
                <td>Security Policy / Access Control</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>Firewall ACL Configuration</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Single Department (Finance)</td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td>Change-Related (Post-Maintenance)</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P2 - High</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Escalating to <strong>MASTER_REASONING_AGENT</strong> for systematic investigation
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Investigation:</strong></p>
        <div class="change-details">
          <p><strong>Ticket Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ Issue started after scheduled firewall maintenance - strong correlation</li>
            <li>✓ Only Finance department affected - suggests specific ACL or zone policy issue</li>
            <li>✓ Other departments can access same DMZ resource - rules ACL ordering/priority problem</li>
            <li>✓ Connection timeout indicates traffic being dropped, not rejected</li>
          </ul>
          <p><strong>Investigation Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for firewall topology, ACL configs, and zone policies</li>
            <li>2. Search RAG system for similar DMZ access issues and ACL conflicts</li>
            <li>3. Perform three-source analysis (Problem + KG + RAG)</li>
            <li>4. Deploy specialized agents for targeted investigation</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for Firewall Context:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: Network Topology & Security Zones</strong></p>
          <ul class="compact-list">
            <li>✓ Retrieved: XYZ Corp security architecture diagram</li>
            <li>✓ Internal Zone: Finance VLAN 100 (10.10.100.0/24)</li>
            <li>✓ DMZ Zone: DMZ Servers (172.16.50.0/24)</li>
            <li>✓ Firewall: ASA-DC-01 (Active), ASA-DC-02 (Standby) - HA pair</li>
            <li>✓ SharePoint Server: 172.16.50.10 (dmz-sharepoint.xyzcorp.local)</li>
          </ul>
          <p><strong>Query 2: Firewall Device Configurations</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Device</th>
                  <th>Model</th>
                  <th>OS Version</th>
                  <th>Key Config</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>ASA-DC-01</td>
                  <td>Cisco ASA 5516-X</td>
                  <td>ASA 9.16(4)20</td>
                  <td>Active Unit (Primary)</td>
                </tr>
                <tr>
                  <td>Inside Interface</td>
                  <td>GigE 0/0</td>
                  <td>Security Level: 100</td>
                  <td>10.10.0.1/16</td>
                </tr>
                <tr>
                  <td>DMZ Interface</td>
                  <td>GigE 0/2</td>
                  <td>Security Level: 50</td>
                  <td>172.16.50.1/24</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: Access Control Lists (Current State)</strong></p>
          <ul class="compact-list">
            <li>✓ ACL Name: INSIDE-TO-DMZ (Applied to inside interface)</li>
            <li>✓ Total Rules: 28 active rules</li>
            <li>✓ Last Modified: 2025-10-16 22:15:34 (last night's maintenance)</li>
            <li>✓ Change Description: "Cleanup obsolete ACL entries - removed 12 rules"</li>
          </ul>
          <p><strong>Query 4: Zone Pair Policies</strong></p>
          <ul class="metric-list">
            <li>Inside → DMZ: <span class="normal-value">Policy Active</span></li>
            <li>DMZ → Inside: <span class="normal-value">Policy Active (return traffic)</span></li>
            <li>Default Action: <span class="problem-value">DENY (implicit)</span></li>
            <li>Inspection: <span class="success">Stateful inspection enabled</span></li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-warning">Recent Configuration Change Detected</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Similar Incidents and Solutions:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "DMZ access issues + ACL conflicts + overlapping rules"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Similarity</th>
                  <th>Problem</th>
                  <th>Resolution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>TKT-78234</td>
                  <td><span class="success">92%</span></td>
                  <td>DMZ access blocked after ACL cleanup</td>
                  <td>Conflicting deny rule added above permit</td>
                </tr>
                <tr>
                  <td>TKT-65091</td>
                  <td><span class="success">84%</span></td>
                  <td>Specific subnet cannot reach DMZ</td>
                  <td>ACL rule order issue - resequenced</td>
                </tr>
                <tr>
                  <td>TKT-52817</td>
                  <td><span class="warning">71%</span></td>
                  <td>Post-maintenance access failure</td>
                  <td>Accidentally removed permit rule</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Troubleshooting Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>Cisco_ASA_ACL_Best_Practices.pdf</strong> (Cisco Doc ID: 119058)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ ACL processing is top-down; first match wins</li>
            <li>📄 <strong>Firewall_Troubleshooting_Guide.pdf</strong> (Internal KB-9203)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Common issue: Broad deny rules placed before specific permits</li>
            <li>📄 <strong>DMZ_Access_Policies_Standard.pdf</strong> (Security Policy v3.2)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ All internal users should have HTTPS access to DMZ SharePoint</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 3 similar incidents resolved by fixing ACL rule ordering</li>
            <li>✓ Common root cause: ACL cleanup inadvertently created overlapping rules</li>
            <li>✓ Recommended fix: Analyze ACL sequence, reorder conflicting rules</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">High Confidence Pattern Match</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Problem Statement:</strong></p>
            <ul class="compact-list">
              <li>Finance department (10.10.100.0/24) cannot access DMZ SharePoint (172.16.50.10)</li>
              <li>Connection timeout (traffic being dropped)</li>
              <li>Started at 08:30 AM after 10:00 PM firewall maintenance</li>
              <li>Other departments can access same DMZ resource</li>
              <li>ACL cleanup performed last night - 12 rules removed</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>Firewall: ASA-DC-01 (Active) running ASA 9.16(4)20</li>
              <li>ACL INSIDE-TO-DMZ: 28 rules active, modified last night</li>
              <li>Implicit deny at end of ACL (default behavior)</li>
              <li>Stateful inspection enabled (return traffic allowed)</li>
              <li>Finance VLAN 100 → DMZ Zone traffic requires explicit permit</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>92% similarity to TKT-78234 (ACL cleanup causing access issues)</li>
              <li>Historical resolution: Conflicting deny rule placed above permit rule</li>
              <li>Common pattern: ACL rule ordering problems after maintenance</li>
              <li>Best practice: Most specific rules first, general rules last</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Hypothesis:</strong> Last night's ACL cleanup introduced overlapping or conflicting rules that are blocking Finance department's access to DMZ SharePoint. Likely a broad deny rule placed before a specific permit rule. Need to verify with specialized agents.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Targeted Investigation:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">🛡️</div>
            <div class="deployment-name">FIREWALL_CONFIG_AGENT</div>
            <div class="deployment-task">Analyze firewall configs</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📋</div>
            <div class="deployment-name">ACL_ANALYSIS_AGENT</div>
            <div class="deployment-task">Examine ACL rules</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔐</div>
            <div class="deployment-name">ZONE_POLICY_AGENT</div>
            <div class="deployment-task">Verify security zones</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🌊</div>
            <div class="deployment-name">TRAFFIC_FLOW_AGENT</div>
            <div class="deployment-task">Trace traffic paths</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔧</div>
            <div class="deployment-name">ROOT_CAUSE_AGENT</div>
            <div class="deployment-task">Correlate all findings</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💡</div>
            <div class="deployment-name">RECOMMENDATIONS_AGENT</div>
            <div class="deployment-task">Generate remediation plan</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: FIREWALL_CONFIG_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🛡️</span>
        <span class="agent-name">FIREWALL_CONFIG_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Firewall Configuration Analysis via Knowledge Graph & MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved stored config (last backup: 2025-10-16 21:45:00)</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show running-config from ASA-DC-01</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show failover state (verify active unit)</li>
          </ul>
          <p><strong>Firewall Configuration Summary:</strong></p>
          <ul class="compact-list">
            <li>Device: ASA-DC-01 (Active), ASA-DC-02 (Standby) - HA Active/Standby</li>
            <li>Failover State: Active (ASA-DC-01), Standby Ready (ASA-DC-02)</li>
            <li>Inside Interface (GigE 0/0): Security Level 100, VLAN 10</li>
            <li>DMZ Interface (GigE 0/2): Security Level 50, VLAN 50</li>
            <li><strong>Key Finding:</strong> Last config change timestamp: 2025-10-16 22:15:34</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Firewall HA pair healthy (Active/Standby)</li>
          <li>✅ All interfaces operational (no errors)</li>
          <li>✅ Security zones properly defined</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>⚠️ Configuration modified last night during maintenance window</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-warning">Recent Config Change Detected</span>
        </div>
      </div>
    </div>

    <!-- STEP 11: ACL_ANALYSIS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">ACL_ANALYSIS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>ACL Rule Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved ACL baseline from before maintenance</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show access-list INSIDE-TO-DMZ</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show run access-list | include 10.10.100</li>
          </ul>
          <p><strong>ACL INSIDE-TO-DMZ Analysis:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Line #</th>
                  <th>Action</th>
                  <th>Source</th>
                  <th>Destination</th>
                  <th>Service</th>
                  <th>Hit Count</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>5</td>
                  <td>permit</td>
                  <td>10.10.0.0/16</td>
                  <td>172.16.50.10</td>
                  <td>tcp/443</td>
                  <td>142,567</td>
                </tr>
                <tr>
                  <td>12</td>
                  <td>permit</td>
                  <td>10.10.200.0/24</td>
                  <td>172.16.50.0/24</td>
                  <td>tcp/443</td>
                  <td>98,234</td>
                </tr>
                <tr>
                  <td>17</td>
                  <td><span class="problem-value">deny</span></td>
                  <td><span class="problem-value">10.10.100.0/24</span></td>
                  <td>172.16.50.0/24</td>
                  <td>ip</td>
                  <td><span class="problem-value">1,247</span></td>
                </tr>
                <tr>
                  <td>22</td>
                  <td>permit</td>
                  <td><span class="problem-value">10.10.100.0/24</span></td>
                  <td>172.16.50.10</td>
                  <td>tcp/443</td>
                  <td>0</td>
                </tr>
                <tr>
                  <td>28</td>
                  <td>deny</td>
                  <td>any</td>
                  <td>any</td>
                  <td>ip</td>
                  <td>8,923</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Critical Finding:</strong> Rule #17 (deny 10.10.100.0/24 → 172.16.50.0/24) is placed BEFORE Rule #22 (permit 10.10.100.0/24 → 172.16.50.10 tcp/443)</p>
          <p><strong>ACL Processing Logic:</strong></p>
          <ul class="compact-list">
            <li>❌ Finance traffic (10.10.100.x) hits Rule #17 first → DENIED (broad deny rule)</li>
            <li>🚫 Rule #22 never evaluated (traffic already dropped by Rule #17)</li>
            <li>✅ Other departments (10.10.200.x, etc.) match Rule #5 and #12 → PERMITTED</li>
            <li>📊 Rule #17 hit count: 1,247 (exactly matches Finance department attempts)</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Rules #5, #12 working correctly for other departments</li>
          <li>✅ Rule #22 syntax is correct (permit Finance → DMZ SharePoint HTTPS)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Rule #17: Broad deny rule blocking Finance subnet (10.10.100.0/24)</li>
          <li>❌ Rule #22: Never hit (0 matches) - placed after deny rule</li>
          <li>❌ ACL ordering violation: Deny rule before more specific permit rule</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">ACL Rule Conflict Identified</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: ZONE_POLICY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔐</span>
        <span class="agent-name">ZONE_POLICY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Security Zone Policy Verification via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP CLI (SSH):</strong> show nameif</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show zone-pair security</li>
            <li>🔌 <strong>KG Query:</strong> Retrieved security zone policies</li>
          </ul>
          <p><strong>Security Zone Configuration:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Interface</th>
                  <th>Zone Name</th>
                  <th>Security Level</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>GigE 0/0</td>
                  <td>inside</td>
                  <td>100</td>
                  <td><span class="status-tag status-success">UP</span></td>
                </tr>
                <tr>
                  <td>GigE 0/1</td>
                  <td>outside</td>
                  <td>0</td>
                  <td><span class="status-tag status-success">UP</span></td>
                </tr>
                <tr>
                  <td>GigE 0/2</td>
                  <td>dmz</td>
                  <td>50</td>
                  <td><span class="status-tag status-success">UP</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Zone Pair Policy: inside → dmz</strong></p>
          <ul class="compact-list">
            <li>✓ Policy: INSIDE-TO-DMZ-POLICY (Active)</li>
            <li>✓ ACL Applied: INSIDE-TO-DMZ (28 rules)</li>
            <li>✓ Direction: Inbound on inside interface</li>
            <li>✓ Stateful Inspection: Enabled (return traffic auto-allowed)</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ All security zones properly defined and operational</li>
          <li>✅ Zone pair policy inside → dmz is active</li>
          <li>✅ Stateful inspection enabled for return traffic</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>⚠️ Zone policy enforcement depends on ACL INSIDE-TO-DMZ (which has rule conflict)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Zone Policies Configured Correctly</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: TRAFFIC_FLOW_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🌊</span>
        <span class="agent-name">TRAFFIC_FLOW_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Traffic Flow Trace & Packet Capture Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP CLI (SSH):</strong> packet-tracer input inside tcp 10.10.100.5 443 172.16.50.10 443</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show conn address 10.10.100.5</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show asp drop frame acl-drop</li>
          </ul>
          <p><strong>Packet Tracer Results (Finance User → DMZ SharePoint):</strong></p>
          <pre class="code-block">ASA-DC-01# packet-tracer input inside tcp 10.10.100.5 12345 172.16.50.10 443

Phase: 1
Type: ACCESS-LIST
Subtype: log
Result: <span class="problem-value">DROP</span>
Config:
access-list INSIDE-TO-DMZ line 17 extended deny ip 10.10.100.0 255.255.255.0 172.16.50.0 255.255.255.0
Additional Information:
  Forward Flow based lookup succeeded (implicit_rule)

Result:
input-interface: inside
input-status: up
input-line-status: up
output-interface: dmz
output-status: up
output-line-status: up
Action: <span class="problem-value">drop</span>
Drop-reason: (acl-drop) Flow is denied by configured rule</pre>
          <p><strong>ASP Drop Statistics:</strong></p>
          <ul class="metric-list">
            <li>Total ACL Drops: <span class="problem-value">1,247 packets</span></li>
            <li>Source: 10.10.100.0/24 (Finance VLAN)</li>
            <li>Destination: 172.16.50.10 (DMZ SharePoint)</li>
            <li>Matched ACL: INSIDE-TO-DMZ line 17</li>
          </ul>
          <p><strong>Connection Table Check:</strong></p>
          <ul class="compact-list">
            <li>❌ No active connections found for 10.10.100.x → 172.16.50.10</li>
            <li>✅ Connections present for 10.10.200.x → 172.16.50.10 (other depts)</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Firewall routing correct (knows how to reach both zones)</li>
          <li>✅ Other departments' traffic flows successfully</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Finance traffic explicitly dropped by ACL line 17</li>
          <li>❌ 1,247 packets dropped (matches user report timing and frequency)</li>
          <li>❌ Packet tracer confirms: Traffic hits deny rule before permit rule</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Traffic Dropped by ACL Line 17</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💬</span>
        <span class="agent-name">AGENT_COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Inter-Agent Communication & Task Delegation:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p><strong>Exchange 1:</strong></p>
            <p class="collab-from">🛡️ FIREWALL_CONFIG_AGENT → 📋 ACL_ANALYSIS_AGENT:</p>
            <p class="collab-message">"I've confirmed config was modified last night at 22:15:34. Can you analyze the INSIDE-TO-DMZ ACL to identify what changed and if there are any conflicts?"</p>
            <p class="collab-response">📋 Response: "Will analyze ACL line by line. Focusing on rules affecting Finance subnet 10.10.100.0/24."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 2:</strong></p>
            <p class="collab-from">📋 ACL_ANALYSIS_AGENT → 🌊 TRAFFIC_FLOW_AGENT:</p>
            <p class="collab-message">"Found overlapping rules: Line 17 (deny 10.10.100.0/24) placed before Line 22 (permit 10.10.100.0/24 → SharePoint). Can you run packet-tracer to confirm traffic is hitting the deny rule first?"</p>
            <p class="collab-response">🌊 Response: "Running packet-tracer now for 10.10.100.5 → 172.16.50.10. Will trace exact ACL line match."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 3:</strong></p>
            <p class="collab-from">🌊 TRAFFIC_FLOW_AGENT → 📋 ACL_ANALYSIS_AGENT:</p>
            <p class="collab-message">"Packet-tracer confirms: Traffic dropped at ACL line 17. Drop reason: 'acl-drop'. ASP stats show 1,247 drops from Finance subnet. Line 22 never evaluated."</p>
            <p class="collab-response">📋 Response: "Confirmed. ACL rule ordering is the root cause. Line 17 must be removed or moved below line 22."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 4:</strong></p>
            <p class="collab-from">📋 ACL_ANALYSIS_AGENT → 🔐 ZONE_POLICY_AGENT:</p>
            <p class="collab-message">"ACL conflict identified. Can you verify the zone policy intent? Should Finance department have access to DMZ SharePoint?"</p>
            <p class="collab-response">🔐 Response: "Checking security policy docs. According to DMZ_Access_Policies_Standard.pdf, ALL internal users should have HTTPS access to SharePoint."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 5:</strong></p>
            <p class="collab-from">📋 ACL_ANALYSIS_AGENT → 🔧 ROOT_CAUSE_AGENT:</p>
            <p class="collab-message">"All evidence collected. Rule #17 was likely added during cleanup and accidentally placed above existing permit rule #22. Ready for correlation."</p>
            <p class="collab-response">🔧 Response: "Acknowledged. Collecting all findings for root cause determination."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Dynamic Task Adjustment:</strong></p>
            <ul class="compact-list">
              <li>✓ ACL_ANALYSIS_AGENT prioritized Finance subnet rules based on problem statement</li>
              <li>✓ TRAFFIC_FLOW_AGENT focused packet trace on specific ACL line match</li>
              <li>✓ ZONE_POLICY_AGENT verified business policy to confirm intent</li>
              <li>✓ All agents converged on ACL rule ordering hypothesis</li>
            </ul>
          </div>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Collaborating Effectively</span>
        </div>
      </div>
    </div>

    <!-- STEP 15: ROOT_CAUSE_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">ROOT_CAUSE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Root Cause Analysis - Correlating All Agent Findings:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Compilation:</strong></p>
          <ul class="compact-list">
            <li>✓ FIREWALL_CONFIG_AGENT: Config modified 2025-10-16 22:15:34</li>
            <li>✓ ACL_ANALYSIS_AGENT: Rule #17 (deny 10.10.100.0/24) before Rule #22 (permit)</li>
            <li>✓ ZONE_POLICY_AGENT: Policy requires all internal users have DMZ access</li>
            <li>✓ TRAFFIC_FLOW_AGENT: Packet-tracer confirms drop at ACL line 17</li>
            <li>✓ RAG Historical Data: 92% similarity to TKT-78234 (ACL ordering issue)</li>
          </ul>
          <p><strong>Timeline Correlation:</strong></p>
          <ul class="metric-list">
            <li>22:00 PM: Scheduled maintenance begins (ACL cleanup)</li>
            <li>22:15 PM: ACL modified - Rule #17 added (broad deny Finance subnet)</li>
            <li>08:30 AM: Users return to work, attempt DMZ access → blocked</li>
            <li>08:35 AM: Ticket #FW-8823 created by Finance user John</li>
          </ul>
        </div>
        <p><strong>Root Cause Statement:</strong></p>
        <div class="rca-box">
          <p><strong>PRIMARY ROOT CAUSE:</strong></p>
          <p>During last night's scheduled ACL cleanup (2025-10-16 22:15:34), ACL rule #17 was added to deny traffic from Finance subnet (10.10.100.0/24) to DMZ network (172.16.50.0/24). This broad deny rule was inadvertently placed BEFORE the existing specific permit rule #22 (which allows Finance → DMZ SharePoint HTTPS access). Due to top-down ACL processing, Finance traffic hits the deny rule first and is dropped, preventing access to DMZ SharePoint.</p>
          <p><strong>CONTRIBUTING FACTORS:</strong></p>
          <ul class="compact-list">
            <li>1. ACL rule #17 is overly broad (denies all IP traffic vs. specific protocols)</li>
            <li>2. Rule ordering violation: General deny placed before specific permit</li>
            <li>3. Insufficient testing after ACL cleanup (no post-change validation)</li>
            <li>4. Rule #22 never evaluated (0 hit count) - shadowed by rule #17</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Root Cause Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CORRELATION ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Correlation Analysis - Symptoms vs. Causes:</strong></p>
        <div class="change-details">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Severity</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting connection timeout</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>Finance dept cannot access SharePoint</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Business application impact</td>
                </tr>
                <tr>
                  <td>1,247 ACL drops from Finance subnet</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Firewall-level symptom</td>
                </tr>
                <tr>
                  <td>Packet-tracer shows drop at line 17</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Technical validation</td>
                </tr>
                <tr>
                  <td>Rule #22 has 0 hit count</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Medium</td>
                  <td>Indicates rule shadowing</td>
                </tr>
                <tr>
                  <td>Other departments can access DMZ</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Isolates issue to Finance ACL</td>
                </tr>
                <tr>
                  <td>ACL modified during maintenance</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>High</td>
                  <td>Change correlation</td>
                </tr>
                <tr>
                  <td>Rule #17 overly broad (deny all IP)</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Poor rule specificity</td>
                </tr>
                <tr>
                  <td>Rule #17 placed before Rule #22</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>ACL ordering violation</td>
                </tr>
                <tr>
                  <td>No post-change validation testing</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Process failure</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms started immediately after 22:15 PM maintenance window</li>
            <li>✓ All symptoms specific to Finance department (10.10.100.0/24)</li>
            <li>✓ All technical evidence points to ACL line 17 as blocking point</li>
            <li>✓ Pattern matches 92% with historical ticket TKT-78234</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Task Assignment (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Task Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Root cause clearly identified: ACL rule #17 (deny) placed before rule #22 (permit)</p>
          <p>✓ All specialized agents have completed their investigations</p>
          <p>✓ Findings are conclusive and correlated across all data sources</p>
          <p>✓ Packet-tracer and ASP drops provide definitive evidence</p>
          <p><strong>Decision: No additional investigation tasks required. Proceeding directly to resolution recommendations.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear RCA Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: ROOT CAUSE ANALYSIS - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 ROOT CAUSE ANALYSIS STATEMENT</h3>
          <p><strong>Primary Root Cause:</strong></p>
          <p class="highlight">Finance department's inability to access DMZ SharePoint is caused by <strong>overlapping ACL rules in INSIDE-TO-DMZ access list</strong>. Specifically, rule #17 (deny 10.10.100.0/24 → 172.16.50.0/24 ip) was placed BEFORE rule #22 (permit 10.10.100.0/24 → 172.16.50.10 tcp/443) during last night's maintenance. Due to top-down ACL processing, traffic from Finance subnet hits the broader deny rule first and is dropped before reaching the specific permit rule.</p>

          <p><strong>Contributing Factors:</strong></p>
          <ul class="compact-list">
            <li>• Rule #17 is overly broad (denies ALL IP traffic from Finance subnet to entire DMZ)</li>
            <li>• ACL ordering best practice violated (specific permits should precede general denies)</li>
            <li>• No post-maintenance validation testing performed</li>
            <li>• Change management process did not include impact analysis for Finance department</li>
          </ul>

          <p><strong>Evidence Supporting RCA:</strong></p>
          <ul class="compact-list">
            <li>✓ Packet-tracer output explicitly shows drop at ACL line 17</li>
            <li>✓ ASP drop statistics show 1,247 packets dropped from 10.10.100.0/24</li>
            <li>✓ Rule #22 has 0 hit count (shadowed by rule #17)</li>
            <li>✓ Issue started immediately after 22:15 PM ACL modification</li>
            <li>✓ Other departments accessing same DMZ resource successfully (different ACL rules)</li>
          </ul>

          <p><strong>Business Impact:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: 35 Finance users unable to access budget planning documents</li>
            <li>🔴 Critical: Month-end financial reporting delayed</li>
            <li>⏱️ Duration: ~2 hours (08:30 AM - 10:45 AM) - productivity impact</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: RECOMMENDATIONS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">STEP 19: RECOMMENDATIONS_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved Cisco ASA ACL best practices and rule ordering guidelines</li>
          <li>📚 RAG Query: Retrieved 3 successful resolution playbooks from similar tickets</li>
          <li>🔧 MCP Server: Retrieved current ACL configuration for comparison</li>
        </ul>

        <div class="info-box">
          <h3>🎯 THREE-PHASE REMEDIATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 15 minutes)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Remove Conflicting ACL Rule #17</strong></p>
            <ul class="compact-list">
              <li>✓ Execute: no access-list INSIDE-TO-DMZ line 17</li>
              <li>✓ This removes the broad deny rule blocking Finance traffic</li>
              <li>⏱️ Deployment time: 30 seconds via SSH/NETCONF</li>
              <li>📊 Expected impact: Immediate restoration of Finance DMZ access</li>
              <li>🔄 Risk: LOW - Removing deny rule, permit rule #22 will take effect</li>
            </ul>

            <p><strong>Action 1.2 - Verify Access Restoration</strong></p>
            <ul class="compact-list">
              <li>✓ Run packet-tracer to confirm permit rule #22 now matched</li>
              <li>✓ Verify Finance users can access SharePoint (test with user)</li>
              <li>⏱️ Verification time: 2 minutes</li>
            </ul>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 24 hours)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - ACL Rule Optimization & Reordering</strong></p>
            <ul class="compact-list">
              <li>✓ Review entire INSIDE-TO-DMZ ACL for other potential conflicts</li>
              <li>✓ Reorder rules: Most specific first, general denies last</li>
              <li>✓ Document ACL structure with comments</li>
              <li>⏱️ Implementation: Tonight 8:00 PM (maintenance window)</li>
            </ul>

            <p><strong>Action 2.2 - Configuration Backup & Documentation</strong></p>
            <ul class="compact-list">
              <li>✓ Save corrected configuration to startup-config</li>
              <li>✓ Create configuration archive in version control</li>
              <li>✓ Update network documentation with ACL logic flowchart</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Enhanced Change Management Process</strong></p>
            <ul class="compact-list">
              <li>✓ Implement mandatory pre-change ACL validation (packet-tracer tests)</li>
              <li>✓ Require post-change testing checklist for firewall modifications</li>
              <li>✓ Add automated ACL conflict detection tool to CI/CD pipeline</li>
            </ul>

            <p><strong>Action 3.2 - ACL Governance & Best Practices</strong></p>
            <ul class="compact-list">
              <li>✓ Establish ACL design standards (specific before general rules)</li>
              <li>✓ Implement object-based ACLs for better maintainability</li>
              <li>✓ Deploy ACL hit count monitoring and periodic review process</li>
            </ul>

            <p><strong>Action 3.3 - Automated Testing & Monitoring</strong></p>
            <ul class="compact-list">
              <li>✓ Deploy synthetic transaction monitoring (Finance → DMZ SharePoint)</li>
              <li>✓ Enable ASP drop alerting for ACL drops (threshold: >100/hour)</li>
              <li>✓ Create dashboard for ACL rule hit counts and drops</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Remove ACL line 17</td>
              <td><span class="success">LOW</span></td>
              <td>Existing permit rule #22 will handle traffic</td>
              <td>30 seconds</td>
            </tr>
            <tr>
              <td>ACL reordering</td>
              <td><span class="warning">MEDIUM</span></td>
              <td>Test with packet-tracer before/after</td>
              <td>1 minute (config rollback)</td>
            </tr>
            <tr>
              <td>Process changes</td>
              <td><span class="success">LOW</span></td>
              <td>Phased implementation with training</td>
              <td>N/A (procedural)</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ Finance users can access DMZ SharePoint (HTTPS)</li>
          <li>✓ Packet-tracer shows ALLOW result for Finance → DMZ SharePoint</li>
          <li>✓ ACL line 22 shows non-zero hit count</li>
          <li>✓ Zero ACL drops from Finance subnet (10.10.100.0/24)</li>
          <li>✓ No impact to other departments' DMZ access</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: RECOMMENDATIONS_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the solution design based on RCA findings, KG best practices, and RAG historical resolutions. I recommend proceeding with PHASE 1 immediate action (remove ACL line 17) to provide immediate relief within 15 minutes."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase remediation plan</li>
            <li>📄 CLI commands for ACL modification</li>
            <li>📄 Packet-tracer test scripts (before/after validation)</li>
            <li>📄 Risk assessment matrix</li>
            <li>📄 Rollback procedures</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (John - Finance):</strong></p>
          <p>"John, our AI agents have completed the investigation of ticket #FW-8823 (DMZ SharePoint access issue)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: ACL rule #17 (deny Finance subnet) placed before rule #22 (permit SharePoint access)</li>
            <li>📊 Impact: Finance department blocked from accessing DMZ SharePoint</li>
            <li>⏱️ Started: After last night's 10:00 PM ACL cleanup maintenance</li>
          </ul>

          <p><strong>Recommended Immediate Solution (PHASE 1):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Remove ACL rule #17 (broad deny rule blocking Finance traffic)</li>
            <li>2️⃣ Verify Finance users can access SharePoint (test connection)</li>
            <li>⏱️ Total deployment time: ~2 minutes</li>
            <li>📈 Expected result: Immediate restoration of DMZ SharePoint access</li>
            <li>🔄 Rollback time: 30 seconds if any issues occur</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve the removal of ACL rule #17 to restore access?</strong></p>
            <p class="answer">✅ A1: Yes, approved. Finance team needs access urgently for month-end reporting.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Can you test SharePoint access after deployment to confirm resolution?</strong></p>
            <p class="answer">✅ A2: Yes, I'll test from my workstation (10.10.100.25) immediately after deployment.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Should we proceed with PHASE 2 (ACL optimization) tonight at 8:00 PM?</strong></p>
            <p class="answer">✅ A3: Yes, approved. Please send notification to security team for review.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Who should receive the final resolution report?</strong></p>
            <p class="answer">✅ A4: Send to me (john@xyzcorp.com) and CC security-ops@xyzcorp.com</p>
          </div>
        </div>
        <p><strong>✅ User Permission Granted: Proceeding to deployment phase</strong></p>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Configuration Deployment</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Initiated - Deployment Plan:</strong></p>
        <ul class="compact-list">
          <li>🎯 Target Device: ASA-DC-01 (Active Firewall)</li>
          <li>🔧 Deployment Method: SSH CLI (Port 22)</li>
          <li>⏱️ Start Time: 2025-10-17 10:52:18 AM</li>
          <li>👤 Authorized By: John (Finance Department)</li>
          <li>🎫 Change Ticket: CHG-2025-1017-002</li>
        </ul>

        <div class="deployment-box">
          <p><strong>📝 ACTION 1: Remove Conflicting ACL Rule #17</strong></p>
          <p><strong>CLI Commands:</strong></p>
          <pre class="code-block">ASA-DC-01# configure terminal
ASA-DC-01(config)# no access-list INSIDE-TO-DMZ line 17 extended deny ip 10.10.100.0 255.255.255.0 172.16.50.0 255.255.255.0
ASA-DC-01(config)# end
ASA-DC-01# write memory</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:52:20 - SSH session established to ASA-DC-01</li>
            <li>⏱️ 10:52:22 - Entered configuration mode</li>
            <li>⏱️ 10:52:25 - ACL line 17 removed from INSIDE-TO-DMZ</li>
            <li>⏱️ 10:52:27 - Configuration saved to startup-config</li>
            <li>✅ 10:52:28 - <strong>ACTION 1 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <div class="deployment-box">
          <p><strong>📝 ACTION 2: Verify ACL Configuration</strong></p>
          <p><strong>Verification Commands:</strong></p>
          <pre class="code-block">ASA-DC-01# show access-list INSIDE-TO-DMZ | include 10.10.100

access-list INSIDE-TO-DMZ line 22 extended permit tcp 10.10.100.0 255.255.255.0 host 172.16.50.10 eq https (hitcnt=0)</pre>
          <p><strong>Verification Status:</strong></p>
          <ul class="compact-list">
            <li>✅ ACL line 17 successfully removed (not present in output)</li>
            <li>✅ ACL line 22 (permit Finance → SharePoint HTTPS) now active</li>
            <li>⚠️ Hit count still 0 (will increment when users test)</li>
          </ul>
        </div>

        <p><strong>📊 Post-Deployment Verification:</strong></p>
        <ul class="compact-list">
          <li>✅ Configuration committed to device running-config</li>
          <li>✅ Configuration saved to startup-config</li>
          <li>✅ SSH session closed gracefully</li>
          <li>⏱️ Total Deployment Time: 10 seconds</li>
          <li>🎉 <strong>PHASE 1 DEPLOYMENT COMPLETE - No errors encountered</strong></li>
        </ul>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Verifying</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Executing Post-Deployment Tests:</strong></p>
        <p>⏱️ Verification Start Time: 2025-10-17 10:52:30 AM (2 seconds after deployment)</p>

        <div class="verification-box">
          <p><strong>TEST 1: Packet-Tracer Simulation</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">ASA-DC-01# packet-tracer input inside tcp 10.10.100.5 12345 172.16.50.10 443

Phase: 1
Type: ACCESS-LIST
Subtype: log
Result: <span class="success">ALLOW</span>
Config:
access-list INSIDE-TO-DMZ line 22 extended permit tcp 10.10.100.0 255.255.255.0 host 172.16.50.10 eq https
Additional Information:
  Forward Flow based lookup succeeded

Result:
input-interface: inside
input-status: up
output-interface: dmz
output-status: up
Action: <span class="success">allow</span></pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Packet-tracer shows ALLOW (matched ACL line 22)</p>
          <ul class="compact-list">
            <li>✓ Finance traffic (10.10.100.x) now permitted to DMZ SharePoint</li>
            <li>✓ Matched ACL line 22 (specific permit rule)</li>
            <li>✓ No longer hitting deny rule (line 17 removed)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 2: Real User Connection Test</strong></p>
          <p><strong>User Test (John from Finance - 10.10.100.25):</strong></p>
          <ul class="compact-list">
            <li>🌐 Browser Test: https://dmz-sharepoint.xyzcorp.local</li>
            <li>✅ Connection Status: <span class="success">SUCCESS</span></li>
            <li>✅ Page Load Time: 1.2 seconds (normal)</li>
            <li>✅ User Report: "SharePoint loads perfectly now!"</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Finance users can access DMZ SharePoint</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 3: ACL Hit Count Verification</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">ASA-DC-01# show access-list INSIDE-TO-DMZ | include 10.10.100

access-list INSIDE-TO-DMZ line 22 extended permit tcp 10.10.100.0 255.255.255.0 host 172.16.50.10 eq https (hitcnt=47)</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - ACL line 22 showing hits (47 packets matched)</p>
          <ul class="compact-list">
            <li>✓ Hit count increased from 0 to 47 (rule is now active)</li>
            <li>✓ Finance traffic successfully matching permit rule</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 4: ASP Drop Statistics</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">ASA-DC-01# show asp drop | include acl-drop

Frame drop:
  acl-drop                               1247 (no change in last 2 minutes)</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No new ACL drops since deployment</p>
          <ul class="compact-list">
            <li>✓ Drop count unchanged (1,247 - historical drops)</li>
            <li>✓ No new drops in last 2 minutes</li>
            <li>✓ Finance traffic no longer being dropped</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 5: Other Departments Unaffected</strong></p>
          <p><strong>Verification:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Department</th>
                <th>Source VLAN</th>
                <th>DMZ Access</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Finance</td>
                <td>VLAN 100 (10.10.100.0/24)</td>
                <td>SharePoint HTTPS</td>
                <td>✅ RESTORED</td>
              </tr>
              <tr>
                <td>HR</td>
                <td>VLAN 200 (10.10.200.0/24)</td>
                <td>SharePoint HTTPS</td>
                <td>✅ WORKING</td>
              </tr>
              <tr>
                <td>IT</td>
                <td>VLAN 10 (10.10.10.0/24)</td>
                <td>All DMZ Services</td>
                <td>✅ WORKING</td>
              </tr>
            </tbody>
          </table>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No negative impact to other departments</p>
        </div>

        <p><strong>📊 VERIFICATION SUMMARY:</strong></p>
        <div class="success-box">
          <p><strong>🎉 ALL VERIFICATION TESTS PASSED (5/5)</strong></p>
          <ul class="compact-list">
            <li>✅ Packet-tracer confirms Finance traffic now permitted</li>
            <li>✅ Real user test successful (SharePoint accessible)</li>
            <li>✅ ACL line 22 showing active hits (47 matches)</li>
            <li>✅ No new ACL drops detected</li>
            <li>✅ Other departments' access unaffected</li>
          </ul>
          <p><strong>⏱️ Time to Resolution: 17 minutes from ticket assignment to verified fix</strong></p>
          <p><strong>✅ Solution validated and stable. Proceeding to final report generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 24: Final Report -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📄</span>
        <span class="agent-name">STEP 24: MRA - Final Resolution Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <div class="final-report-box">
          <h2>🎯 INCIDENT RESOLUTION REPORT</h2>

          <p><strong>Ticket Information:</strong></p>
          <ul class="compact-list">
            <li>🎫 Ticket ID: #FW-8823</li>
            <li>📋 Title: Finance Department Unable to Access DMZ SharePoint</li>
            <li>👤 Reported By: John (Finance Department)</li>
            <li>⏱️ Opened: 2025-10-17 08:35:12 AM</li>
            <li>⏱️ Resolved: 2025-10-17 10:52:35 AM</li>
            <li>⌛ Resolution Time: <strong>2 hours 17 minutes</strong></li>
          </ul>

          <hr>

          <p><strong>Problem Summary:</strong></p>
          <p>All users in Finance Department (VLAN 100, 10.10.100.0/24) unable to access DMZ SharePoint server (172.16.50.10) starting at 08:30 AM. Users received "connection timeout" errors when attempting to access https://dmz-sharepoint.xyzcorp.local. Issue prevented Finance team from accessing critical budget planning documents needed for month-end reporting.</p>

          <hr>

          <p><strong>Root Cause Analysis:</strong></p>
          <p class="highlight">During scheduled ACL cleanup maintenance on 2025-10-16 at 22:15 PM, ACL rule #17 was added to access-list INSIDE-TO-DMZ, creating a broad deny statement (deny ip 10.10.100.0/24 172.16.50.0/24). This rule was inadvertently placed BEFORE existing rule #22 (permit tcp 10.10.100.0/24 host 172.16.50.10 eq https). Due to top-down ACL processing, Finance department traffic matched the deny rule first and was dropped, preventing access to DMZ SharePoint.</p>

          <hr>

          <p><strong>Investigation Timeline:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Agent/System</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>08:35 AM</td>
                <td>TICKET_SYSTEM</td>
                <td>Ticket #FW-8823 created by Finance user</td>
              </tr>
              <tr>
                <td>08:36 AM</td>
                <td>IO_AGENT</td>
                <td>Engaged user, asked 5 clarifying questions</td>
              </tr>
              <tr>
                <td>08:42 AM</td>
                <td>MRA</td>
                <td>Deployed 6 specialized agents</td>
              </tr>
              <tr>
                <td>08:45 AM</td>
                <td>FIREWALL_CONFIG_AGENT</td>
                <td>Identified recent config change (22:15 PM)</td>
              </tr>
              <tr>
                <td>08:48 AM</td>
                <td>ACL_ANALYSIS_AGENT</td>
                <td>Found overlapping rules #17 and #22</td>
              </tr>
              <tr>
                <td>08:52 AM</td>
                <td>TRAFFIC_FLOW_AGENT</td>
                <td>Packet-tracer confirmed drop at ACL line 17</td>
              </tr>
              <tr>
                <td>08:55 AM</td>
                <td>ZONE_POLICY_AGENT</td>
                <td>Verified security policy requires Finance access</td>
              </tr>
              <tr>
                <td>09:02 AM</td>
                <td>ROOT_CAUSE_AGENT</td>
                <td>Correlated findings, confirmed ACL ordering issue</td>
              </tr>
              <tr>
                <td>09:08 AM</td>
                <td>RECOMMENDATIONS_AGENT</td>
                <td>Created 3-phase remediation plan</td>
              </tr>
              <tr>
                <td>09:15 AM</td>
                <td>IO_AGENT</td>
                <td>Obtained user approval for deployment</td>
              </tr>
              <tr>
                <td>10:52 AM</td>
                <td>DEPLOYMENT_AGENT</td>
                <td>Removed ACL line 17</td>
              </tr>
              <tr>
                <td>10:52 AM</td>
                <td>VERIFICATION_AGENT</td>
                <td>Verified fix, all tests passed</td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Resolution Actions Taken:</strong></p>
          <p><strong>PHASE 1 (Completed - 2025-10-17 10:52 AM):</strong></p>
          <ul class="compact-list">
            <li>✅ Removed ACL rule #17 (deny 10.10.100.0/24 → 172.16.50.0/24)</li>
            <li>✅ Verified ACL rule #22 (permit Finance → SharePoint HTTPS) now active</li>
            <li>✅ Tested with packet-tracer (result: ALLOW)</li>
            <li>✅ Confirmed user access restoration via real connection test</li>
          </ul>

          <p><strong>PHASE 2 (Scheduled - Tonight 8:00 PM):</strong></p>
          <ul class="compact-list">
            <li>⏳ Review entire INSIDE-TO-DMZ ACL for other conflicts</li>
            <li>⏳ Reorder rules (most specific first, general denies last)</li>
            <li>⏳ Add inline comments for documentation</li>
          </ul>

          <p><strong>PHASE 3 (Planned - 30-day roadmap):</strong></p>
          <ul class="compact-list">
            <li>📅 Implement pre-change ACL validation process</li>
            <li>📅 Deploy automated ACL conflict detection tools</li>
            <li>📅 Establish synthetic monitoring for critical DMZ paths</li>
          </ul>

          <hr>

          <p><strong>Results and Metrics:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before</th>
                <th>After</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Finance DMZ Access</td>
                <td><span class="error">BLOCKED</span></td>
                <td><span class="success">WORKING</span></td>
                <td><span class="success">100% ✓</span></td>
              </tr>
              <tr>
                <td>ACL Line 22 Hits</td>
                <td><span class="error">0</span></td>
                <td><span class="success">47+</span></td>
                <td><span class="success">Active ✓</span></td>
              </tr>
              <tr>
                <td>ACL Drops (Finance)</td>
                <td><span class="error">1,247/hour</span></td>
                <td><span class="success">0/hour</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
              <tr>
                <td>User Complaints</td>
                <td><span class="error">35 users</span></td>
                <td><span class="success">0 users</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Knowledge Sources Utilized:</strong></p>
          <ul class="compact-list">
            <li>📚 <strong>Knowledge Graph:</strong> 6 queries (topology, ACL configs, security policies, zone definitions)</li>
            <li>📚 <strong>RAG System:</strong> Retrieved 3 similar historical tickets + 3 troubleshooting documents</li>
            <li>🔧 <strong>MCP Servers:</strong> 12+ real-time queries (SSH CLI, packet-tracer, ACL analysis)</li>
            <li>🤖 <strong>AI Agents:</strong> 6 specialized agents deployed with inter-agent collaboration</li>
          </ul>

          <hr>

          <p><strong>Lessons Learned & Recommendations:</strong></p>
          <ul class="compact-list">
            <li>💡 Implement mandatory packet-tracer testing before/after all ACL changes</li>
            <li>💡 Establish ACL design standard: Specific permits before general denies</li>
            <li>💡 Deploy automated ACL conflict detection in pre-production testing</li>
            <li>💡 Enable monitoring for ACL hit counts (0 hits = potential issue)</li>
            <li>💡 Require post-change validation checklist for firewall modifications</li>
          </ul>

          <hr>

          <p><strong>Documentation & Artifacts:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete configuration backups (before/after) saved to repository</li>
            <li>📄 Packet-tracer test results archived for reference</li>
            <li>📄 Agent investigation logs stored for knowledge base</li>
            <li>📄 Updated runbook: "Firewall ACL Troubleshooting Procedure"</li>
          </ul>

          <hr>

          <p><strong>✅ TICKET STATUS: RESOLVED</strong></p>
          <p><strong>Resolution Category:</strong> Security Policy - Firewall ACL Configuration</p>
          <p><strong>Resolved By:</strong> AI Operations Center (MRA + 6 Specialized Agents)</p>
          <p><strong>Verified By:</strong> VERIFICATION_AGENT (all 5 tests passed)</p>
          <p><strong>User Satisfaction:</strong> ⭐⭐⭐⭐⭐ (Awaiting user feedback)</p>
        </div>
      </div>
    </div>

    <!-- STEP 25: User Notification -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📧</span>
        <span class="agent-name">STEP 25: IO_AGENT → USER - Final Notification</span>
        <span class="status-badge">Closed</span>
      </div>
      <div class="agent-content">
        <div class="notification-box">
          <p><strong>📧 Email Notification Sent:</strong></p>
          <hr>
          <p><strong>To:</strong> john@xyzcorp.com</p>
          <p><strong>CC:</strong> security-ops@xyzcorp.com</p>
          <p><strong>Subject:</strong> ✅ RESOLVED: Ticket #FW-8823 - Finance Department DMZ SharePoint Access</p>
          <p><strong>Sent:</strong> 2025-10-17 10:55:00 AM</p>
          <hr>
          <div class="email-body">
            <p>Hi John,</p>
            <p>Great news! Your ticket <strong>#FW-8823</strong> has been <strong>successfully resolved</strong>.</p>

            <p><strong>Issue Summary:</strong></p>
            <p>Finance department unable to access DMZ SharePoint server (172.16.50.10), caused by overlapping firewall ACL rules introduced during last night's maintenance. ACL rule #17 (deny Finance subnet) was inadvertently placed before rule #22 (permit SharePoint access).</p>

            <p><strong>Resolution:</strong></p>
            <p>Our AI Operations Center identified and removed the conflicting ACL rule #17 from firewall ASA-DC-01. The fix was deployed at 10:52 AM and verified successful immediately.</p>

            <p><strong>Results:</strong></p>
            <ul>
              <li>✅ Finance department access to DMZ SharePoint fully restored</li>
              <li>✅ Packet-tracer confirms traffic now permitted (ACL line 22)</li>
              <li>✅ ACL rule showing active hits (47+ connections)</li>
              <li>✅ Zero ACL drops from Finance subnet</li>
              <li>✅ No impact to other departments</li>
            </ul>

            <p><strong>Next Steps:</strong></p>
            <ul>
              <li>📅 Tonight 8:00 PM: Complete ACL review and optimization</li>
              <li>📄 Full incident report attached (PDF)</li>
              <li>📞 Security Operations team will implement enhanced change management process</li>
            </ul>

            <p><strong>Resolution Time:</strong> 2 hours 17 minutes (from ticket creation to verified fix)</p>

            <p>The issue is now fully resolved and your team should have normal access to DMZ SharePoint. If you experience any further issues, please open a new ticket or reply to this email.</p>

            <p><strong>We'd appreciate your feedback!</strong> Please rate your experience: <a href="#">⭐⭐⭐⭐⭐</a></p>

            <p>Thank you for using AI Operations Center!</p>

            <p>Best regards,<br>
            <strong>AI Operations Center</strong><br>
            Powered by MRA + 6 Specialized AI Agents<br>
            📧 aiops-support@xyzcorp.com | 📞 1-800-AIOPS-24</p>
          </div>
          <hr>
          <p><strong>Attachments:</strong></p>
          <ul class="compact-list">
            <li>📎 Incident_Report_FW-8823.pdf (2.8 MB)</li>
            <li>📎 ACL_Configuration_Changes.txt (12 KB)</li>
            <li>📎 Packet_Tracer_Results.txt (8 KB)</li>
          </ul>
        </div>

        <div class="success-box">
          <p><strong>🎉 TICKET #FW-8823 - CLOSED</strong></p>
          <ul class="compact-list">
            <li>✅ User notified via email</li>
            <li>✅ Final report delivered</li>
            <li>✅ Documentation archived</li>
            <li>✅ Knowledge base updated</li>
            <li>✅ Change tickets created for Phase 2 & 3</li>
            <li>⏱️ <strong>Total Resolution Time: 2 hours 17 minutes</strong></li>
            <li>🤖 <strong>AI Agents Efficiency: 17 minutes investigation + deployment</strong></li>
            <li>👥 <strong>Human Approval Time: 2 hours (waiting for user response)</strong></li>
          </ul>
        </div>

        <div class="completion-banner">
          <h2>✅ SCENARIO 2 COMPLETE - ALL 25 STEPS IMPLEMENTED</h2>
          <p><strong>Compliance Status: 100% v6 Standard</strong></p>
          <ul class="compact-list">
            <li>✅ Steps 1-5: Alert → IO_AGENT → Classification → MRA → KG</li>
            <li>✅ Steps 6-8: RAG → 3-Source Analysis → Agent Deployment</li>
            <li>✅ Steps 9-13: Specialized Agents (Firewall, ACL, Zone, Traffic Flow) with KG/RAG/MCP queries</li>
            <li>✅ Step 14: Inter-Agent Collaboration & Dynamic Task Delegation</li>
            <li>✅ Steps 15-16: ROOT_CAUSE_AGENT → MRA Correlation Analysis</li>
            <li>✅ Steps 17-18: Additional Tasks Evaluation → Clear RCA Statement</li>
            <li>✅ Steps 19-20: RECOMMENDATIONS_AGENT → IO_AGENT Transmission</li>
            <li>✅ Steps 21-23: User Permission → DEPLOYMENT_AGENT → VERIFICATION_AGENT</li>
            <li>✅ Steps 24-25: Final Report → User Notification → Ticket Closed</li>
          </ul>
          <p><strong>🎯 All 42 Agent Workflow Checklist Items Satisfied</strong></p>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    color: #00ff88;
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #888;
  }

  .info-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
  }

  .deployment-box {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
    padding: 15px;
    margin: 15px 0;
  }

  .verification-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
  }

  .final-report-box {
    background: #fff3e0;
    border: 2px solid #ff9800;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .notification-box {
    background: #f3e5f5;
    border-left: 4px solid #9c27b0;
    padding: 15px;
    margin: 15px 0;
  }

  .email-body {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }

  .completion-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: 30px 0;
    border-radius: 10px;
    text-align: center;
  }

  .completion-banner h2 {
    margin-top: 0;
    font-size: 24px;
  }

  .code-block {
    background: #263238;
    color: #aed581;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
  }

  .user-interaction-box {
    background: #fff9e6;
    border: 2px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .recommendation-phase {
    background: white;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    border-left: 3px solid #2196f3;
  }

  .rca-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .collaboration-exchange {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    margin: 15px 0;
    border-left: 3px solid #00ff88;
    border-radius: 4px;
  }

  .collab-from {
    font-weight: bold;
    color: #00aaff;
    margin-bottom: 5px;
  }

  .collab-message {
    font-style: italic;
    margin-left: 20px;
    color: #ccc;
  }

  .collab-response {
    margin-left: 20px;
    margin-top: 10px;
    color: #00ff88;
  }

  .symptom-tag {
    background: #ff9800;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .contributing-tag {
    background: #ffc107;
    color: black;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .root-cause-tag {
    background: #f44336;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }
</style>`
                ]
            },
            'network-latency': {
                title: 'Network Latency',
                icon: '🐌',
                description: 'Investigating high latency across WAN links',
                initialQuery: 'Show Network Latency Investigation',
                responses: [
                    `<!-- SCENARIO 3: NETWORK LATENCY ANALYSIS  -->


<div class="root-container">
  <h3>Agentic AI - Network Latency Investigation v6</h3>
  <p><strong>Complete 25-Step Workflow: Alert → Investigation → Resolution → Verification</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: ALERT/TICKET GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">MONITORING_SYSTEM → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Alert Generated from User Report:</strong></p>
        <ul class="compact-list">
          <li>⏰ Report Time: 2025-10-18 02:35:00 PM</li>
          <li>🔍 Report Source: User Complaint (Sarah Chen, Customer Support Team)</li>
          <li>⚠️ Issue Type: Network Latency Degradation</li>
          <li>🔴 Severity: HIGH</li>
          <li>📍 Affected Area: Customer Support Department (50 users)</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#LAT-6734</span></li>
            <li>Category: Network Performance</li>
            <li>Subcategory: High Latency</li>
            <li>Priority: P2 - High</li>
            <li>Auto-assigned to: Network Operations Team</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES TICKET -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #LAT-6734 Received - Initial Problem Statement:</strong></p>
        <div class="change-details">
          <p><strong>Reported By:</strong> Sarah Chen (sarah.chen@company.com)</p>
          <p><strong>Department:</strong> Customer Support Team</p>
          <p><strong>Users Impacted:</strong> ~50 users in customer support department</p>
          <p><strong>Initial Problem Description:</strong></p>
          <p>"Our entire customer support team is experiencing severe network latency issues. VoIP calls have significant delay making conversations difficult. Our CRM application (Salesforce) is extremely slow to respond - taking 15-20 seconds to load customer records that normally load instantly. This started yesterday afternoon around 2:30 PM, right after the scheduled network maintenance window. Normal latency is 10-20ms but we're seeing 250-400ms consistently."</p>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering additional context before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS CLARIFYING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Asking Clarifying Questions:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which specific sites or network segments are experiencing high latency?</strong></p>
            <p class="answer">A1: Primarily our headquarters office connecting to our data center. All 50 customer support team members are affected.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Are all applications affected or specific ones?</strong></p>
            <p class="answer">A2: Mainly VoIP (Cisco Unified Communications) and CRM (Salesforce cloud). Web browsing seems slightly slower but not as bad. Email (Office 365) appears mostly normal.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: When exactly did the latency issues begin? What changed?</strong></p>
            <p class="answer">A3: Started yesterday (Oct 17) at approximately 2:30 PM, immediately after network maintenance ended. The maintenance was QoS policy updates on our WAN routers. Issue persists today.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: What is the business impact?</strong></p>
            <p class="answer">A4: Critical impact - Customer support team can't efficiently handle customer calls. VoIP delay causes customers to repeat themselves. CRM slowness means agents can't quickly access customer information during calls. Customer satisfaction at risk.</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: Have you performed any troubleshooting? What were the normal latency values before the issue?</strong></p>
            <p class="answer">A5: Normal latency to data center was 10-20ms. Currently seeing 250-400ms. Basic ping tests confirm high latency. No troubleshooting beyond that - escalating to you.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: PROBLEM CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Problem Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Problem Type</td>
                <td>Network Performance Degradation</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>High Latency / Delay</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Single Site → Data Center WAN</td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td>Persistent (since maintenance)</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P2 - High</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Escalating to <strong>MASTER_REASONING_AGENT</strong> for systematic investigation
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Investigation:</strong></p>
        <div class="change-details">
          <p><strong>Ticket Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ Latency increased from 10-20ms to 250-400ms (12-20x degradation)</li>
            <li>✓ Issue started immediately after QoS policy maintenance - strong correlation</li>
            <li>✓ VoIP and CRM most affected - time-sensitive applications</li>
            <li>✓ Issue persistent for 24+ hours - not intermittent</li>
          </ul>
          <p><strong>Investigation Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for network topology, WAN links, and QoS configurations</li>
            <li>2. Search RAG system for similar latency issues post-maintenance</li>
            <li>3. Perform three-source analysis (Problem + KG + RAG)</li>
            <li>4. Deploy specialized agents for targeted investigation</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for Network Context:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: Network Topology</strong></p>
          <ul class="compact-list">
            <li>✓ Retrieved: Customer Support Office → WAN connection to Data Center</li>
            <li>✓ HQ Office: 10.50.0.0/16 (50 users)</li>
            <li>✓ Data Center: 10.1.0.0/16</li>
            <li>✓ WAN Routers: WAN-RTR-01 (HQ), WAN-RTR-02 (DC), MPLS-PE-01 (Provider Edge)</li>
            <li>✓ WAN Link: MPLS 100 Mbps connection</li>
          </ul>
          <p><strong>Query 2: WAN Router Configurations</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Device</th>
                  <th>Model</th>
                  <th>OS Version</th>
                  <th>Key Config</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>WAN-RTR-01</td>
                  <td>Cisco ISR 4451</td>
                  <td>IOS-XE 17.6.5</td>
                  <td>HQ WAN Router</td>
                </tr>
                <tr>
                  <td>WAN-RTR-02</td>
                  <td>Cisco ISR 4451</td>
                  <td>IOS-XE 17.6.5</td>
                  <td>DC WAN Router</td>
                </tr>
                <tr>
                  <td>MPLS-PE-01</td>
                  <td>Cisco ASR 1002</td>
                  <td>IOS-XE 17.9.2</td>
                  <td>Provider Edge Router</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: QoS Policy Configurations</strong></p>
          <ul class="compact-list">
            <li>✓ QoS Policy Name: "WAN-QOS-POLICY"</li>
            <li>✓ Last Modified: 2025-10-17 14:30 (during maintenance window)</li>
            <li>✓ Policy Classes: VOICE, BUSINESS-CRITICAL, BEST-EFFORT</li>
            <li>✓ Historical baseline: VoIP latency 10-15ms, CRM response <1s</li>
          </ul>
          <p><strong>Query 4: Recent Change History</strong></p>
          <ul class="metric-list">
            <li>Change Ticket: <span class="highlight">CHG-2025-1017-QOS</span></li>
            <li>Change Type: <span class="warning">QoS Policy Update</span></li>
            <li>Implementation Time: <span class="problem-value">Oct 17, 2:00-2:30 PM</span></li>
            <li>Change Description: "Updated QoS policies to add new traffic classes"</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-warning">Recent QoS Change Detected</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Similar Incidents and Solutions:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "high latency + WAN + QoS policy + maintenance"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Similarity</th>
                  <th>Problem</th>
                  <th>Resolution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>TKT-52134</td>
                  <td><span class="success">92%</span></td>
                  <td>Latency spike after QoS change</td>
                  <td>Priority queue misconfiguration - removed LLQ</td>
                </tr>
                <tr>
                  <td>TKT-48723</td>
                  <td><span class="success">85%</span></td>
                  <td>VoIP delay post-maintenance</td>
                  <td>QoS priority queue accidentally disabled</td>
                </tr>
                <tr>
                  <td>TKT-41298</td>
                  <td><span class="warning">71%</span></td>
                  <td>WAN latency increase</td>
                  <td>Traffic shaping rate too restrictive</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Troubleshooting Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>QoS_Priority_Queue_Best_Practices.pdf</strong> (Cisco Doc ID: 125489)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ VoIP requires Low Latency Queuing (LLQ) with priority queue</li>
            <li>📄 <strong>Latency_Troubleshooting_Guide.pdf</strong> (Cisco Press 2024)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Common cause: QoS priority queue missing causes VoIP to use FIFO queue</li>
            <li>📄 <strong>WAN_QoS_Configuration_Checklist.pdf</strong> (Internal KB-9245)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Always verify "priority" keyword in voice class after changes</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 2 highly similar incidents (92%, 85%) - both caused by missing priority queue</li>
            <li>✓ Common pattern: QoS policy changes accidentally remove Low Latency Queuing</li>
            <li>✓ Resolution: Restore "priority" keyword to VoIP traffic class</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">High Confidence Pattern Match</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Problem Statement:</strong></p>
            <ul class="compact-list">
              <li>Latency increased from 10-20ms to 250-400ms (20x degradation)</li>
              <li>Started immediately after QoS maintenance (Oct 17, 2:30 PM)</li>
              <li>VoIP and CRM most severely affected</li>
              <li>Persistent issue - not intermittent</li>
              <li>50 users in customer support team impacted</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>QoS policy "WAN-QOS-POLICY" modified during maintenance</li>
              <li>Change ticket CHG-2025-1017-QOS implemented Oct 17, 2:00-2:30 PM</li>
              <li>WAN routers: WAN-RTR-01, WAN-RTR-02, MPLS-PE-01</li>
              <li>MPLS 100 Mbps WAN link between HQ and DC</li>
              <li>Timing matches perfectly: issue started when maintenance ended</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>92% similarity to TKT-52134 (QoS priority queue removed)</li>
              <li>85% similarity to TKT-48723 (VoIP priority queue disabled)</li>
              <li>Both historical issues: QoS changes removed Low Latency Queuing</li>
              <li>Standard resolution: Restore "priority" keyword to voice class</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Hypothesis:</strong> QoS policy update during maintenance accidentally removed or misconfigured the priority queue for VoIP traffic, causing voice packets to queue behind bulk traffic instead of receiving expedited forwarding. Need to verify QoS configuration with specialized agents.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Targeted Investigation:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">🗺️</div>
            <div class="deployment-name">TOPOLOGY_AGENT</div>
            <div class="deployment-task">Map traffic paths</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">⏱️</div>
            <div class="deployment-name">LATENCY_MEASUREMENT_AGENT</div>
            <div class="deployment-task">Measure hop-by-hop latency</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔗</div>
            <div class="deployment-name">WAN_LINK_AGENT</div>
            <div class="deployment-task">Verify WAN link health</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📋</div>
            <div class="deployment-name">QOS_POLICY_AGENT</div>
            <div class="deployment-task">Analyze QoS configs</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔧</div>
            <div class="deployment-name">ROOT_CAUSE_AGENT</div>
            <div class="deployment-task">Correlate all findings</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💡</div>
            <div class="deployment-name">RECOMMENDATIONS_AGENT</div>
            <div class="deployment-task">Generate remediation plan</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: TOPOLOGY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🗺️</span>
        <span class="agent-name">TOPOLOGY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Network Path Mapping via Knowledge Graph & MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved stored topology (last updated: 2025-10-15)</li>
            <li>🔌 <strong>MCP NETCONF:</strong> Live routing tables from WAN-RTR-01, WAN-RTR-02</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show ip route, show cdp neighbors</li>
          </ul>
          <p><strong>Traffic Path Analysis:</strong></p>
          <ul class="compact-list">
            <li>Customer Support Users (10.50.10.0/24) → HQ LAN Switch</li>
            <li>HQ LAN Switch → WAN-RTR-01 (10.50.1.1) GigE 0/0/0</li>
            <li>WAN-RTR-01 GigE 0/0/1 → MPLS-PE-01 (Provider Network)</li>
            <li>MPLS Cloud → WAN-RTR-02 GigE 0/0/1 (DC WAN Router)</li>
            <li>WAN-RTR-02 GigE 0/0/0 → DC Core Switches → Application Servers</li>
          </ul>
          <p><strong>Routing Verification:</strong></p>
          <ul class="compact-list">
            <li>✅ All routing adjacencies UP (OSPF + BGP)</li>
            <li>✅ No routing loops detected</li>
            <li>✅ Symmetric paths confirmed (HQ ↔ DC)</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Network topology correctly mapped</li>
          <li>✅ All routing protocols operational</li>
          <li>✅ No path changes since maintenance</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>⚠️ No topology issues identified - latency must be caused by queuing/QoS</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Topology Verified - No Issues</span>
        </div>
      </div>
    </div>

    <!-- STEP 11: LATENCY_MEASUREMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⏱️</span>
        <span class="agent-name">LATENCY_MEASUREMENT_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Hop-by-Hop Latency Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP CLI (SSH):</strong> Extended ping with record-route option</li>
            <li>🔌 <strong>MCP SNMP:</strong> Interface latency statistics</li>
            <li>🔌 <strong>MCP IP SLA:</strong> Real-time latency measurements</li>
          </ul>
          <p><strong>Ping Tests - HQ to DC (10.50.10.5 → 10.1.20.10):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Hop</th>
                  <th>Device</th>
                  <th>IP Address</th>
                  <th>Latency</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>HQ LAN Switch</td>
                  <td>10.50.1.254</td>
                  <td><span class="success">0.5ms</span></td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>WAN-RTR-01</td>
                  <td>10.50.1.1</td>
                  <td><span class="success">1.2ms</span></td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>MPLS-PE-01</td>
                  <td>192.168.100.1</td>
                  <td><span class="success">8.5ms</span></td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>WAN-RTR-02</td>
                  <td>10.1.1.1</td>
                  <td><span class="problem-value">285ms</span></td>
                </tr>
                <tr>
                  <td>5</td>
                  <td>DC Server</td>
                  <td>10.1.20.10</td>
                  <td><span class="problem-value">287ms</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Key Finding:</strong> Major latency spike (276ms increase) occurs at hop 4 (WAN-RTR-02), indicating queuing delay on DC WAN router.</p>
          <p><strong>Traceroute Analysis:</strong></p>
          <pre class="code-block">Tracing route to 10.1.20.10 over a maximum of 30 hops:
  1    <1 ms    <1 ms    <1 ms  10.50.1.254 (HQ-LAN-SW)
  2     1 ms     1 ms     1 ms  10.50.1.1 (WAN-RTR-01)
  3     8 ms     9 ms     8 ms  192.168.100.1 (MPLS-PE-01)
  4   285 ms   290 ms   283 ms  10.1.1.1 (WAN-RTR-02)  ⚠️ HIGH LATENCY
  5   287 ms   292 ms   285 ms  10.1.20.10 (DC-SERVER)

Trace complete.</pre>
          <p><strong>IP SLA Results (Real-time monitoring):</strong></p>
          <ul class="metric-list">
            <li>Average Latency: <span class="problem-value">288ms</span> (Baseline: 12ms)</li>
            <li>Jitter: <span class="problem-value">45ms</span> (Baseline: 2ms)</li>
            <li>Packet Loss: <span class="success">0%</span></li>
            <li>Max Latency: <span class="problem-value">412ms</span></li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ MPLS network latency normal (8-9ms)</li>
          <li>✅ No packet loss detected</li>
          <li>✅ Hops 1-3 showing normal latency</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ WAN-RTR-02 adding 276ms latency (should be <2ms)</li>
          <li>❌ Indicates queuing/processing delay on WAN-RTR-02</li>
          <li>❌ High jitter (45ms) suggests inconsistent queue servicing</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Latency Spike Isolated to WAN-RTR-02</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: WAN_LINK_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔗</span>
        <span class="agent-name">WAN_LINK_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>WAN Link Health Verification via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP NETCONF:</strong> Interface statistics from WAN routers</li>
            <li>🔌 <strong>MCP SNMP:</strong> Link utilization and error counters</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show interface GigabitEthernet 0/0/1</li>
          </ul>
          <p><strong>WAN-RTR-01 (HQ) - Interface GigE 0/0/1 (WAN uplink):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Value</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Link Status</td>
                  <td>Up/Up</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Bandwidth</td>
                  <td>100 Mbps</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Utilization</td>
                  <td>32% (avg)</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Input Errors</td>
                  <td>0</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Output Errors</td>
                  <td>0</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>CRC Errors</td>
                  <td>0</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>WAN-RTR-02 (DC) - Interface GigE 0/0/1 (WAN uplink):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Value</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Link Status</td>
                  <td>Up/Up</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Bandwidth</td>
                  <td>100 Mbps</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Utilization</td>
                  <td>28% (avg)</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Input Errors</td>
                  <td>0</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Output Errors</td>
                  <td>0</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Output Queue Drops</td>
                  <td><span class="warning">18,432</span></td>
                  <td><span class="status-tag status-warning">CHECK</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Queue Statistics - WAN-RTR-02 GigE 0/0/1:</strong></p>
          <ul class="metric-list">
            <li>Queue Depth: <span class="problem-value">512/512 packets (100% full)</span></li>
            <li>Queue Drops (24h): <span class="problem-value">18,432 packets</span></li>
            <li>Average Queue Delay: <span class="problem-value">278ms</span></li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ WAN links physically healthy (Up/Up)</li>
          <li>✅ Bandwidth adequate (32% utilization - not congested)</li>
          <li>✅ No physical layer errors</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ WAN-RTR-02 output queue constantly full (512/512)</li>
          <li>❌ 18,432 queue drops in past 24 hours</li>
          <li>❌ Average queue delay 278ms (matches observed latency)</li>
          <li>❌ Queuing issue despite low link utilization (28%)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Queue Saturation on WAN-RTR-02</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: QOS_POLICY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">QOS_POLICY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>QoS Policy Configuration Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved QoS config history</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show policy-map WAN-QOS-POLICY</li>
            <li>🔌 <strong>RAG Query:</strong> "QoS priority queue configuration VoIP"</li>
          </ul>
          <p><strong>Current QoS Policy on WAN-RTR-02 (Post-Maintenance):</strong></p>
          <pre class="code-block">WAN-RTR-02# show policy-map WAN-QOS-POLICY

Policy Map WAN-QOS-POLICY
  Class VOICE
    bandwidth percent 30
    set dscp ef
  Class BUSINESS-CRITICAL
    bandwidth percent 40
    set dscp af31
  Class VIDEO-CONF
    bandwidth percent 15
    set dscp af41
  Class class-default
    fair-queue
    bandwidth percent 15</pre>
          <p><strong>Previous QoS Policy (Pre-Maintenance):</strong></p>
          <pre class="code-block">WAN-RTR-02# show archive config differences

Policy Map WAN-QOS-POLICY
  Class VOICE
    <span class="problem-value">priority percent 30</span>  ⬅️ REMOVED!
    set dscp ef
  Class BUSINESS-CRITICAL
    bandwidth percent 40
    set dscp af31
  Class class-default
    fair-queue
    bandwidth percent 30</pre>
          <p><strong>Critical Difference Identified:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Parameter</th>
                  <th>Before (Working)</th>
                  <th>After (Broken)</th>
                  <th>Impact</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>VOICE Class</td>
                  <td><span class="success">priority percent 30</span></td>
                  <td><span class="problem-value">bandwidth percent 30</span></td>
                  <td>No Low Latency Queue!</td>
                </tr>
                <tr>
                  <td>Queue Type</td>
                  <td><span class="success">Priority Queue (LLQ)</span></td>
                  <td><span class="problem-value">Standard CBWFQ</span></td>
                  <td>VoIP queued, not expedited</td>
                </tr>
                <tr>
                  <td>VIDEO-CONF Class</td>
                  <td><span class="success">N/A</span></td>
                  <td><span class="warning">New class added</span></td>
                  <td>Reduced class-default BW</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>RAG Best Practices Comparison:</strong></p>
          <ul class="compact-list">
            <li>📄 Cisco Doc: "VoIP MUST use 'priority' keyword for Low Latency Queue"</li>
            <li>📄 Best Practice: "Never use 'bandwidth' for time-sensitive traffic"</li>
            <li>📄 RFC 4594: "Voice traffic requires expedited forwarding (priority queue)"</li>
          </ul>
          <p><strong>Root Cause Identified:</strong></p>
          <p class="highlight">During QoS policy maintenance, the "priority" keyword was changed to "bandwidth" for the VOICE class. This removed Low Latency Queuing (LLQ), forcing VoIP packets into a standard Class-Based Weighted Fair Queue (CBWFQ). Voice packets now wait in queue behind other traffic instead of receiving immediate forwarding, adding ~280ms queuing delay.</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ QoS policy correctly applied to interface</li>
          <li>✅ DSCP markings configured correctly</li>
          <li>✅ Bandwidth percentages add up to 100%</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ VOICE class using "bandwidth" instead of "priority"</li>
          <li>❌ No Low Latency Queue (LLQ) for VoIP traffic</li>
          <li>❌ VoIP packets queuing instead of immediate forwarding</li>
          <li>❌ Configuration change occurred during Oct 17 maintenance</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">QoS Misconfiguration - Priority Queue Removed</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💬</span>
        <span class="agent-name">AGENT_COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Inter-Agent Communication & Task Delegation:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p><strong>Exchange 1:</strong></p>
            <p class="collab-from">🗺️ TOPOLOGY_AGENT → ⏱️ LATENCY_MEASUREMENT_AGENT:</p>
            <p class="collab-message">"I've mapped the path: HQ → WAN-RTR-01 → MPLS → WAN-RTR-02 → DC. Can you perform hop-by-hop latency measurements to isolate where the delay is occurring?"</p>
            <p class="collab-response">⏱️ Response: "Acknowledged. Running traceroute and IP SLA tests now. Will report latency per hop."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 2:</strong></p>
            <p class="collab-from">⏱️ LATENCY_MEASUREMENT_AGENT → 🔗 WAN_LINK_AGENT:</p>
            <p class="collab-message">"Isolated latency spike to WAN-RTR-02 (276ms added). This suggests queuing delay, not propagation delay. Can you check queue statistics and interface health on WAN-RTR-02?"</p>
            <p class="collab-response">🔗 Response: "Will prioritize WAN-RTR-02 interface analysis. Checking queue depth and drops now."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 3:</strong></p>
            <p class="collab-from">🔗 WAN_LINK_AGENT → 📋 QOS_POLICY_AGENT:</p>
            <p class="collab-message">"Confirmed: WAN-RTR-02 output queue saturated (512/512 packets) with 278ms average delay. Link utilization only 28%, so not congestion. Suspect QoS misconfiguration. Can you analyze the QoS policy on WAN-RTR-02?"</p>
            <p class="collab-response">📋 Response: "Checking QoS policy now. Will compare current config against baseline and best practices."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 4:</strong></p>
            <p class="collab-from">📋 QOS_POLICY_AGENT → 🔗 WAN_LINK_AGENT:</p>
            <p class="collab-message">"Found root cause! VOICE class changed from 'priority' to 'bandwidth' during maintenance. This removed Low Latency Queue, forcing VoIP into standard queue. Explains your 278ms queue delay observation."</p>
            <p class="collab-response">🔗 Response: "Perfect correlation! Queue delay (278ms) matches VoIP class queuing time. This confirms your finding."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 5:</strong></p>
            <p class="collab-from">📋 QOS_POLICY_AGENT → 🔧 ROOT_CAUSE_AGENT:</p>
            <p class="collab-message">"Root cause confirmed: QoS policy change removed priority queue for voice. All evidence correlates. Ready for final RCA."</p>
            <p class="collab-response">🔧 Response: "Acknowledged. Collecting all findings for comprehensive root cause analysis."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Dynamic Task Adjustment:</strong></p>
            <ul class="compact-list">
              <li>✓ LATENCY_AGENT narrowed focus to WAN-RTR-02 based on traceroute</li>
              <li>✓ WAN_LINK_AGENT prioritized queue analysis based on latency data</li>
              <li>✓ QOS_POLICY_AGENT focused on WAN-RTR-02 policy based on queue findings</li>
              <li>✓ All agents converged on QoS priority queue hypothesis</li>
            </ul>
          </div>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Collaborating Effectively</span>
        </div>
      </div>
    </div>

    <!-- STEP 15: ROOT_CAUSE_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">ROOT_CAUSE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Root Cause Analysis - Correlating All Agent Findings:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Compilation:</strong></p>
          <ul class="compact-list">
            <li>✓ TOPOLOGY_AGENT: Traffic path correctly mapped, no topology changes</li>
            <li>✓ LATENCY_MEASUREMENT_AGENT: 276ms latency added at WAN-RTR-02 hop</li>
            <li>✓ WAN_LINK_AGENT: WAN-RTR-02 queue saturated with 278ms average delay</li>
            <li>✓ QOS_POLICY_AGENT: VOICE class "priority" changed to "bandwidth"</li>
            <li>✓ RAG Historical Data: 92% similarity to TKT-52134 (same root cause)</li>
          </ul>
          <p><strong>Timeline Correlation:</strong></p>
          <ul class="metric-list">
            <li>Oct 17, 2:00 PM: QoS maintenance begins</li>
            <li>Oct 17, 2:30 PM: QoS policy updated, maintenance ends</li>
            <li>Oct 17, 2:30 PM: Latency issues begin (reported by users)</li>
            <li>Oct 18, 2:35 PM: Ticket created after 24 hours of issues</li>
          </ul>
        </div>
        <p><strong>Root Cause Statement:</strong></p>
        <div class="rca-box">
          <p><strong>PRIMARY ROOT CAUSE:</strong></p>
          <p>During QoS policy maintenance on October 17 at 2:00-2:30 PM, the VOICE traffic class on WAN-RTR-02 was incorrectly changed from "priority percent 30" (Low Latency Queue) to "bandwidth percent 30" (standard CBWFQ). This configuration error removed expedited forwarding for VoIP packets, forcing them to wait in the standard output queue behind other traffic classes. The resulting queuing delay averages 278ms, causing the observed 250-400ms latency increase.</p>
          <p><strong>CONTRIBUTING FACTORS:</strong></p>
          <ul class="compact-list">
            <li>1. QoS policy template error - "priority" keyword missing in new config</li>
            <li>2. Insufficient post-maintenance verification - latency tests not performed</li>
            <li>3. Change control process did not catch the configuration regression</li>
            <li>4. No automated QoS policy validation before deployment</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Root Cause Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CORRELATION ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Correlation Analysis - Symptoms vs. Causes:</strong></p>
        <div class="change-details">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Severity</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting VoIP call delays</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>CRM slowness (15-20s load times)</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Application-level symptom</td>
                </tr>
                <tr>
                  <td>250-400ms latency (was 10-20ms)</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Network-level symptom</td>
                </tr>
                <tr>
                  <td>276ms delay at WAN-RTR-02</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Hop-specific symptom</td>
                </tr>
                <tr>
                  <td>278ms average queue delay</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Queue-level symptom</td>
                </tr>
                <tr>
                  <td>Output queue saturated (512/512)</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Causes queuing delay</td>
                </tr>
                <tr>
                  <td>18,432 queue drops</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Result of queue saturation</td>
                </tr>
                <tr>
                  <td>VOICE class using CBWFQ not LLQ</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>High</td>
                  <td>VoIP not expedited</td>
                </tr>
                <tr>
                  <td>"priority" changed to "bandwidth"</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Configuration error</td>
                </tr>
                <tr>
                  <td>QoS maintenance Oct 17 2:30 PM</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>When error introduced</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms started at exact time of QoS maintenance completion</li>
            <li>✓ Latency values (276ms, 278ms, 250-400ms) all correlate</li>
            <li>✓ Issue affects time-sensitive apps (VoIP, CRM) most severely</li>
            <li>✓ Historical tickets show identical pattern and resolution</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed with 100% confidence. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Task Assignment (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Task Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Root cause clearly identified: QoS priority queue removed during maintenance</p>
          <p>✓ All specialized agents have completed their investigations</p>
          <p>✓ Findings are conclusive and perfectly correlated</p>
          <p>✓ Sufficient data collected from KG, RAG, and MCP servers</p>
          <p><strong>Decision: No additional investigation tasks required. Proceeding directly to resolution recommendations.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear RCA Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: ROOT CAUSE ANALYSIS - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 ROOT CAUSE ANALYSIS STATEMENT</h3>
          <p><strong>Primary Root Cause:</strong></p>
          <p class="highlight">The 250-400ms network latency affecting VoIP and CRM applications is caused by a <strong>QoS policy misconfiguration introduced during maintenance on October 17 at 2:30 PM</strong>. The VOICE traffic class on WAN-RTR-02 was incorrectly changed from "priority percent 30" (Low Latency Queue) to "bandwidth percent 30" (standard CBWFQ), eliminating expedited forwarding for VoIP packets and adding ~278ms of queuing delay.</p>

          <p><strong>Contributing Factors:</strong></p>
          <ul class="compact-list">
            <li>• Configuration template error - "priority" keyword omitted from VOICE class</li>
            <li>• Insufficient post-change verification - no latency testing performed</li>
            <li>• Change control process did not detect QoS regression</li>
            <li>• Lack of automated QoS policy validation tools</li>
          </ul>

          <p><strong>Evidence Supporting RCA:</strong></p>
          <ul class="compact-list">
            <li>✓ Traceroute shows 276ms latency added specifically at WAN-RTR-02 hop</li>
            <li>✓ Queue statistics show 278ms average queuing delay on WAN-RTR-02</li>
            <li>✓ QoS policy analysis confirms "priority" keyword removed from VOICE class</li>
            <li>✓ Issue timing matches exactly with QoS maintenance completion (Oct 17, 2:30 PM)</li>
            <li>✓ Historical tickets (TKT-52134, TKT-48723) show identical pattern and resolution</li>
            <li>✓ RAG best practices confirm VoIP requires "priority" keyword for LLQ</li>
          </ul>

          <p><strong>Business Impact:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: Customer support team unable to handle calls efficiently (50 users)</li>
            <li>🔴 Critical: VoIP call delay causing customer frustration and repeat questions</li>
            <li>🟡 Medium: CRM application slowness (15-20s load times vs. <1s normal)</li>
            <li>⏱️ Duration: 24+ hours of degraded service (Oct 17 2:30 PM - Present)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: RECOMMENDATIONS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">STEP 19: RECOMMENDATIONS_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved baseline QoS configuration (pre-maintenance)</li>
          <li>📚 RAG Query: Retrieved resolution procedures from similar tickets</li>
          <li>🔧 MCP Server: Retrieved current and archived QoS configurations</li>
        </ul>

        <div class="info-box">
          <h3>🎯 THREE-PHASE REMEDIATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 15 minutes)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Restore Priority Queue for VOICE Class</strong></p>
            <ul class="compact-list">
              <li>✓ Change "bandwidth percent 30" to "priority percent 30" in VOICE class</li>
              <li>✓ Deploy to WAN-RTR-02 via NETCONF</li>
              <li>⏱️ Deployment time: 2 minutes</li>
              <li>📊 Expected impact: Reduce latency from 280ms to <15ms immediately</li>
            </ul>

            <p><strong>Action 1.2 - Verify QoS Policy on WAN-RTR-01</strong></p>
            <ul class="compact-list">
              <li>✓ Ensure WAN-RTR-01 also has correct priority queue configuration</li>
              <li>✓ Verify symmetric QoS policies on both WAN routers</li>
              <li>⏱️ Verification time: 3 minutes</li>
            </ul>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 24 hours)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - Update QoS Configuration Templates</strong></p>
            <ul class="compact-list">
              <li>✓ Review and fix all QoS policy templates in repository</li>
              <li>✓ Ensure VOICE class always uses "priority" keyword</li>
              <li>✓ Add inline comments documenting critical QoS requirements</li>
              <li>⏱️ Implementation: Within 4 hours</li>
            </ul>

            <p><strong>Action 2.2 - Implement Post-Change Verification Checklist</strong></p>
            <ul class="compact-list">
              <li>✓ Add mandatory latency tests after QoS changes</li>
              <li>✓ Verify "show policy-map" output includes "priority" for voice</li>
              <li>✓ Document in change control procedure</li>
              <li>⏱️ Implementation: Within 24 hours</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Automated QoS Policy Validation</strong></p>
            <ul class="compact-list">
              <li>✓ Develop automated test script to validate QoS configs</li>
              <li>✓ Check for presence of "priority" keyword in VOICE class</li>
              <li>✓ Integrate into CI/CD pipeline for config deployments</li>
              <li>⏱️ Timeline: 2-week development sprint</li>
            </ul>

            <p><strong>Action 3.2 - Enhanced Monitoring and Alerting</strong></p>
            <ul class="compact-list">
              <li>✓ Implement continuous latency monitoring (IP SLA)</li>
              <li>✓ Alert on latency >50ms threshold (baseline: 10-20ms)</li>
              <li>✓ Monitor QoS queue statistics for saturation</li>
              <li>⏱️ Timeline: 2 weeks for full deployment</li>
            </ul>

            <p><strong>Action 3.3 - QoS Configuration Audit</strong></p>
            <ul class="compact-list">
              <li>✓ Audit all WAN routers for consistent QoS policies</li>
              <li>✓ Standardize QoS configurations across all sites</li>
              <li>✓ Create QoS policy compliance dashboard</li>
              <li>⏱️ Timeline: 30-day rollout across all sites</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Restore priority queue</td>
              <td><span class="success">LOW</span></td>
              <td>Reverting to known-good config</td>
              <td>1 minute</td>
            </tr>
            <tr>
              <td>QoS template updates</td>
              <td><span class="success">LOW</span></td>
              <td>Template-only, no device impact</td>
              <td>N/A</td>
            </tr>
            <tr>
              <td>Automated validation</td>
              <td><span class="success">LOW</span></td>
              <td>Read-only monitoring tool</td>
              <td>N/A</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ Latency reduced from 250-400ms to 10-20ms (baseline)</li>
          <li>✓ VoIP call quality restored (delay <150ms)</li>
          <li>✓ CRM load times back to <1 second</li>
          <li>✓ Zero queue saturation on WAN-RTR-02</li>
          <li>✓ No user complaints after deployment</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: RECOMMENDATIONS_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the solution design based on RCA findings, KG config history, and RAG historical resolutions. I recommend proceeding with PHASE 1 immediate action (restore priority queue) to provide instant relief within 15 minutes. This is a simple config revert to known-good state."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase remediation plan</li>
            <li>📄 NETCONF configuration snippet for deployment</li>
            <li>📄 Before/After QoS policy comparison</li>
            <li>📄 Risk assessment matrix</li>
            <li>📄 Success criteria and verification tests</li>
            <li>📄 Rollback procedures (if needed)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (Sarah Chen):</strong></p>
          <p>"Sarah, our AI agents have completed the investigation of ticket #LAT-6734 (high latency issue)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: QoS priority queue removed during Oct 17 maintenance</li>
            <li>📊 Impact: 250-400ms latency (normal: 10-20ms) affecting VoIP and CRM</li>
            <li>⏱️ Affecting: Customer support team (50 users)</li>
          </ul>

          <p><strong>Recommended Immediate Solution (PHASE 1):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Restore "priority percent 30" configuration to VOICE class on WAN-RTR-02</li>
            <li>2️⃣ Verify symmetric QoS policy on WAN-RTR-01</li>
            <li>⏱️ Total deployment time: ~5 minutes</li>
            <li>📉 Expected result: Latency reduced from 280ms to <15ms immediately</li>
            <li>🔄 Rollback time: 1 minute if any issues occur (simple config revert)</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve the deployment of PHASE 1 immediate action?</strong></p>
            <p class="answer">✅ A1: Yes, absolutely! Our customer support team is severely impacted. Please proceed immediately.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Can we deploy this change now, or do you require a maintenance window?</strong></p>
            <p class="answer">✅ A2: Deploy now - this is critical. The change is simply reverting the mistake from yesterday's maintenance.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Should we proceed with PHASE 2 (template updates and process improvements) within 24 hours?</strong></p>
            <p class="answer">✅ A3: Yes, please. We need to prevent this from happening again. I'll coordinate with the network team.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Who should receive the final resolution report?</strong></p>
            <p class="answer">✅ A4: Send to me (sarah.chen@company.com) and CC network-ops@company.com and my manager (mike.johnson@company.com)</p>
          </div>
        </div>
        <p><strong>✅ User Permission Granted: Proceeding to deployment phase</strong></p>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Configuration Deployment</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Initiated - Deployment Plan:</strong></p>
        <ul class="compact-list">
          <li>🎯 Target Device: WAN-RTR-02 (Data Center WAN Router)</li>
          <li>🔧 Deployment Method: NETCONF over SSH (Port 830)</li>
          <li>⏱️ Start Time: 2025-10-18 03:15:30 PM</li>
          <li>👤 Authorized By: Sarah Chen (sarah.chen@company.com)</li>
          <li>🎫 Emergency Change Ticket: ECHG-2025-1018-001</li>
        </ul>

        <div class="deployment-box">
          <p><strong>📝 ACTION 1: Restore Priority Queue for VOICE Class on WAN-RTR-02</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;policy&gt;
      &lt;policy-map&gt;
        &lt;name&gt;WAN-QOS-POLICY&lt;/name&gt;
        &lt;class&gt;
          &lt;name&gt;VOICE&lt;/name&gt;
          &lt;!-- CHANGE: bandwidth → priority --&gt;
          &lt;priority&gt;
            &lt;percent&gt;30&lt;/percent&gt;  &lt;!-- Restore LLQ for VoIP --&gt;
          &lt;/priority&gt;
          &lt;set&gt;
            &lt;dscp&gt;ef&lt;/dscp&gt;
          &lt;/set&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;BUSINESS-CRITICAL&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;40&lt;/percent&gt;
          &lt;/bandwidth&gt;
          &lt;set&gt;
            &lt;dscp&gt;af31&lt;/dscp&gt;
          &lt;/set&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;VIDEO-CONF&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;15&lt;/percent&gt;
          &lt;/bandwidth&gt;
          &lt;set&gt;
            &lt;dscp&gt;af41&lt;/dscp&gt;
          &lt;/set&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;class-default&lt;/name&gt;
          &lt;fair-queue&gt;true&lt;/fair-queue&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;15&lt;/percent&gt;
          &lt;/bandwidth&gt;
        &lt;/class&gt;
      &lt;/policy-map&gt;
    &lt;/policy&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 03:15:32 - NETCONF session established to WAN-RTR-02</li>
            <li>⏱️ 03:15:35 - Configuration validated (no syntax errors)</li>
            <li>⏱️ 03:15:38 - Removing "bandwidth percent 30" from VOICE class</li>
            <li>⏱️ 03:15:41 - Adding "priority percent 30" to VOICE class</li>
            <li>⏱️ 03:15:43 - Priority queue (LLQ) enabled for VOICE class</li>
            <li>✅ 03:15:45 - <strong>ACTION 1 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <div class="deployment-box">
          <p><strong>📝 ACTION 2: Verify QoS Policy on WAN-RTR-01 (HQ Router)</strong></p>
          <p><strong>MCP CLI Query:</strong></p>
          <pre class="code-block">WAN-RTR-01# show policy-map WAN-QOS-POLICY

Policy Map WAN-QOS-POLICY
  Class VOICE
    priority percent 30  ✅ CORRECT
    set dscp ef
  Class BUSINESS-CRITICAL
    bandwidth percent 40
    set dscp af31
  Class class-default
    fair-queue
    bandwidth percent 30</pre>
          <p><strong>Verification Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 03:15:47 - Querying WAN-RTR-01 QoS policy</li>
            <li>⏱️ 03:15:50 - VOICE class already configured with "priority percent 30"</li>
            <li>✅ 03:15:52 - WAN-RTR-01 QoS policy correct - no changes needed</li>
            <li>✅ 03:15:54 - <strong>ACTION 2 COMPLETED - Symmetric QoS confirmed</strong></li>
          </ul>
        </div>

        <p><strong>📊 Post-Deployment Verification:</strong></p>
        <ul class="compact-list">
          <li>✅ Configuration committed to WAN-RTR-02 running-config</li>
          <li>✅ Configuration saved to startup-config (automatic backup)</li>
          <li>✅ NETCONF session closed gracefully</li>
          <li>⏱️ Total Deployment Time: 24 seconds</li>
          <li>🎉 <strong>PHASE 1 DEPLOYMENT COMPLETE - No errors encountered</strong></li>
        </ul>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Verifying</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Executing Post-Deployment Tests:</strong></p>
        <p>⏱️ Verification Start Time: 2025-10-18 03:16:00 PM (15 seconds after deployment)</p>

        <div class="verification-box">
          <p><strong>TEST 1: Verify Priority Queue Configuration</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">WAN-RTR-02# show policy-map WAN-QOS-POLICY

Policy Map WAN-QOS-POLICY
  Class VOICE
    priority percent 30  ✅ RESTORED
    set dscp ef
  Class BUSINESS-CRITICAL
    bandwidth percent 40
    set dscp af31
  Class VIDEO-CONF
    bandwidth percent 15
    set dscp af41
  Class class-default
    fair-queue
    bandwidth percent 15</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Priority queue successfully restored</p>
          <ul class="compact-list">
            <li>✓ VOICE class now uses "priority percent 30" (Low Latency Queue)</li>
            <li>✓ DSCP marking (ef) still correctly configured</li>
            <li>✓ Policy matches pre-maintenance baseline</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 2: Verify Queue Statistics</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">WAN-RTR-02# show policy-map interface GigE 0/0/1

GigabitEthernet0/0/1
  Service-policy output: WAN-QOS-POLICY
    Class-map: VOICE (match-any)
      Priority Queue: ENABLED  ✅
      Priority Level: 1
      Packets queued: 0
      Packets transmitted: 45,234
      Average queue delay: 2ms  ✅ (was 278ms)

    Class-map: BUSINESS-CRITICAL (match-any)
      Bandwidth: 40% (40 Mbps)
      Packets: 89,432
      Queue depth: 12/512

    Class-map: VIDEO-CONF (match-any)
      Bandwidth: 15% (15 Mbps)
      Packets: 23,112
      Queue depth: 3/512</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Priority queue operational</p>
          <ul class="compact-list">
            <li>✓ Priority queue enabled and active for VOICE class</li>
            <li>✓ Average queue delay reduced from 278ms to 2ms</li>
            <li>✓ Zero packets queued (immediate forwarding)</li>
            <li>✓ Other classes using standard CBWFQ (as designed)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 3: Verify End-to-End Latency Reduction</strong></p>
          <p><strong>MCP Server Query (IP SLA):</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before Fix</th>
                <th>After Fix</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Average Latency</td>
                <td><span class="error">288ms</span></td>
                <td><span class="success">12ms</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Jitter</td>
                <td><span class="error">45ms</span></td>
                <td><span class="success">2ms</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Packet Loss</td>
                <td><span class="success">0%</span></td>
                <td><span class="success">0%</span></td>
                <td>✅ OK</td>
              </tr>
              <tr>
                <td>Max Latency</td>
                <td><span class="error">412ms</span></td>
                <td><span class="success">18ms</span></td>
                <td>✅ FIXED</td>
              </tr>
            </tbody>
          </table>
          <p><strong>Traceroute Verification:</strong></p>
          <pre class="code-block">Tracing route to 10.1.20.10 over a maximum of 30 hops:
  1    <1 ms    <1 ms    <1 ms  10.50.1.254 (HQ-LAN-SW)
  2     1 ms     1 ms     1 ms  10.50.1.1 (WAN-RTR-01)
  3     8 ms     9 ms     8 ms  192.168.100.1 (MPLS-PE-01)
  4    11 ms    12 ms    11 ms  10.1.1.1 (WAN-RTR-02)  ✅ FIXED!
  5    12 ms    13 ms    12 ms  10.1.20.10 (DC-SERVER)

Trace complete.</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Latency restored to baseline</p>
          <ul class="compact-list">
            <li>✓ Average latency: 288ms → 12ms (96% improvement)</li>
            <li>✓ WAN-RTR-02 hop: 285ms → 11ms (normal)</li>
            <li>✓ Jitter reduced from 45ms to 2ms</li>
            <li>✓ All hops showing normal latency values</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 4: Verify Application Performance</strong></p>
          <p><strong>VoIP Quality Metrics:</strong></p>
          <ul class="compact-list">
            <li>📞 Active calls monitored: 18 concurrent VoIP sessions</li>
            <li>📊 Mean Opinion Score (MOS): <strong>4.4</strong> (was: 2.1) ✅</li>
            <li>🎵 Jitter: 2ms (was: 45ms) ✅</li>
            <li>⏱️ One-way delay: 12ms (was: 288ms) ✅</li>
            <li>📉 Packet loss: 0% ✅</li>
          </ul>
          <p><strong>CRM Application Response Time:</strong></p>
          <ul class="compact-list">
            <li>🖥️ Salesforce record load time: <strong>0.8 seconds</strong> (was: 15-20s) ✅</li>
            <li>🖥️ Dashboard refresh time: <strong>1.2 seconds</strong> (was: 12s) ✅</li>
            <li>🖥️ Report generation time: <strong>3.4 seconds</strong> (was: 25s) ✅</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Application performance fully restored</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 5: Verify No Negative Side Effects</strong></p>
          <ul class="compact-list">
            <li>✅ No interface flaps detected on WAN-RTR-02</li>
            <li>✅ BGP sessions stable (no routing changes)</li>
            <li>✅ CPU utilization normal: 18% (no spike from QoS processing)</li>
            <li>✅ Memory utilization: 42% (no change)</li>
            <li>✅ All sites reachable (HQ ↔ DC connectivity verified)</li>
            <li>✅ No new user complaints in helpdesk queue</li>
            <li>✅ 3 positive user confirmations received (VoIP quality restored)</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No adverse impacts detected</p>
        </div>

        <p><strong>📊 VERIFICATION SUMMARY:</strong></p>
        <div class="success-box">
          <p><strong>🎉 ALL VERIFICATION TESTS PASSED (5/5)</strong></p>
          <ul class="compact-list">
            <li>✅ Priority queue configuration successfully restored</li>
            <li>✅ Queue delay reduced from 278ms to 2ms</li>
            <li>✅ End-to-end latency reduced from 288ms to 12ms (96% improvement)</li>
            <li>✅ VoIP quality excellent (MOS 4.4/5.0, was 2.1)</li>
            <li>✅ CRM load times back to normal (<1s, was 15-20s)</li>
            <li>✅ Zero negative side effects observed</li>
          </ul>
          <p><strong>⏱️ Time to Resolution: 41 minutes from ticket creation to verified fix</strong></p>
          <p><strong>✅ Solution validated and stable. Proceeding to final report generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 24: Final Report -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📄</span>
        <span class="agent-name">STEP 24: MRA - Final Resolution Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <div class="final-report-box">
          <h2>🎯 INCIDENT RESOLUTION REPORT</h2>

          <p><strong>Ticket Information:</strong></p>
          <ul class="compact-list">
            <li>🎫 Ticket ID: #LAT-6734</li>
            <li>📋 Title: High Network Latency Affecting VoIP and CRM</li>
            <li>👤 Reported By: Sarah Chen (sarah.chen@company.com)</li>
            <li>⏱️ Opened: 2025-10-18 02:35:00 PM</li>
            <li>⏱️ Resolved: 2025-10-18 03:16:45 PM</li>
            <li>⌛ Resolution Time: <strong>41 minutes</strong></li>
          </ul>

          <hr>

          <p><strong>Problem Summary:</strong></p>
          <p>Customer support team (50 users) experienced severe network latency issues starting October 17 at 2:30 PM, immediately after QoS policy maintenance. VoIP calls had significant delay causing communication difficulties. CRM application (Salesforce) response times increased from <1 second to 15-20 seconds. Network latency increased from normal 10-20ms to 250-400ms.</p>

          <hr>

          <p><strong>Root Cause Analysis:</strong></p>
          <p class="highlight">During QoS policy maintenance on October 17 at 2:00-2:30 PM, the VOICE traffic class on WAN-RTR-02 was incorrectly changed from "priority percent 30" (Low Latency Queue) to "bandwidth percent 30" (standard CBWFQ). This configuration error removed expedited forwarding for VoIP packets, forcing them to wait in the standard output queue behind other traffic, adding ~278ms of queuing delay.</p>

          <hr>

          <p><strong>Investigation Timeline:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Agent/System</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>02:35 PM</td>
                <td>TICKET_SYSTEM</td>
                <td>Ticket #LAT-6734 created by Sarah Chen</td>
              </tr>
              <tr>
                <td>02:36 PM</td>
                <td>IO_AGENT</td>
                <td>Engaged user, asked 5 clarifying questions</td>
              </tr>
              <tr>
                <td>02:42 PM</td>
                <td>MRA</td>
                <td>Deployed 6 specialized agents</td>
              </tr>
              <tr>
                <td>02:43 PM</td>
                <td>TOPOLOGY_AGENT</td>
                <td>Mapped traffic paths (HQ → WAN → DC)</td>
              </tr>
              <tr>
                <td>02:45 PM</td>
                <td>LATENCY_MEASUREMENT_AGENT</td>
                <td>Isolated 276ms latency spike to WAN-RTR-02</td>
              </tr>
              <tr>
                <td>02:47 PM</td>
                <td>WAN_LINK_AGENT</td>
                <td>Found queue saturation (278ms avg delay)</td>
              </tr>
              <tr>
                <td>02:49 PM</td>
                <td>QOS_POLICY_AGENT</td>
                <td>Identified priority queue removed from config</td>
              </tr>
              <tr>
                <td>02:55 PM</td>
                <td>ROOT_CAUSE_AGENT</td>
                <td>Correlated findings, confirmed root cause</td>
              </tr>
              <tr>
                <td>02:58 PM</td>
                <td>RECOMMENDATIONS_AGENT</td>
                <td>Created 3-phase remediation plan</td>
              </tr>
              <tr>
                <td>03:02 PM</td>
                <td>IO_AGENT</td>
                <td>Obtained user approval for deployment</td>
              </tr>
              <tr>
                <td>03:15 PM</td>
                <td>DEPLOYMENT_AGENT</td>
                <td>Restored priority queue configuration</td>
              </tr>
              <tr>
                <td>03:16 PM</td>
                <td>VERIFICATION_AGENT</td>
                <td>Verified fix, all tests passed</td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Resolution Actions Taken:</strong></p>
          <p><strong>PHASE 1 (Completed - 2025-10-18 03:15 PM):</strong></p>
          <ul class="compact-list">
            <li>✅ Restored "priority percent 30" to VOICE class on WAN-RTR-02</li>
            <li>✅ Re-enabled Low Latency Queue (LLQ) for VoIP traffic</li>
            <li>✅ Verified symmetric QoS policies on WAN-RTR-01 and WAN-RTR-02</li>
            <li>✅ Configuration saved to startup-config (persistent)</li>
          </ul>

          <p><strong>PHASE 2 (Scheduled - Within 24 hours):</strong></p>
          <ul class="compact-list">
            <li>⏳ Update QoS configuration templates to prevent recurrence</li>
            <li>⏳ Implement post-change verification checklist for QoS changes</li>
            <li>⏳ Add mandatory latency testing after QoS modifications</li>
          </ul>

          <p><strong>PHASE 3 (Planned - 30-day roadmap):</strong></p>
          <ul class="compact-list">
            <li>📅 Develop automated QoS policy validation script</li>
            <li>📅 Implement continuous latency monitoring with IP SLA</li>
            <li>📅 Audit all WAN routers for QoS policy compliance</li>
          </ul>

          <hr>

          <p><strong>Results and Metrics:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before</th>
                <th>After</th>
                <th>Improvement</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Average Latency</td>
                <td><span class="error">288ms</span></td>
                <td><span class="success">12ms</span></td>
                <td><span class="success">96% ↓</span></td>
              </tr>
              <tr>
                <td>VoIP MOS Score</td>
                <td><span class="error">2.1</span></td>
                <td><span class="success">4.4</span></td>
                <td><span class="success">109% ↑</span></td>
              </tr>
              <tr>
                <td>CRM Load Time</td>
                <td><span class="error">15-20s</span></td>
                <td><span class="success">0.8s</span></td>
                <td><span class="success">95% ↓</span></td>
              </tr>
              <tr>
                <td>Queue Delay</td>
                <td><span class="error">278ms</span></td>
                <td><span class="success">2ms</span></td>
                <td><span class="success">99% ↓</span></td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Knowledge Sources Utilized:</strong></p>
          <ul class="compact-list">
            <li>📚 <strong>Knowledge Graph:</strong> 7 queries (topology, configs, routing, QoS history)</li>
            <li>📚 <strong>RAG System:</strong> Retrieved 2 highly similar tickets (92%, 85% match) + 3 best practice documents</li>
            <li>🔧 <strong>MCP Servers:</strong> 12+ real-time queries (NETCONF, CLI, IP SLA, traceroute)</li>
            <li>🤖 <strong>AI Agents:</strong> 6 specialized agents deployed with inter-agent collaboration</li>
          </ul>

          <hr>

          <p><strong>Lessons Learned & Recommendations:</strong></p>
          <ul class="compact-list">
            <li>💡 Implement automated QoS policy validation before deployment</li>
            <li>💡 Add mandatory post-change latency testing for all QoS modifications</li>
            <li>💡 Create QoS configuration checklist: always verify "priority" keyword for VoIP</li>
            <li>💡 Enable continuous latency monitoring with alerting (threshold: >50ms)</li>
            <li>💡 Update change control process to include QoS-specific verification steps</li>
          </ul>

          <hr>

          <p><strong>Documentation & Artifacts:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete configuration backups (before/after) saved to repository</li>
            <li>📄 NETCONF deployment script archived for future reference</li>
            <li>📄 Agent investigation logs stored in knowledge base</li>
            <li>📄 Updated runbook: "QoS Policy Maintenance Procedure"</li>
            <li>📄 Incident added to RAG system for future pattern matching</li>
          </ul>

          <hr>

          <p><strong>✅ TICKET STATUS: RESOLVED</strong></p>
          <p><strong>Resolution Category:</strong> Network Performance - QoS Configuration</p>
          <p><strong>Resolved By:</strong> AI Operations Center (MRA + 6 Specialized Agents)</p>
          <p><strong>Verified By:</strong> VERIFICATION_AGENT (all 5 tests passed)</p>
          <p><strong>User Satisfaction:</strong> ⭐⭐⭐⭐⭐ (Awaiting user feedback)</p>
        </div>
      </div>
    </div>

    <!-- STEP 25: User Notification -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📧</span>
        <span class="agent-name">STEP 25: IO_AGENT → USER - Final Notification</span>
        <span class="status-badge">Closed</span>
      </div>
      <div class="agent-content">
        <div class="notification-box">
          <p><strong>📧 Email Notification Sent:</strong></p>
          <hr>
          <p><strong>To:</strong> sarah.chen@company.com</p>
          <p><strong>CC:</strong> network-ops@company.com, mike.johnson@company.com</p>
          <p><strong>Subject:</strong> ✅ RESOLVED: Ticket #LAT-6734 - High Network Latency Affecting VoIP and CRM</p>
          <p><strong>Sent:</strong> 2025-10-18 03:18:30 PM</p>
          <hr>
          <div class="email-body">
            <p>Hi Sarah,</p>
            <p>Great news! Your ticket <strong>#LAT-6734</strong> has been <strong>successfully resolved</strong>.</p>

            <p><strong>Issue Summary:</strong></p>
            <p>High network latency (250-400ms, normally 10-20ms) affecting your customer support team's VoIP calls and CRM application performance. The issue was caused by a QoS policy misconfiguration introduced during maintenance on October 17.</p>

            <p><strong>Resolution:</strong></p>
            <p>Our AI Operations Center identified that the priority queue for VoIP traffic was accidentally removed during yesterday's maintenance. We restored the correct QoS configuration on WAN-RTR-02 at 3:15 PM today.</p>

            <p><strong>Results:</strong></p>
            <ul>
              <li>✅ Latency reduced from 288ms to 12ms (96% improvement)</li>
              <li>✅ VoIP call quality excellent (MOS 4.4/5.0, was 2.1)</li>
              <li>✅ CRM load times back to normal (0.8s, was 15-20s)</li>
              <li>✅ All 50 customer support users can now work efficiently</li>
            </ul>

            <p><strong>Next Steps:</strong></p>
            <ul>
              <li>📅 Within 24 hours: We'll update QoS templates and add verification checklists</li>
              <li>📄 Full incident report attached (PDF)</li>
              <li>📞 Network team will contact you to review preventive measures</li>
            </ul>

            <p><strong>Resolution Time:</strong> 41 minutes (from ticket creation to verified fix)</p>

            <p>The issue is now fully resolved and your network performance is back to normal. Your team should experience no further latency issues with VoIP or CRM applications.</p>

            <p><strong>We'd appreciate your feedback!</strong> Please rate your experience: <a href="#">⭐⭐⭐⭐⭐</a></p>

            <p>Thank you for using AI Operations Center!</p>

            <p>Best regards,<br>
            <strong>AI Operations Center</strong><br>
            Powered by MRA + 6 Specialized AI Agents<br>
            📧 aiops-support@company.com | 📞 1-800-AIOPS-24</p>
          </div>
          <hr>
          <p><strong>Attachments:</strong></p>
          <ul class="compact-list">
            <li>📎 Incident_Report_LAT-6734.pdf (2.8 MB)</li>
            <li>📎 QoS_Configuration_Changes.txt (12 KB)</li>
            <li>📎 Latency_Test_Results.xlsx (189 KB)</li>
            <li>📎 QoS_Best_Practices_Guide.pdf (1.2 MB)</li>
          </ul>
        </div>

        <div class="success-box">
          <p><strong>🎉 TICKET #LAT-6734 - CLOSED</strong></p>
          <ul class="compact-list">
            <li>✅ User notified via email</li>
            <li>✅ Final report delivered</li>
            <li>✅ Documentation archived</li>
            <li>✅ Knowledge base updated with incident details</li>
            <li>✅ Change tickets created for Phase 2 & 3</li>
            <li>⏱️ <strong>Total Resolution Time: 41 minutes</strong></li>
            <li>🤖 <strong>AI Agents Efficiency: 41 minutes investigation + deployment</strong></li>
            <li>👥 <strong>Zero human troubleshooting required - fully automated</strong></li>
          </ul>
        </div>

        <div class="completion-banner">
          <h2>✅ SCENARIO 3 COMPLETE - ALL 25 STEPS IMPLEMENTED</h2>
          <p><strong>Compliance Status: 100% v6 Standard</strong></p>
          <ul class="compact-list">
            <li>✅ Steps 1-5: Alert → IO_AGENT → Classification → MRA → KG</li>
            <li>✅ Steps 6-8: RAG → 3-Source Analysis → Agent Deployment</li>
            <li>✅ Steps 9-13: Specialized Agents with KG/RAG/MCP queries + Inter-Agent Collaboration</li>
            <li>✅ Steps 14-16: Feedback → MRA Correlation → Additional Tasks</li>
            <li>✅ Steps 17-19: RCA Statement → RECOMMENDATIONS_AGENT → Solutions</li>
            <li>✅ Steps 20-23: IO_AGENT Permission → DEPLOYMENT_AGENT → VERIFICATION_AGENT</li>
            <li>✅ Steps 24-25: Final Report → User Notification → Ticket Closed</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .info-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
  }

  .deployment-box {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
    padding: 15px;
    margin: 15px 0;
  }

  .verification-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
  }

  .final-report-box {
    background: #fff3e0;
    border: 2px solid #ff9800;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .notification-box {
    background: #f3e5f5;
    border-left: 4px solid #9c27b0;
    padding: 15px;
    margin: 15px 0;
  }

  .email-body {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }

  .completion-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: 30px 0;
    border-radius: 10px;
    text-align: center;
  }

  .completion-banner h2 {
    margin-top: 0;
    font-size: 24px;
  }

  .code-block {
    background: #263238;
    color: #aed581;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
  }

  .user-interaction-box {
    background: #fff9e6;
    border: 2px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .recommendation-phase {
    background: white;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    border-left: 3px solid #2196f3;
  }

  .rca-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .collaboration-exchange {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    margin: 15px 0;
    border-left: 3px solid #00ff88;
    border-radius: 4px;
  }

  .collab-from {
    font-weight: bold;
    color: #00aaff;
    margin-bottom: 5px;
  }

  .collab-message {
    font-style: italic;
    margin-left: 20px;
    color: #ccc;
  }

  .collab-response {
    margin-left: 20px;
    margin-top: 10px;
    color: #00ff88;
  }

  .symptom-tag {
    background: #ff9800;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .contributing-tag {
    background: #ffc107;
    color: black;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .root-cause-tag {
    background: #f44336;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    color: #00ff88;
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #888;
  }
</style>`
                ]
            },
            'router-troubleshooting': {
                title: 'Router Troubleshooting',
                icon: '🔧',
                description: 'BGP session flapping and connectivity issues',
                initialQuery: 'Show Router Troubleshooting',
                responses: [
                    `<!-- SCENARIO 4: ROUTER TROUBLESHOOTING - BGP FLAPPING  -->


<div class="root-container">
  <h3>Agentic AI - Router Troubleshooting: BGP Flapping v6</h3>
  <p><strong>Complete 25-Step Workflow: Alert → Investigation → Resolution → Verification</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: ALERT/TICKET GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">MONITORING_SYSTEM → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Alert Generated from Network Monitoring:</strong></p>
        <ul class="compact-list">
          <li>⏰ Alert Time: 2025-10-19 06:45:17 AM</li>
          <li>🔍 Alert Source: Cisco DNA Center</li>
          <li>⚠️ Alert Type: BGP Neighbor Down</li>
          <li>🔴 Severity: CRITICAL</li>
          <li>📍 Affected Device: RTR-BRANCH-05 (Austin, TX Branch)</li>
          <li>🔗 BGP Peer: RTR-HQ-01 (10.200.1.1) - Session flapping</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#RTR-5512</span></li>
            <li>Category: Routing Protocol</li>
            <li>Subcategory: BGP Session Instability</li>
            <li>Priority: P1 - Critical</li>
            <li>Auto-assigned to: Network Engineering Team</li>
            <li>Users Impacted: 120 users (Austin Branch Office)</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES TICKET -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #RTR-5512 Received - Initial Problem Statement:</strong></p>
        <div class="change-details">
          <p><strong>Reported By:</strong> Mike Rodriguez - IT Infrastructure Team (Automated Alert + User Report)</p>
          <p><strong>Affected Entity:</strong> Austin Branch Office</p>
          <p><strong>Department:</strong> IT Infrastructure - WAN Team</p>
          <p><strong>Users Impacted:</strong> 120 users at Austin, TX branch</p>
          <p><strong>Initial Problem Description:</strong></p>
          <p>"Router RTR-BRANCH-05 experiencing BGP session instability. BGP neighbor sessions to RTR-HQ-01 and ISP-PE-01 are flapping every 5-10 minutes. Started this morning at 6:45 AM. Users reporting intermittent internet connectivity loss, VPN tunnels resetting, and application timeouts. Business operations severely impacted."</p>
          <p><strong>Additional Context:</strong></p>
          <ul class="compact-list">
            <li>Frequency: BGP sessions dropping and re-establishing every 5-10 minutes</li>
            <li>Impact: Internet outages during flaps, VPN tunnels reset, routing table instability</li>
            <li>Business Impact: Customer service operations affected, sales team cannot access CRM</li>
          </ul>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering additional context before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS CLARIFYING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Asking Clarifying Questions:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which router is experiencing the issue and which specific BGP peers are affected?</strong></p>
            <p class="answer">A1: RTR-BRANCH-05 (10.50.1.1) - BGP sessions to RTR-HQ-01 (AS 65001, 10.200.1.1) and ISP-PE-01 (AS 65500, 203.0.113.1) both flapping</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: What is the exact timing pattern of the BGP session flaps?</strong></p>
            <p class="answer">A2: Sessions drop every 5-10 minutes, stay down for 15-30 seconds, then re-establish. Pattern has been consistent since 6:45 AM (3.5 hours ago)</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Are you seeing any error messages on the router console or in syslog?</strong></p>
            <p class="answer">A3: Yes - seeing "CRC errors" and "input errors" on interface GigabitEthernet0/0/1, also BGP keepalive timeout messages in logs</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Have there been any recent changes to the router configuration, cabling, or equipment?</strong></p>
            <p class="answer">A4: No configuration changes. Last change was 2 weeks ago (unrelated SNMP community update). No physical work in telecom closet.</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: What is the current business impact and urgency level?</strong></p>
            <p class="answer">A5: CRITICAL - Customer service cannot process orders, sales team offline, 120 users affected. Need resolution ASAP - every flap causes 30-second outage.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: PROBLEM CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Problem Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Problem Type</td>
                <td>Routing Protocol Instability</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>BGP Session Flapping</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Single Device (RTR-BRANCH-05)</td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td>Recurring (5-10 min intervals)</td>
              </tr>
              <tr>
                <td>Symptoms</td>
                <td>CRC errors + BGP timeouts</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P1 - Critical</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Escalating to <strong>MASTER_REASONING_AGENT</strong> for systematic investigation
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Investigation:</strong></p>
        <div class="change-details">
          <p><strong>Ticket Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ BGP flapping with regular intervals suggests physical layer or resource exhaustion issues</li>
            <li>✓ CRC errors on GigE0/0/1 indicate potential hardware problem (cable, SFP, interface)</li>
            <li>✓ Multiple BGP peers affected suggests common component (interface, not peer-specific)</li>
            <li>✓ Sudden onset at 6:45 AM suggests environmental trigger or hardware failure</li>
          </ul>
          <p><strong>Investigation Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for router topology and BGP configuration</li>
            <li>2. Search RAG system for similar BGP flapping incidents</li>
            <li>3. Perform three-source analysis (Problem + KG + RAG)</li>
            <li>4. Deploy specialized agents for interface health, BGP protocol, and log analysis</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for Network Context:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: Device Information</strong></p>
          <ul class="compact-list">
            <li>✓ Device: RTR-BRANCH-05 (Cisco ISR 4451-X)</li>
            <li>✓ Location: Austin, TX Branch Office (120 users)</li>
            <li>✓ OS: IOS-XE 17.9.3a</li>
            <li>✓ Management IP: 10.50.1.1</li>
            <li>✓ Last Reboot: 45 days ago (normal)</li>
          </ul>
          <p><strong>Query 2: BGP Configuration</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>BGP Peer</th>
                  <th>Peer IP</th>
                  <th>AS Number</th>
                  <th>Interface</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>RTR-HQ-01 (MPLS)</td>
                  <td>10.200.1.1</td>
                  <td>AS 65001 (iBGP)</td>
                  <td>GigE0/0/1</td>
                  <td><span class="problem-value">FLAPPING</span></td>
                </tr>
                <tr>
                  <td>ISP-PE-01 (Internet)</td>
                  <td>203.0.113.1</td>
                  <td>AS 65500 (eBGP)</td>
                  <td>GigE0/0/1</td>
                  <td><span class="problem-value">FLAPPING</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: Interface Configuration</strong></p>
          <ul class="compact-list">
            <li>✓ GigE0/0/1: Primary WAN interface (1 Gbps)</li>
            <li>✓ Connected to: Branch WAN switch</li>
            <li>✓ SFP Module: GLC-LH-SMD (1000BASE-LX/LH)</li>
            <li>✓ Fiber: Single-mode, installed 2 years ago</li>
          </ul>
          <p><strong>Query 4: Historical Interface Statistics (Past 24 Hours)</strong></p>
          <ul class="metric-list">
            <li>Input Errors (0-6:44 AM): <span class="success">0</span></li>
            <li>Input Errors (6:45 AM - now): <span class="problem-value">8,247</span></li>
            <li>CRC Errors: <span class="problem-value">8,247</span> (same as input errors)</li>
            <li>Interface Resets: <span class="problem-value">23</span></li>
            <li>Link Status: <span class="warning">UP/DOWN transitions: 47</span></li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-critical">CRC Errors Detected</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Similar Incidents and Solutions:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "BGP flapping + interface errors + CRC errors + SFP"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Similarity</th>
                  <th>Problem</th>
                  <th>Resolution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>TKT-78934</td>
                  <td><span class="success">94%</span></td>
                  <td>BGP flapping + CRC errors</td>
                  <td>Replaced faulty SFP module</td>
                </tr>
                <tr>
                  <td>TKT-67123</td>
                  <td><span class="success">87%</span></td>
                  <td>Interface errors + BGP resets</td>
                  <td>SFP transceiver failure</td>
                </tr>
                <tr>
                  <td>TKT-54892</td>
                  <td><span class="success">82%</span></td>
                  <td>Intermittent CRC errors</td>
                  <td>Dirty fiber connector - cleaned</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Troubleshooting Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>BGP_Troubleshooting_Guide.pdf</strong> (Cisco Doc ID: 26634)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ CRC errors indicate physical layer issues - check cables, SFP, fiber connectors</li>
            <li>📄 <strong>Interface_Error_Analysis.pdf</strong> (Cisco TAC KB-9912)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ CRC errors = input errors usually means faulty SFP transceiver or dirty fiber</li>
            <li>📄 <strong>SFP_Module_Diagnostics.pdf</strong> (Internal KB-4421)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Check SFP DOM (Digital Optical Monitoring): RX power, TX power, temperature</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 94% similarity to TKT-78934: Identical symptoms resolved with SFP replacement</li>
            <li>✓ Common root cause: Faulty SFP transceiver causing intermittent signal loss</li>
            <li>✓ CRC errors = physical layer problem, not BGP configuration issue</li>
            <li>✓ Recommended first action: Check SFP diagnostics (show interface transceiver)</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">High Confidence Pattern Match</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Problem Statement:</strong></p>
            <ul class="compact-list">
              <li>BGP sessions flapping every 5-10 minutes</li>
              <li>Both iBGP (RTR-HQ-01) and eBGP (ISP-PE-01) peers affected</li>
              <li>CRC errors and input errors on GigE0/0/1</li>
              <li>Started suddenly at 6:45 AM this morning</li>
              <li>No recent configuration changes</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>RTR-BRANCH-05: Cisco ISR 4451-X, IOS-XE 17.9.3a</li>
              <li>GigE0/0/1: Primary WAN interface, 1 Gbps, SFP module GLC-LH-SMD</li>
              <li>Interface errors: 8,247 CRC errors since 6:45 AM (was 0 before)</li>
              <li>Interface resets: 23 occurrences (abnormal)</li>
              <li>Both BGP peers use same physical interface (GigE0/0/1)</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>94% similarity to TKT-78934 (BGP flapping + CRC errors = SFP failure)</li>
              <li>87% similarity to TKT-67123 (Interface errors = SFP transceiver)</li>
              <li>Historical resolution: Replace faulty SFP module</li>
              <li>Best practice: Check SFP diagnostics (RX/TX power, temperature)</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Hypothesis:</strong> Faulty SFP transceiver module on GigE0/0/1 causing intermittent signal loss, resulting in CRC errors and BGP keepalive packet loss. Need to verify with interface health and BGP protocol agents.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Targeted Investigation:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">🔌</div>
            <div class="deployment-name">INTERFACE_HEALTH_AGENT</div>
            <div class="deployment-task">Check interface stats & SFP</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔀</div>
            <div class="deployment-name">BGP_PROTOCOL_AGENT</div>
            <div class="deployment-task">Analyze BGP sessions</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💻</div>
            <div class="deployment-name">SYSTEM_RESOURCES_AGENT</div>
            <div class="deployment-task">Check CPU/memory</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📝</div>
            <div class="deployment-name">LOG_ANALYSIS_AGENT</div>
            <div class="deployment-task">Parse syslog messages</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔧</div>
            <div class="deployment-name">ROOT_CAUSE_AGENT</div>
            <div class="deployment-task">Correlate all findings</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💡</div>
            <div class="deployment-name">RECOMMENDATIONS_AGENT</div>
            <div class="deployment-task">Generate remediation plan</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: INTERFACE_HEALTH_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔌</span>
        <span class="agent-name">INTERFACE_HEALTH_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Interface Health Check via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP CLI (SSH):</strong> show interface GigabitEthernet0/0/1</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show interface GigabitEthernet0/0/1 transceiver</li>
            <li>🔌 <strong>MCP NETCONF:</strong> Live interface statistics</li>
          </ul>
          <p><strong>Interface Status (GigE0/0/1):</strong></p>
          <div class="code-block">
GigabitEthernet0/0/1 is up, line protocol is up (flapping)
  Hardware is ISR4451-X Gigabit Ethernet, address is 0050.56a1.2234
  MTU 1500 bytes, BW 1000000 Kbit/sec, DLY 10 usec
  Last input 00:00:02, output 00:00:01
  Input queue: 0/75/0/0 (size/max/drops/flushes); Total output drops: 0
  5 minute input rate 25000 bits/sec, 30 packets/sec
  5 minute output rate 28000 bits/sec, 35 packets/sec
     245678 packets input, 89234567 bytes, 0 no buffer
     Received 1234 broadcasts (456 IP multicasts)
     8247 runts, 0 giants, 0 throttles
     8247 input errors, 8247 CRC, 0 frame, 0 overrun, 0 ignored
     0 watchdog, 0 multicast, 0 pause input
     187654 packets output, 67892345 bytes, 0 underruns
     0 output errors, 0 collisions, 23 interface resets
     0 unknown protocol drops
     0 babbles, 0 late collision, 0 deferred
     0 lost carrier, 0 no carrier, 0 pause output
     0 output buffer failures, 0 output buffers swapped out
          </div>
          <p><strong>SFP Transceiver Diagnostics:</strong></p>
          <div class="code-block">
GigabitEthernet0/0/1 transceiver information:
  Transceiver Type: SFP-1000BASE-LX
  Part Number: GLC-LH-SMD
  Serial Number: FNS19274KL8
  Temperature: 68.5 C (ALARM - High temp threshold: 70 C)
  Voltage: 3.28 V
  Current: 45.2 mA
  Optical TX Power: -2.1 dBm
  Optical RX Power: -22.8 dBm (ALARM - Low threshold: -19 dBm)
  TX Fault Count: 247
  RX Loss of Signal: 23 occurrences
          </div>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Interface administratively up</li>
          <li>✅ No bandwidth issues (low utilization)</li>
          <li>✅ No buffer overruns</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ 8,247 CRC errors (100% of input errors)</li>
          <li>❌ RX Optical Power: -22.8 dBm (CRITICAL - below -19 dBm threshold)</li>
          <li>❌ SFP Temperature: 68.5°C (ALARM - near failure threshold)</li>
          <li>❌ TX Fault Count: 247 (indicates SFP hardware failure)</li>
          <li>❌ 23 interface resets (abnormal)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">SFP Module Failure Detected</span>
        </div>
      </div>
    </div>

    <!-- STEP 11: BGP_PROTOCOL_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔀</span>
        <span class="agent-name">BGP_PROTOCOL_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>BGP Protocol Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP CLI (SSH):</strong> show ip bgp summary</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show ip bgp neighbors 10.200.1.1</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show ip bgp neighbors 203.0.113.1</li>
          </ul>
          <p><strong>BGP Summary:</strong></p>
          <div class="code-block">
BGP router identifier 10.50.1.1, local AS number 65001
BGP table version is 4892, main routing table version 4892
234 network entries using 56234 bytes of memory
468 path entries using 89123 bytes of memory

Neighbor        V    AS MsgRcvd MsgSent   TblVer  InQ OutQ Up/Down  State/PfxRcd
10.200.1.1      4 65001   12847   12893     4892    0    0 00:04:23      156
203.0.113.1     4 65500    8234    8267     4892    0    0 00:03:45       78

Last flap times:
10.200.1.1: 00:04:23 (flapped 23 times in last 3.5 hours)
203.0.113.1: 00:03:45 (flapped 23 times in last 3.5 hours)
          </div>
          <p><strong>BGP Neighbor Details (RTR-HQ-01 - 10.200.1.1):</strong></p>
          <div class="code-block">
BGP neighbor is 10.200.1.1, remote AS 65001, internal link
  BGP version 4, remote router ID 10.200.1.1
  BGP state = Established, up for 00:04:23
  Last read 00:00:15, last write 00:00:12
  Hold time is 180, keepalive interval is 60 seconds
  Configured hold time is 180, keepalive interval is 60 seconds

  Message statistics:
    InQ depth is 0, OutQ depth is 0
    Sent: Opens: 24, Notifications: 0, Updates: 234, Keepalives: 12635, Route Refresh: 0
    Received: Opens: 24, Notifications: 23, Updates: 189, Keepalives: 12610

  Notification History (last 5):
    10:15:23 - Hold Timer Expired (keepalive not received)
    10:07:12 - Hold Timer Expired (keepalive not received)
    09:58:45 - Hold Timer Expired (keepalive not received)
    09:50:33 - Hold Timer Expired (keepalive not received)
    09:42:18 - Hold Timer Expired (keepalive not received)

  Connection state is ESTAB, I/O status: 1, unread input bytes: 0
  Local host: 10.50.1.1, Local port: 179
  Foreign host: 10.200.1.1, Foreign port: 42387
          </div>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ BGP configuration correct (AS numbers, timers)</li>
          <li>✅ BGP sessions currently established</li>
          <li>✅ Route prefixes being received correctly</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ 23 BGP session resets (both peers) in 3.5 hours</li>
          <li>❌ Root cause: Hold Timer Expired (BGP keepalives not received)</li>
          <li>❌ Pattern: Sessions reset every 5-10 minutes (matches interface flaps)</li>
          <li>❌ BGP flaps correlate exactly with interface errors on GigE0/0/1</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-warning">BGP Flapping Due to Interface Issues</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: SYSTEM_RESOURCES_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💻</span>
        <span class="agent-name">SYSTEM_RESOURCES_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>System Resource Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP CLI (SSH):</strong> show processes cpu sorted</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show processes memory sorted</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show version</li>
          </ul>
          <p><strong>CPU Utilization:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Time Period</th>
                  <th>CPU %</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>5 seconds</td>
                  <td>12%</td>
                  <td><span class="success">Normal</span></td>
                </tr>
                <tr>
                  <td>1 minute</td>
                  <td>15%</td>
                  <td><span class="success">Normal</span></td>
                </tr>
                <tr>
                  <td>5 minutes</td>
                  <td>18%</td>
                  <td><span class="success">Normal</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Memory Utilization:</strong></p>
          <ul class="metric-list">
            <li>Total Memory: <span class="normal-value">4,194,304 KB (4 GB)</span></li>
            <li>Used Memory: <span class="normal-value">1,892,456 KB (45%)</span></li>
            <li>Free Memory: <span class="success">2,301,848 KB (55%)</span></li>
            <li>Largest Free Block: <span class="success">1,845,234 KB</span></li>
          </ul>
          <p><strong>System Information:</strong></p>
          <ul class="compact-list">
            <li>Uptime: 45 days, 12 hours, 34 minutes</li>
            <li>IOS-XE Version: 17.9.3a (stable release)</li>
            <li>No crash dumps or reload history</li>
            <li>BGP process: 3.2% CPU, 128 MB memory (normal)</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ CPU utilization normal (12-18%)</li>
          <li>✅ Memory utilization healthy (45% used, 55% free)</li>
          <li>✅ No resource exhaustion</li>
          <li>✅ Router stable (45 days uptime)</li>
          <li>✅ BGP process resource usage normal</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ No system resource issues identified</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-success">System Resources Normal</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: LOG_ANALYSIS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📝</span>
        <span class="agent-name">LOG_ANALYSIS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Syslog Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP CLI (SSH):</strong> show logging | include GigabitEthernet0/0/1</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show logging | include BGP</li>
            <li>🔌 <strong>MCP Syslog Server:</strong> Last 500 messages from RTR-BRANCH-05</li>
          </ul>
          <p><strong>Critical Log Messages (Last 3.5 Hours):</strong></p>
          <div class="code-block">
Oct 19 06:45:17: %LINK-3-UPDOWN: Interface GigabitEthernet0/0/1, changed state to down
Oct 19 06:45:19: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigE0/0/1, changed state to down
Oct 19 06:45:21: %BGP-5-ADJCHANGE: neighbor 10.200.1.1 Down Interface flap
Oct 19 06:45:21: %BGP-5-ADJCHANGE: neighbor 203.0.113.1 Down Interface flap
Oct 19 06:45:32: %LINK-3-UPDOWN: Interface GigabitEthernet0/0/1, changed state to up
Oct 19 06:45:34: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigE0/0/1, changed state to up
Oct 19 06:45:56: %BGP-5-ADJCHANGE: neighbor 10.200.1.1 Up
Oct 19 06:45:58: %BGP-5-ADJCHANGE: neighbor 203.0.113.1 Up

Oct 19 06:52:34: %PHY-4-SFP_RX_LOS: GigabitEthernet0/0/1: SFP receive signal loss detected
Oct 19 06:52:36: %LINK-3-UPDOWN: Interface GigabitEthernet0/0/1, changed state to down
Oct 19 06:52:38: %BGP-5-ADJCHANGE: neighbor 10.200.1.1 Down Hold Timer Expired
Oct 19 06:52:38: %BGP-5-ADJCHANGE: neighbor 203.0.113.1 Down Hold Timer Expired
Oct 19 06:52:45: %PHY-4-SFP_RX_RESTORED: GigabitEthernet0/0/1: SFP receive signal restored
Oct 19 06:52:47: %LINK-3-UPDOWN: Interface GigabitEthernet0/0/1, changed state to up

Oct 19 06:58:12: %PHY-4-SFP_TEMP_HIGH: GigabitEthernet0/0/1: SFP temperature high (68.2 C)
Oct 19 07:05:23: %PHY-4-SFP_RX_LOS: GigabitEthernet0/0/1: SFP receive signal loss detected
Oct 19 07:13:45: %PHY-4-SFP_TX_FAULT: GigabitEthernet0/0/1: SFP transmit fault detected
Oct 19 07:21:12: %PHY-4-SFP_RX_LOS: GigabitEthernet0/0/1: SFP receive signal loss detected
Oct 19 07:28:33: %PHY-4-SFP_TX_FAULT: GigabitEthernet0/0/1: SFP transmit fault detected

[Pattern repeats 23 times with 5-10 minute intervals]
          </div>
          <p><strong>Log Pattern Analysis:</strong></p>
          <ul class="compact-list">
            <li>🔴 First occurrence: 06:45:17 (exact match to user-reported start time)</li>
            <li>🔴 Sequence: SFP RX Loss → Interface Down → BGP Down → Signal Restored → Interface Up → BGP Up</li>
            <li>🔴 Root cause indicators: SFP_RX_LOS, SFP_TX_FAULT, SFP_TEMP_HIGH</li>
            <li>🔴 Pattern: 23 occurrences in 3.5 hours (every 5-10 minutes)</li>
            <li>🔴 BGP down reason: "Hold Timer Expired" (keepalives lost during interface down)</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Complete log history captured</li>
          <li>✅ Clear timeline and event sequence established</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ SFP_RX_LOS: 23 occurrences (receive signal loss)</li>
          <li>❌ SFP_TX_FAULT: 15 occurrences (transmit fault)</li>
          <li>❌ SFP_TEMP_HIGH: 8 occurrences (overheating)</li>
          <li>❌ All errors point to failing SFP transceiver module</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">SFP Hardware Failure Confirmed by Logs</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🤝</span>
        <span class="agent-name">INTER-AGENT COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Agents Sharing Findings and Cross-Validating:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p class="collab-from">INTERFACE_HEALTH_AGENT → BGP_PROTOCOL_AGENT:</p>
            <p class="collab-message">"I've detected 8,247 CRC errors on GigE0/0/1 with failing SFP diagnostics (RX power -22.8 dBm, temp 68.5°C). Are your BGP flaps timing with my interface resets?"</p>
            <p class="collab-response"><strong>BGP_PROTOCOL_AGENT:</strong> "Confirmed! All 23 BGP session resets correlate perfectly with your interface down events. BGP hold timer expires when keepalives are lost during interface flaps."</p>
          </div>
          <div class="collaboration-exchange">
            <p class="collab-from">LOG_ANALYSIS_AGENT → INTERFACE_HEALTH_AGENT:</p>
            <p class="collab-message">"Syslog shows clear sequence: SFP_RX_LOS → Interface Down → BGP Down. Also seeing SFP_TX_FAULT and SFP_TEMP_HIGH alarms. Can you confirm SFP health status?"</p>
            <p class="collab-response"><strong>INTERFACE_HEALTH_AGENT:</strong> "Confirmed! SFP diagnostics show RX power -22.8 dBm (below -19 dBm threshold), TX fault count 247, and temperature 68.5°C (near 70°C alarm threshold). SFP module is definitely failing."</p>
          </div>
          <div class="collaboration-exchange">
            <p class="collab-from">SYSTEM_RESOURCES_AGENT → ALL AGENTS:</p>
            <p class="collab-message">"System resources are completely normal - CPU 12-18%, memory 45% used. This rules out software/resource issues. Problem is definitely hardware-related."</p>
            <p class="collab-response"><strong>ALL AGENTS:</strong> "Acknowledged. Focusing on physical layer - SFP module is the confirmed culprit."</p>
          </div>
        </div>
        <p><strong>Consensus Reached:</strong></p>
        <div class="success-box">
          <p>All agents agree: <strong>Faulty SFP module on GigabitEthernet0/0/1 is the root cause.</strong></p>
          <ul class="compact-list">
            <li>✓ INTERFACE_HEALTH_AGENT: SFP diagnostics show hardware failure</li>
            <li>✓ BGP_PROTOCOL_AGENT: BGP flaps match interface down events</li>
            <li>✓ LOG_ANALYSIS_AGENT: Syslog confirms SFP RX loss and TX faults</li>
            <li>✓ SYSTEM_RESOURCES_AGENT: Software and resources are healthy</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 15: ROOT_CAUSE_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">ROOT_CAUSE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Root Cause Analysis - Correlating All Agent Findings:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Compilation:</strong></p>
          <ul class="compact-list">
            <li>✓ INTERFACE_HEALTH_AGENT: RX power -22.8 dBm (CRITICAL, below -19 dBm threshold)</li>
            <li>✓ INTERFACE_HEALTH_AGENT: SFP temperature 68.5°C (ALARM, near 70°C threshold)</li>
            <li>✓ INTERFACE_HEALTH_AGENT: 8,247 CRC errors, 247 TX faults, 23 interface resets</li>
            <li>✓ BGP_PROTOCOL_AGENT: 23 BGP session resets, all due to "Hold Timer Expired"</li>
            <li>✓ LOG_ANALYSIS_AGENT: SFP_RX_LOS and SFP_TX_FAULT alarms (23 occurrences)</li>
            <li>✓ SYSTEM_RESOURCES_AGENT: CPU/memory normal, no software issues</li>
            <li>✓ RAG Historical Data: 94% similarity to TKT-78934 (SFP failure)</li>
          </ul>
          <p><strong>Timeline Correlation:</strong></p>
          <ul class="metric-list">
            <li>06:45:17 AM: First SFP_RX_LOS alarm → Interface down</li>
            <li>06:45:21 AM: BGP sessions to both peers go down</li>
            <li>06:45:32 AM: Interface recovers, BGP re-establishes</li>
            <li>Pattern repeats: Every 5-10 minutes for 3.5 hours (23 times)</li>
            <li>Impact: 30-second outage per flap, routing instability</li>
          </ul>
        </div>
        <p><strong>Root Cause Statement:</strong></p>
        <div class="rca-box">
          <p><strong>PRIMARY ROOT CAUSE:</strong></p>
          <p>Faulty SFP transceiver module (GLC-LH-SMD, Serial: FNS19274KL8) on interface GigabitEthernet0/0/1 experiencing hardware failure characterized by:</p>
          <ul class="compact-list">
            <li>• Degraded optical receive power (-22.8 dBm, below -19 dBm threshold)</li>
            <li>• Elevated operating temperature (68.5°C, near 70°C failure threshold)</li>
            <li>• Intermittent signal loss causing CRC errors and interface resets</li>
          </ul>
          <p>This results in BGP keepalive packet loss, triggering hold timer expiration and session resets every 5-10 minutes.</p>
          <p><strong>CONTRIBUTING FACTORS:</strong></p>
          <ul class="compact-list">
            <li>1. SFP module age: 2 years old (approaching typical 3-year lifespan)</li>
            <li>2. Both BGP peers (iBGP and eBGP) use same physical interface (single point of failure)</li>
            <li>3. No redundant WAN path configured for automatic failover</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Root Cause Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CORRELATION ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Correlation Analysis - Symptoms vs. Causes:</strong></p>
        <div class="change-details">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Severity</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting internet outages</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Critical</td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>VPN tunnels resetting</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Critical</td>
                  <td>Routing instability impact</td>
                </tr>
                <tr>
                  <td>BGP sessions flapping</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Critical</td>
                  <td>Protocol-level symptom</td>
                </tr>
                <tr>
                  <td>BGP hold timer expired</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Keepalives not received</td>
                </tr>
                <tr>
                  <td>8,247 CRC errors</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Critical</td>
                  <td>Physical layer symptom</td>
                </tr>
                <tr>
                  <td>23 interface resets</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Interface instability</td>
                </tr>
                <tr>
                  <td>SFP RX power -22.8 dBm</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Critical</td>
                  <td>Below operational threshold</td>
                </tr>
                <tr>
                  <td>SFP temperature 68.5°C</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>High</td>
                  <td>Near failure threshold</td>
                </tr>
                <tr>
                  <td>247 SFP TX faults</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Critical</td>
                  <td>Transmitter hardware failure</td>
                </tr>
                <tr>
                  <td>Faulty SFP transceiver</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Hardware component failure</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur simultaneously with SFP_RX_LOS alarms</li>
            <li>✓ All interface errors are CRC errors (physical layer issue)</li>
            <li>✓ BGP flaps correlate 100% with interface down events</li>
            <li>✓ Pattern is 100% repeatable every 5-10 minutes</li>
            <li>✓ No software, configuration, or resource issues found</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed - hardware failure. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Task Assignment (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Task Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Root cause clearly identified: Faulty SFP transceiver module (hardware failure)</p>
          <p>✓ All specialized agents have completed their investigations</p>
          <p>✓ Findings are conclusive and correlated across all data sources</p>
          <p>✓ SFP diagnostics provide definitive hardware failure evidence</p>
          <p>✓ Historical RAG data (94% similarity) confirms diagnosis</p>
          <p><strong>Decision: No additional investigation tasks required. Proceeding directly to resolution recommendations.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear RCA Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: ROOT CAUSE ANALYSIS - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 ROOT CAUSE ANALYSIS STATEMENT</h3>
          <p><strong>Primary Root Cause:</strong></p>
          <p class="highlight">The BGP session flapping on RTR-BRANCH-05 is caused by a <strong>failing SFP transceiver module (GLC-LH-SMD, Serial: FNS19274KL8)</strong> on interface GigabitEthernet0/0/1. The SFP is experiencing hardware degradation with critically low optical receive power (-22.8 dBm, below -19 dBm threshold), elevated temperature (68.5°C, near 70°C alarm threshold), and intermittent signal loss.</p>

          <p><strong>Technical Details:</strong></p>
          <ul class="compact-list">
            <li>• Affected Interface: GigabitEthernet0/0/1 (primary WAN interface)</li>
            <li>• SFP Model: GLC-LH-SMD (1000BASE-LX/LH)</li>
            <li>• SFP Serial: FNS19274KL8 (2 years old)</li>
            <li>• RX Optical Power: -22.8 dBm (CRITICAL - threshold: -19 dBm)</li>
            <li>• Temperature: 68.5°C (ALARM - threshold: 70°C)</li>
            <li>• TX Fault Count: 247 occurrences</li>
          </ul>

          <p><strong>Impact Chain:</strong></p>
          <ul class="compact-list">
            <li>1. SFP hardware degradation → Intermittent optical signal loss</li>
            <li>2. Signal loss → CRC errors (8,247) and interface resets (23)</li>
            <li>3. Interface down → BGP keepalive packets lost</li>
            <li>4. Keepalive loss → BGP hold timer expires (180 seconds)</li>
            <li>5. BGP session reset → Routing table instability</li>
            <li>6. Routing instability → Internet outages and VPN tunnel resets</li>
          </ul>

          <p><strong>Evidence Supporting RCA:</strong></p>
          <ul class="compact-list">
            <li>✓ SFP diagnostics show RX power below operational threshold (-22.8 dBm vs. -19 dBm)</li>
            <li>✓ Syslog shows 23 SFP_RX_LOS and 15 SFP_TX_FAULT alarms</li>
            <li>✓ 8,247 CRC errors (100% correlation with input errors)</li>
            <li>✓ BGP sessions reset exactly when interface goes down (23 times)</li>
            <li>✓ System resources normal (rules out software/CPU/memory issues)</li>
            <li>✓ Historical ticket TKT-78934 (94% similarity) resolved with SFP replacement</li>
          </ul>

          <p><strong>Business Impact:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: 120 users at Austin branch experiencing intermittent internet outages</li>
            <li>🔴 Critical: Customer service operations disrupted (cannot process orders)</li>
            <li>🔴 Critical: Sales team unable to access CRM system</li>
            <li>🔴 Critical: VPN tunnels resetting (remote access impacted)</li>
            <li>⏱️ Duration: 30-second outage every 5-10 minutes since 6:45 AM (3.5 hours)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: RECOMMENDATIONS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">STEP 19: RECOMMENDATIONS_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved SFP replacement procedures for ISR 4451-X</li>
          <li>📚 RAG Query: Retrieved 3 successful SFP replacement playbooks (TKT-78934, TKT-67123, TKT-54892)</li>
          <li>🔧 MCP Server: Retrieved spare SFP inventory (2 available GLC-LH-SMD modules)</li>
          <li>📚 KG Query: Retrieved redundancy best practices for branch routers</li>
        </ul>

        <div class="info-box">
          <h3>🎯 THREE-PHASE REMEDIATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 2 hours) - CRITICAL</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Emergency SFP Module Replacement</strong></p>
            <ul class="compact-list">
              <li>✓ Dispatch field technician to Austin branch with replacement SFP (GLC-LH-SMD)</li>
              <li>✓ Coordinate 15-minute maintenance window with Mike Rodriguez</li>
              <li>✓ Steps: Power down interface → Replace SFP → Power up → Verify diagnostics</li>
              <li>✓ Verify RX power within normal range (-3 dBm to -19 dBm)</li>
              <li>✓ Verify BGP sessions establish and remain stable for 30 minutes</li>
              <li>⏱️ Replacement time: 15 minutes (interface down)</li>
              <li>⏱️ Verification time: 30 minutes (BGP stability test)</li>
              <li>📊 Expected impact: Complete resolution of BGP flapping</li>
            </ul>

            <p><strong>Action 1.2 - Post-Replacement Verification Tests</strong></p>
            <ul class="compact-list">
              <li>✓ show interface GigE0/0/1 transceiver (verify RX/TX power, temperature)</li>
              <li>✓ show interface GigE0/0/1 (verify 0 CRC errors, 0 input errors)</li>
              <li>✓ show ip bgp summary (verify both peers Established)</li>
              <li>✓ Monitor for 2 hours to ensure no flaps occur</li>
            </ul>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 1 week)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - Implement Redundant WAN Path</strong></p>
            <ul class="compact-list">
              <li>✓ Configure secondary WAN interface (GigE0/0/2) with backup ISP connection</li>
              <li>✓ Implement BGP load balancing and automatic failover</li>
              <li>✓ Configure IP SLA tracking for primary path monitoring</li>
              <li>⏱️ Implementation: 2-hour change window</li>
              <li>📊 Expected impact: Eliminate single point of failure</li>
            </ul>

            <p><strong>Action 2.2 - SFP Inventory Management</strong></p>
            <ul class="compact-list">
              <li>✓ Stock 2 spare SFP modules at Austin branch (on-site spares)</li>
              <li>✓ Implement SFP lifecycle tracking (replace every 3 years proactively)</li>
              <li>✓ Add SFP modules to quarterly hardware audit process</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Enhanced SFP Monitoring</strong></p>
            <ul class="compact-list">
              <li>✓ Implement automated SFP diagnostics monitoring (RX/TX power, temperature)</li>
              <li>✓ Configure SNMP traps for SFP_RX_LOS and SFP_TX_FAULT alarms</li>
              <li>✓ Set proactive alerts for RX power degradation (-15 dBm warning threshold)</li>
              <li>✓ Create dashboard for SFP health across all branch routers</li>
              <li>⏱️ Rollout: Phased deployment across 25 branch locations</li>
            </ul>

            <p><strong>Action 3.2 - BGP Resilience Improvements</strong></p>
            <ul class="compact-list">
              <li>✓ Tune BGP timers for faster convergence (keepalive: 20s, hold: 60s)</li>
              <li>✓ Implement BFD (Bidirectional Forwarding Detection) for sub-second failure detection</li>
              <li>✓ Configure BGP graceful restart for hitless failover</li>
            </ul>

            <p><strong>Action 3.3 - Preventive Maintenance Program</strong></p>
            <ul class="compact-list">
              <li>✓ Quarterly SFP diagnostics review across all sites</li>
              <li>✓ Proactive SFP replacement at 3-year lifecycle mark</li>
              <li>✓ Fiber optic cable inspection and cleaning annually</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>SFP module replacement</td>
              <td><span class="success">LOW</span></td>
              <td>Hot-swappable, 15-min downtime</td>
              <td>5 minutes</td>
            </tr>
            <tr>
              <td>Redundant WAN path</td>
              <td><span class="warning">MEDIUM</span></td>
              <td>Test in lab first, deploy off-hours</td>
              <td>10 minutes</td>
            </tr>
            <tr>
              <td>BGP timer tuning</td>
              <td><span class="success">LOW</span></td>
              <td>Non-disruptive configuration change</td>
              <td>2 minutes</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ BGP sessions remain stable for 48 hours with 0 flaps</li>
          <li>✓ Interface CRC errors remain at 0</li>
          <li>✓ SFP RX power within normal range (-3 dBm to -15 dBm)</li>
          <li>✓ SFP temperature within normal range (0-60°C)</li>
          <li>✓ No user complaints or outage reports</li>
          <li>✓ VPN tunnels remain stable</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: RECOMMENDATIONS_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the solution design based on RCA findings (faulty SFP transceiver), KG spare inventory data, and RAG historical resolutions. I recommend immediate SFP replacement (PHASE 1) within 2 hours to restore service. Field technician dispatch required."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase remediation plan</li>
            <li>📄 SFP replacement procedure (step-by-step guide)</li>
            <li>📄 Verification test checklist</li>
            <li>📄 Risk assessment matrix</li>
            <li>📄 Field technician dispatch instructions</li>
            <li>📄 Spare SFP inventory confirmation (2 GLC-LH-SMD available)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (Mike Rodriguez):</strong></p>
          <p>"Mike, our AI agents have completed the investigation of ticket #RTR-5512 (BGP flapping on RTR-BRANCH-05)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: Faulty SFP transceiver module (hardware failure)</li>
            <li>📊 Impact: BGP sessions flapping every 5-10 minutes, 120 users affected</li>
            <li>⏱️ Device: RTR-BRANCH-05, Interface GigE0/0/1</li>
            <li>🔧 Solution: Replace SFP module (GLC-LH-SMD)</li>
          </ul>

          <p><strong>Recommended Immediate Solution (PHASE 1):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Dispatch field technician to Austin branch with replacement SFP</li>
            <li>2️⃣ Schedule 15-minute maintenance window for SFP replacement</li>
            <li>3️⃣ Verify BGP stability for 30 minutes post-replacement</li>
            <li>⏱️ Total resolution time: ~2 hours (including travel + replacement + verification)</li>
            <li>📉 Expected result: Complete resolution of BGP flapping</li>
            <li>🔄 Rollback time: 5 minutes (reinstall old SFP if needed)</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve the immediate SFP replacement (PHASE 1)?</strong></p>
            <p class="answer">✅ A1: Yes, approved. This is critical - please dispatch technician immediately.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: What is your preferred maintenance window? (15 minutes required)</strong></p>
            <p class="answer">✅ A2: As soon as technician arrives (estimated 11:30 AM). Users are already experiencing outages every 5-10 minutes, so a planned 15-minute outage is acceptable.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Should we proceed with PHASE 2 (redundant WAN path) within 1 week?</strong></p>
            <p class="answer">✅ A3: Yes, approved. Please schedule for next Tuesday evening (8:00 PM maintenance window).</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Notification preferences - who should be informed of the maintenance?</strong></p>
            <p class="answer">✅ A4: Notify Austin branch manager (sarah.johnson@company.com) and IT infrastructure team (it-infra-team@company.com) 30 minutes before maintenance.</p>
          </div>
        </div>
        <div class="success-box">
          <p><strong>✅ USER APPROVAL RECEIVED</strong></p>
          <p>Mike Rodriguez has approved PHASE 1 immediate deployment. Proceeding with field technician dispatch and SFP replacement.</p>
        </div>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Executing Remediation</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Executing PHASE 1:</strong></p>
        <div class="deployment-box">
          <p><strong>Step 1: Field Technician Dispatch</strong></p>
          <ul class="compact-list">
            <li>⏰ 10:35 AM: Technician John Martinez dispatched to Austin branch</li>
            <li>📍 ETA: 11:30 AM (55 minutes travel time)</li>
            <li>📦 Equipment: Replacement SFP module (GLC-LH-SMD, Serial: FNS20891MK3)</li>
            <li>📋 Procedure: SFP_Replacement_ISR4451X_v2.3.pdf</li>
            <li>✅ Status: Technician en route</li>
          </ul>

          <p><strong>Step 2: Pre-Maintenance Notifications</strong></p>
          <ul class="compact-list">
            <li>⏰ 11:00 AM: Notification sent to Austin branch manager</li>
            <li>⏰ 11:00 AM: Notification sent to IT infrastructure team</li>
            <li>📧 Subject: "Planned 15-minute network maintenance - RTR-BRANCH-05 - 11:30 AM"</li>
            <li>✅ Status: Notifications delivered</li>
          </ul>

          <p><strong>Step 3: SFP Replacement Execution</strong></p>
          <ul class="compact-list">
            <li>⏰ 11:32 AM: Technician on-site, beginning replacement</li>
            <li>⏰ 11:33 AM: interface GigabitEthernet0/0/1 shutdown</li>
            <li>⏰ 11:35 AM: Old SFP removed (Serial: FNS19274KL8 - FAILED)</li>
            <li>⏰ 11:36 AM: New SFP installed (Serial: FNS20891MK3)</li>
            <li>⏰ 11:37 AM: no shutdown GigabitEthernet0/0/1</li>
            <li>⏰ 11:38 AM: Interface up, line protocol up</li>
            <li>⏰ 11:39 AM: BGP session to RTR-HQ-01 established</li>
            <li>⏰ 11:39 AM: BGP session to ISP-PE-01 established</li>
            <li>✅ Status: Replacement complete (7 minutes total downtime)</li>
          </ul>

          <p><strong>Step 4: Post-Replacement Diagnostics</strong></p>
          <div class="code-block">
RTR-BRANCH-05# show interface GigabitEthernet0/0/1 transceiver
GigabitEthernet0/0/1 transceiver information:
  Transceiver Type: SFP-1000BASE-LX
  Part Number: GLC-LH-SMD
  Serial Number: FNS20891MK3
  Temperature: 42.3 C (Normal - threshold: 70 C)
  Voltage: 3.31 V
  Current: 38.7 mA
  Optical TX Power: -2.8 dBm (Normal)
  Optical RX Power: -8.4 dBm (Normal - threshold: -19 dBm)
  TX Fault Count: 0
  RX Loss of Signal: 0 occurrences
          </div>

          <div class="code-block">
RTR-BRANCH-05# show interface GigabitEthernet0/0/1 | include errors
  0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored
  0 output errors, 0 collisions, 0 interface resets
          </div>

          <div class="code-block">
RTR-BRANCH-05# show ip bgp summary
BGP router identifier 10.50.1.1, local AS number 65001

Neighbor        V    AS MsgRcvd MsgSent   TblVer  InQ OutQ Up/Down  State/PfxRcd
10.200.1.1      4 65001      45      47     4892    0    0 00:08:23      156
203.0.113.1     4 65500      32      34     4892    0    0 00:08:21       78
          </div>
        </div>

        <div class="success-box">
          <p><strong>✅ PHASE 1 DEPLOYMENT COMPLETE</strong></p>
          <ul class="compact-list">
            <li>✅ New SFP installed and verified healthy</li>
            <li>✅ Interface errors cleared (0 CRC errors)</li>
            <li>✅ BGP sessions established and stable</li>
            <li>✅ SFP diagnostics normal (RX power -8.4 dBm, temp 42.3°C)</li>
            <li>⏱️ Total downtime: 7 minutes (better than planned 15 minutes)</li>
            <li>⏱️ Deployment time: 11:32 AM - 11:39 AM</li>
          </ul>
        </div>

        <div class="agent-transfer">
          <span class="arrow">→</span> Handoff to <strong>VERIFICATION_AGENT</strong> for stability monitoring
        </div>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Monitoring</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Monitoring Post-Deployment Health:</strong></p>
        <div class="verification-box">
          <p><strong>Continuous Monitoring (2-hour observation period):</strong></p>
          <ul class="compact-list">
            <li>📊 Monitoring via MCP servers (NETCONF + CLI polling every 5 minutes)</li>
            <li>📊 Syslog monitoring for any SFP-related alarms</li>
            <li>📊 BGP session state tracking</li>
            <li>📊 Interface error counter monitoring</li>
          </ul>

          <p><strong>Verification Results (11:39 AM - 1:39 PM):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Before (Faulty SFP)</th>
                  <th>After (New SFP)</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>BGP Session Stability</td>
                  <td>23 flaps in 3.5 hours</td>
                  <td>0 flaps in 2 hours</td>
                  <td><span class="success">✅ PASS</span></td>
                </tr>
                <tr>
                  <td>CRC Errors</td>
                  <td>8,247</td>
                  <td>0</td>
                  <td><span class="success">✅ PASS</span></td>
                </tr>
                <tr>
                  <td>Interface Resets</td>
                  <td>23</td>
                  <td>0</td>
                  <td><span class="success">✅ PASS</span></td>
                </tr>
                <tr>
                  <td>SFP RX Power</td>
                  <td>-22.8 dBm (CRITICAL)</td>
                  <td>-8.4 dBm (Normal)</td>
                  <td><span class="success">✅ PASS</span></td>
                </tr>
                <tr>
                  <td>SFP Temperature</td>
                  <td>68.5°C (ALARM)</td>
                  <td>42.3°C (Normal)</td>
                  <td><span class="success">✅ PASS</span></td>
                </tr>
                <tr>
                  <td>SFP TX Faults</td>
                  <td>247</td>
                  <td>0</td>
                  <td><span class="success">✅ PASS</span></td>
                </tr>
                <tr>
                  <td>BGP Routes Received</td>
                  <td>156 + 78 (unstable)</td>
                  <td>156 + 78 (stable)</td>
                  <td><span class="success">✅ PASS</span></td>
                </tr>
              </tbody>
            </table>
          </div>

          <p><strong>User Verification:</strong></p>
          <ul class="compact-list">
            <li>✅ 1:15 PM: Mike Rodriguez confirms no outages since 11:39 AM</li>
            <li>✅ 1:20 PM: Austin branch users report stable internet connectivity</li>
            <li>✅ 1:25 PM: Customer service team confirms CRM access stable</li>
            <li>✅ 1:30 PM: VPN tunnels stable - no resets observed</li>
          </ul>

          <p><strong>Syslog Analysis (Past 2 Hours):</strong></p>
          <div class="code-block">
Oct 19 11:39:12: %BGP-5-ADJCHANGE: neighbor 10.200.1.1 Up
Oct 19 11:39:14: %BGP-5-ADJCHANGE: neighbor 203.0.113.1 Up
[No SFP-related alarms or errors for 2 hours - ALL CLEAR]
          </div>
        </div>

        <div class="success-box">
          <p><strong>✅ VERIFICATION COMPLETE - ALL TESTS PASSED</strong></p>
          <ul class="compact-list">
            <li>✅ BGP sessions stable for 2 hours (0 flaps)</li>
            <li>✅ Interface health metrics normal (0 errors)</li>
            <li>✅ SFP diagnostics within normal range</li>
            <li>✅ No syslog alarms or warnings</li>
            <li>✅ User confirmation: Service fully restored</li>
            <li>⏱️ <strong>Resolution validated at 1:39 PM</strong></li>
          </ul>
        </div>

        <div class="agent-transfer">
          <span class="arrow">→</span> Sending final report to <strong>IO_AGENT</strong> for user notification
        </div>
      </div>
    </div>

    <!-- STEP 24: FINAL REPORT GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📊</span>
        <span class="agent-name">STEP 24: MRA → IO_AGENT - Final Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Final Incident Report Generated:</strong></p>
        <div class="final-report-box">
          <h3>📋 INCIDENT REPORT - TICKET #RTR-5512</h3>

          <p><strong>Executive Summary:</strong></p>
          <p>BGP session instability on RTR-BRANCH-05 affecting 120 users at Austin branch office has been successfully resolved by replacing a faulty SFP transceiver module. Root cause was hardware failure (degraded optical receive power and elevated temperature). Resolution time: 5 hours 4 minutes from initial alert to verified fix.</p>

          <p><strong>Timeline:</strong></p>
          <ul class="compact-list">
            <li>06:45 AM: First SFP failure detected, BGP sessions begin flapping</li>
            <li>06:45 AM: Automated alert generated, ticket #RTR-5512 created</li>
            <li>10:15 AM: AI agent investigation complete, root cause identified</li>
            <li>10:35 AM: User approval received, technician dispatched</li>
            <li>11:32 AM: SFP replacement begins</li>
            <li>11:39 AM: Replacement complete, BGP sessions stable</li>
            <li>1:39 PM: 2-hour verification complete, issue resolved</li>
          </ul>

          <p><strong>Root Cause:</strong></p>
          <p>Faulty SFP transceiver module (GLC-LH-SMD, Serial: FNS19274KL8) on interface GigabitEthernet0/0/1 experiencing hardware degradation with RX optical power -22.8 dBm (below -19 dBm threshold), temperature 68.5°C (near failure threshold), and 247 TX faults. This caused intermittent signal loss, resulting in CRC errors and BGP keepalive packet loss.</p>

          <p><strong>Resolution:</strong></p>
          <p>Replaced faulty SFP module with new GLC-LH-SMD (Serial: FNS20891MK3). Post-replacement diagnostics show RX power -8.4 dBm (normal), temperature 42.3°C (normal), and 0 errors. BGP sessions stable for 2 hours with 0 flaps.</p>

          <p><strong>AI Agent Performance:</strong></p>
          <ul class="compact-list">
            <li>🤖 6 specialized agents deployed (INTERFACE_HEALTH, BGP_PROTOCOL, SYSTEM_RESOURCES, LOG_ANALYSIS, ROOT_CAUSE, RECOMMENDATIONS)</li>
            <li>📊 Data sources: Knowledge Graph (topology, configs) + RAG (historical tickets) + MCP (live diagnostics)</li>
            <li>🎯 Diagnostic accuracy: 100% (root cause confirmed by post-fix resolution)</li>
            <li>⏱️ Investigation time: 3.5 hours (automated analysis)</li>
            <li>✅ Historical pattern match: 94% similarity to TKT-78934 (successful SFP replacement)</li>
          </ul>

          <p><strong>Preventive Measures (Scheduled):</strong></p>
          <ul class="compact-list">
            <li>📅 Phase 2 (Next Tuesday 8:00 PM): Implement redundant WAN path</li>
            <li>📅 Phase 3 (Within 30 days): Deploy automated SFP diagnostics monitoring</li>
            <li>📅 Ongoing: Quarterly SFP health reviews, proactive replacement at 3-year lifecycle</li>
          </ul>
        </div>

        <div class="agent-transfer">
          <span class="arrow">→</span> Report ready for user notification
        </div>
      </div>
    </div>

    <!-- STEP 25: USER NOTIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📧</span>
        <span class="agent-name">STEP 25: IO_AGENT → USER - Final Notification</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Final Resolution Email Sent to User:</strong></p>
        <div class="notification-box">
          <p><strong>From:</strong> AI Operations Center &lt;aiops-noreply@company.com&gt;</p>
          <p><strong>To:</strong> Mike Rodriguez &lt;mike.rodriguez@company.com&gt;</p>
          <p><strong>CC:</strong> IT Infrastructure Team &lt;it-infra-team@company.com&gt;</p>
          <p><strong>Subject:</strong> ✅ RESOLVED - Ticket #RTR-5512 - BGP Flapping on RTR-BRANCH-05</p>
          <hr>
          <div class="email-body">
            <p>Hi Mike,</p>
            <p>Great news! Your ticket <strong>#RTR-5512</strong> has been <strong>successfully resolved</strong>.</p>

            <p><strong>Issue Summary:</strong></p>
            <p>Router RTR-BRANCH-05 experiencing BGP session flapping every 5-10 minutes, affecting 120 users at Austin branch office. Root cause was a faulty SFP transceiver module on interface GigabitEthernet0/0/1 with degraded optical receive power and elevated temperature.</p>

            <p><strong>Resolution:</strong></p>
            <p>Our AI Operations Center identified the failing SFP module and dispatched field technician John Martinez to replace it. The replacement was completed at 11:39 AM and has been verified stable for 2 hours with 0 BGP flaps.</p>

            <p><strong>Results:</strong></p>
            <ul>
              <li>✅ BGP sessions stable for 2 hours (0 flaps, previously 23 flaps in 3.5 hours)</li>
              <li>✅ Interface errors eliminated (0 CRC errors, previously 8,247)</li>
              <li>✅ SFP diagnostics normal (RX power -8.4 dBm, temperature 42.3°C)</li>
              <li>✅ Internet connectivity restored, VPN tunnels stable</li>
              <li>✅ All 120 users at Austin branch back online</li>
            </ul>

            <p><strong>Technical Details:</strong></p>
            <ul>
              <li>• Old SFP: GLC-LH-SMD (Serial: FNS19274KL8) - FAILED</li>
              <li>• New SFP: GLC-LH-SMD (Serial: FNS20891MK3) - HEALTHY</li>
              <li>• Downtime: 7 minutes (11:32 AM - 11:39 AM)</li>
              <li>• Verification: 2 hours stability monitoring (11:39 AM - 1:39 PM)</li>
            </ul>

            <p><strong>Next Steps:</strong></p>
            <ul>
              <li>📅 Tuesday 8:00 PM: Phase 2 deployment - Implement redundant WAN path (approved)</li>
              <li>📅 Within 30 days: Phase 3 - Deploy automated SFP diagnostics monitoring</li>
              <li>📦 On-site spares: 2 GLC-LH-SMD modules stocked at Austin branch</li>
              <li>📄 Full incident report attached (PDF)</li>
            </ul>

            <p><strong>Resolution Time:</strong> 5 hours 4 minutes (from initial alert to verified fix)</p>

            <p>The issue is now fully resolved and your network should be performing optimally. BGP sessions have been stable for 2 hours with no errors. If you experience any further issues, please open a new ticket or reply to this email.</p>

            <p><strong>We'd appreciate your feedback!</strong> Please rate your experience: <a href="#">⭐⭐⭐⭐⭐</a></p>

            <p>Thank you for using AI Operations Center!</p>

            <p>Best regards,<br>
            <strong>AI Operations Center</strong><br>
            Powered by MRA + 6 Specialized AI Agents<br>
            📧 aiops-support@company.com | 📞 1-800-AIOPS-24</p>
          </div>
          <hr>
          <p><strong>Attachments:</strong></p>
          <ul class="compact-list">
            <li>📎 Incident_Report_RTR-5512.pdf (2.8 MB)</li>
            <li>📎 SFP_Diagnostics_Before_After.xlsx (124 KB)</li>
            <li>📎 BGP_Session_Stability_Report.pdf (456 KB)</li>
            <li>📎 Phase_2_3_Implementation_Plan.pdf (892 KB)</li>
          </ul>
        </div>

        <div class="success-box">
          <p><strong>🎉 TICKET #RTR-5512 - CLOSED</strong></p>
          <ul class="compact-list">
            <li>✅ User notified via email</li>
            <li>✅ Final report delivered</li>
            <li>✅ Documentation archived</li>
            <li>✅ Knowledge base updated with SFP failure pattern</li>
            <li>✅ Change tickets created for Phase 2 & 3</li>
            <li>⏱️ <strong>Total Resolution Time: 5 hours 4 minutes</strong></li>
            <li>🤖 <strong>AI Agents Investigation: 3.5 hours (automated diagnosis)</strong></li>
            <li>👨‍🔧 <strong>Field Technician Dispatch + Replacement: 1 hour 4 minutes</strong></li>
            <li>✅ <strong>Verification: 2 hours (BGP stability monitoring)</strong></li>
          </ul>
        </div>

        <div class="completion-banner">
          <h2>✅ SCENARIO 4 COMPLETE - ALL 25 STEPS IMPLEMENTED</h2>
          <p><strong>Compliance Status: 100% v6 Standard</strong></p>
          <ul class="compact-list">
            <li>✅ Steps 1-5: Alert → IO_AGENT → Classification → MRA → KG</li>
            <li>✅ Steps 6-8: RAG → 3-Source Analysis → Agent Deployment</li>
            <li>✅ Steps 9-14: 6 Specialized Agents with KG/RAG/MCP queries + Inter-Agent Collaboration</li>
            <li>✅ Steps 15-17: ROOT_CAUSE_AGENT → MRA Correlation → Task Evaluation</li>
            <li>✅ Steps 18-20: RCA Statement → RECOMMENDATIONS_AGENT → IO_AGENT</li>
            <li>✅ Steps 21-23: User Permission → DEPLOYMENT_AGENT → VERIFICATION_AGENT</li>
            <li>✅ Steps 24-25: Final Report → User Notification → Ticket Closed</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    font-size: 0.85rem;
    color: #00ff88;
    margin-bottom: 5px;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #aaa;
  }

  .info-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
  }

  .deployment-box {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
    padding: 15px;
    margin: 15px 0;
  }

  .verification-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
  }

  .final-report-box {
    background: #fff3e0;
    border: 2px solid #ff9800;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .notification-box {
    background: #f3e5f5;
    border-left: 4px solid #9c27b0;
    padding: 15px;
    margin: 15px 0;
  }

  .email-body {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }

  .completion-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: 30px 0;
    border-radius: 10px;
    text-align: center;
  }

  .completion-banner h2 {
    margin-top: 0;
    font-size: 24px;
  }

  .code-block {
    background: #263238;
    color: #aed581;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
  }

  .user-interaction-box {
    background: #fff9e6;
    border: 2px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .recommendation-phase {
    background: white;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    border-left: 3px solid #2196f3;
  }

  .rca-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .collaboration-exchange {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    margin: 15px 0;
    border-left: 3px solid #00ff88;
    border-radius: 4px;
  }

  .collab-from {
    font-weight: bold;
    color: #00aaff;
    margin-bottom: 5px;
  }

  .collab-message {
    font-style: italic;
    margin-left: 20px;
    color: #ccc;
  }

  .collab-response {
    margin-left: 20px;
    margin-top: 10px;
    color: #00ff88;
  }

  .symptom-tag {
    background: #ff9800;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .contributing-tag {
    background: #ffc107;
    color: black;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .root-cause-tag {
    background: #f44336;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }
</style>`
                ]
            },
            'app-performance': {
                title: 'Application Performance',
                icon: '📈',
                description: 'Root cause analysis for slow application response times',
                initialQuery: 'Show Application Performance RCA',
                responses: [
                    `<!-- SCENARIO 5: APPLICATION PERFORMANCE RCA  -->


<div class="root-container">
  <h3>Agentic AI - Application Performance RCA v6</h3>
  <p><strong>Complete 25-Step Workflow: Alert → Investigation → Resolution → Verification</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: ALERT/TICKET GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">MONITORING_SYSTEM → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Alert Generated from Application Performance Monitoring:</strong></p>
        <ul class="compact-list">
          <li>⏰ Alert Time: 2025-10-19 09:15:00 AM</li>
          <li>🔍 Alert Source: AppDynamics APM</li>
          <li>⚠️ Alert Type: Application Response Time Threshold Exceeded</li>
          <li>🔴 Severity: HIGH</li>
          <li>📍 Affected Application: CRM System (Salesforce)</li>
          <li>👥 Affected Users: 200+ users (Sales Department)</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#45782</span></li>
            <li>Category: Application Performance</li>
            <li>Subcategory: Response Time Degradation</li>
            <li>Priority: P2 - High</li>
            <li>Auto-assigned to: Network Operations Team</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES TICKET -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #45782 Received - Initial Problem Statement:</strong></p>
        <div class="change-details">
          <p><strong>Reported By:</strong> XYZ Corp NOC (Automated Alert + User Reports)</p>
          <p><strong>Affected Entity:</strong> XYZ Corporation</p>
          <p><strong>Department:</strong> Sales Department</p>
          <p><strong>Users Impacted:</strong> 200+ sales representatives</p>
          <p><strong>Initial Problem Description:</strong></p>
          <p>"Multiple users reporting 3-5 second CRM response times (normal: less than 1 second). Application performance monitoring shows significant degradation starting at 9:00 AM this morning. Users experiencing slow page loads, delayed search results, and timeout errors when accessing customer records."</p>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering additional context before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS CLARIFYING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Asking Clarifying Questions:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which specific applications are experiencing performance issues?</strong></p>
            <p class="answer">A1: Primarily CRM (Salesforce), but also email (Office 365) and internal SharePoint sites are slower than usual</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Which users or departments are affected? Is it location-specific?</strong></p>
            <p class="answer">A2: Entire Sales department (200+ users) across all locations - HQ, Chicago, Dallas, Seattle offices</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: When exactly did the performance degradation begin? Is this the first occurrence?</strong></p>
            <p class="answer">A3: Started this morning at exactly 9:00 AM. First occurrence - CRM has been performing normally until today.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Are users seeing specific error messages, or just slowness?</strong></p>
            <p class="answer">A4: Mostly slowness (3-5 second page loads vs normal <1 sec). A few timeout errors when running reports or searching large customer databases.</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: Were there any recent changes to the network, applications, or infrastructure?</strong></p>
            <p class="answer">A5: Yes! Scheduled maintenance was performed last night (10 PM - 2 AM) on WAN routers. Network team updated QoS policies as part of standard maintenance.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: PROBLEM CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Problem Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Problem Type</td>
                <td>Application Performance Degradation</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>Network QoS / Application Latency</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Department-wide (Sales - 200+ users)</td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td>Sudden onset after maintenance window</td>
              </tr>
              <tr>
                <td>Correlation</td>
                <td>QoS policy changes during last night's maintenance</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P2 - High</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Escalating to <strong>MASTER_REASONING_AGENT</strong> for systematic investigation
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Investigation:</strong></p>
        <div class="change-details">
          <p><strong>Ticket Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ Sudden performance degradation (3-5 sec vs <1 sec baseline) suggests configuration change</li>
            <li>✓ Timing correlation with maintenance window (last night 10 PM - 2 AM) is significant</li>
            <li>✓ QoS policy changes mentioned - likely root cause area</li>
            <li>✓ Affecting cloud-hosted applications (CRM, Office 365) suggests WAN path issue</li>
            <li>✓ All locations affected indicates central network component, not site-specific</li>
          </ul>
          <p><strong>Investigation Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for application topology and network path</li>
            <li>2. Query Knowledge Graph for QoS policy baseline configurations</li>
            <li>3. Search RAG system for similar application performance issues</li>
            <li>4. Check LCM (Lifecycle Management) change records from last night's maintenance</li>
            <li>5. Perform three-source analysis (Problem + KG + RAG)</li>
            <li>6. Deploy specialized agents for targeted investigation</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for Application & Network Context:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: Application Topology</strong></p>
          <ul class="compact-list">
            <li>✓ Retrieved: CRM application architecture</li>
            <li>✓ CRM Platform: Salesforce (cloud-hosted)</li>
            <li>✓ CRM Servers: APP-LOAD-BALANCER-01 (10.50.100.10) → CRM-SERVER-CLUSTER (10.50.100.20-25)</li>
            <li>✓ Network Path: Users → WAN-RTR-CORE-01 → APP-LOAD-BALANCER-01 → CRM Servers</li>
            <li>✓ Protocol: HTTPS (TCP 443), Average bandwidth: 15-25 Mbps during business hours</li>
          </ul>
          <p><strong>Query 2: Network Device Configurations</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Device</th>
                  <th>Model</th>
                  <th>Role</th>
                  <th>Key Config</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>WAN-RTR-CORE-01</td>
                  <td>Cisco ASR 1006-X</td>
                  <td>WAN Aggregation Router</td>
                  <td>QoS: Policy-map BUSINESS-APPS</td>
                </tr>
                <tr>
                  <td>APP-LOAD-BALANCER-01</td>
                  <td>F5 BIG-IP 4200v</td>
                  <td>Application Load Balancer</td>
                  <td>Virtual Server: 10.50.100.10</td>
                </tr>
                <tr>
                  <td>CRM-SERVER-CLUSTER</td>
                  <td>VMware vSphere Cluster</td>
                  <td>Application Servers (6 nodes)</td>
                  <td>IPs: 10.50.100.20-25</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: QoS Policy Baseline (Retrieved from KG - Pre-Maintenance)</strong></p>
          <ul class="metric-list">
            <li>Policy Name: <span class="highlight">BUSINESS-APPS</span></li>
            <li>CRM Traffic Class: <span class="success">AF31 (DSCP 26)</span></li>
            <li>Baseline Bandwidth Allocation: <span class="success">35%</span> of WAN link</li>
            <li>Priority: High (guaranteed bandwidth)</li>
            <li>Last Modified: 2025-09-15 (1 month ago)</li>
          </ul>
          <p><strong>Query 4: Application Performance Baseline (Past 30 Days)</strong></p>
          <ul class="metric-list">
            <li>Average Response Time: <span class="normal-value">650ms</span></li>
            <li>Peak Response Time: <span class="normal-value">950ms</span></li>
            <li>99th Percentile: <span class="normal-value">1.2 seconds</span></li>
            <li>Timeout Rate: <span class="success">0.01%</span></li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-success">Baseline QoS: 35% Bandwidth</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Similar Incidents and Solutions:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "application performance + QoS misconfiguration + response time degradation"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Similarity</th>
                  <th>Problem</th>
                  <th>Resolution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>TKT-38921</td>
                  <td><span class="success">92%</span></td>
                  <td>CRM slow after QoS change</td>
                  <td>Restored QoS bandwidth from 20% to 35%</td>
                </tr>
                <tr>
                  <td>TKT-29104</td>
                  <td><span class="success">85%</span></td>
                  <td>App timeout after maintenance</td>
                  <td>QoS policy rollback to previous config</td>
                </tr>
                <tr>
                  <td>TKT-19553</td>
                  <td><span class="warning">71%</span></td>
                  <td>VoIP + CRM performance issues</td>
                  <td>Adjusted class-map matching criteria</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Troubleshooting Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>QoS_Troubleshooting_Guide_Enterprise.pdf</strong> (Cisco Doc ID: 15091)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Recommends 30-40% bandwidth allocation for business-critical apps</li>
            <li>📄 <strong>Application_Performance_Best_Practices.pdf</strong> (Internal KB-9921)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ QoS bandwidth reduction = primary cause of app slowness in 78% of cases</li>
            <li>📄 <strong>Change_Management_QoS_Checklist.pdf</strong> (Internal KB-7734)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Verify class-map configs match DSCP markings after any QoS change</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 92% similarity to TKT-38921 - identical symptoms (CRM slow after QoS change)</li>
            <li>✓ Resolution: Restore QoS bandwidth allocation to baseline (35%)</li>
            <li>✓ Root cause pattern: Maintenance window QoS changes reducing app bandwidth</li>
            <li>✓ 78% of similar incidents resolved by QoS policy restoration</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">High Confidence Pattern Match (92%)</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Problem Statement:</strong></p>
            <ul class="compact-list">
              <li>CRM response time degraded from <1 sec to 3-5 seconds</li>
              <li>Affecting 200+ sales users across all locations</li>
              <li>Started at 9:00 AM this morning (business hours start)</li>
              <li>Correlation: QoS policy changes during last night's maintenance (10 PM - 2 AM)</li>
              <li>Users experiencing timeouts and slow page loads</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>Application path: Users → WAN-RTR-CORE-01 → APP-LOAD-BALANCER-01 → CRM Cluster</li>
              <li>QoS policy baseline: 35% bandwidth for CRM traffic (DSCP AF31)</li>
              <li>Historical performance: 650ms average, 1.2s at 99th percentile</li>
              <li>Current state: Unknown (need to query current QoS config)</li>
              <li>Network topology: All sites converge through WAN-RTR-CORE-01</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>92% similarity to TKT-38921 (identical CRM + QoS scenario)</li>
              <li>Historical resolution: Restore QoS bandwidth from 20% back to 35%</li>
              <li>Common pattern: Maintenance window QoS changes inadvertently reduce app bandwidth</li>
              <li>Best practice: Always verify class-map bandwidth allocations post-change</li>
              <li>78% of app performance issues traced to QoS bandwidth reduction</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Hypothesis:</strong> QoS policy changes during last night's maintenance reduced bandwidth allocation for CRM traffic on WAN-RTR-CORE-01, causing application response time degradation. Need to verify current QoS config and compare against 35% baseline.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Targeted Investigation:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">🗺️</div>
            <div class="deployment-name">APPLICATION_TOPOLOGY_AGENT</div>
            <div class="deployment-task">Map application data flow</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📊</div>
            <div class="deployment-name">QOS_POLICY_AGENT</div>
            <div class="deployment-task">Analyze QoS configurations</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔌</div>
            <div class="deployment-name">NETWORK_PATH_AGENT</div>
            <div class="deployment-task">Verify routing and paths</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📈</div>
            <div class="deployment-name">HISTORICAL_PERF_AGENT</div>
            <div class="deployment-task">Check LCM change records</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔧</div>
            <div class="deployment-name">ROOT_CAUSE_AGENT</div>
            <div class="deployment-task">Correlate all findings</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💡</div>
            <div class="deployment-name">RECOMMENDATIONS_AGENT</div>
            <div class="deployment-task">Generate remediation plan</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: APPLICATION_TOPOLOGY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🗺️</span>
        <span class="agent-name">APPLICATION_TOPOLOGY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Application Topology Mapping via Knowledge Graph & MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved application architecture (last updated: 2025-10-01)</li>
            <li>🔌 <strong>MCP NETCONF:</strong> Live routing tables from WAN-RTR-CORE-01</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show ip route from WAN-RTR-CORE-01</li>
            <li>🔌 <strong>MCP RESTCONF:</strong> Application response time metrics from AppDynamics</li>
          </ul>
          <p><strong>Application Data Flow Analysis:</strong></p>
          <ul class="compact-list">
            <li>User Workstations (All Sites) → Local Site Routers</li>
            <li>Site Routers → MPLS WAN → WAN-RTR-CORE-01 (10.100.1.1)</li>
            <li>WAN-RTR-CORE-01 → APP-LOAD-BALANCER-01 (10.50.100.10) via GigE 0/0/1</li>
            <li>APP-LOAD-BALANCER-01 → CRM-SERVER-CLUSTER (10.50.100.20-25)</li>
            <li><strong>Critical Path Identified:</strong> WAN-RTR-CORE-01 GigE 0/0/1 (QoS policy applied here)</li>
          </ul>
          <p><strong>Current Application Metrics (from AppDynamics MCP):</strong></p>
          <ul class="metric-list">
            <li>Current Response Time: <span class="problem-value">3.8 seconds</span> (baseline: 650ms)</li>
            <li>Error Rate: <span class="problem-value">2.3%</span> (baseline: 0.01%)</li>
            <li>Throughput: <span class="warning">15.2 Mbps</span> (normal: 22-25 Mbps)</li>
            <li>Active Users: <span class="normal-value">203 users</span></li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ All routing paths established correctly</li>
          <li>✅ CRM servers healthy (CPU: 45%, Memory: 62%)</li>
          <li>✅ Load balancer operational (distributing traffic evenly)</li>
          <li>✅ No packet loss on application server interfaces</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Response time degraded: 3.8 sec (baseline: 650ms) - 484% increase</li>
          <li>❌ Error rate elevated: 2.3% (baseline: 0.01%) - 230x increase</li>
          <li>❌ Throughput reduced: 15.2 Mbps (normal: 22-25 Mbps) - 33% reduction</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Application Performance Severely Degraded</span>
        </div>
      </div>
    </div>

    <!-- STEP 11: QOS_POLICY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📊</span>
        <span class="agent-name">QOS_POLICY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>QoS Policy Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved baseline QoS config (pre-maintenance)</li>
            <li>🔌 <strong>MCP NETCONF:</strong> Current QoS policy from WAN-RTR-CORE-01</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show policy-map interface GigE 0/0/1</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show class-map BUSINESS-APPS</li>
          </ul>
          <p><strong>QoS Configuration Comparison:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Parameter</th>
                  <th>Baseline (Pre-Maintenance)</th>
                  <th>Current (Post-Maintenance)</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Policy Name</td>
                  <td>BUSINESS-APPS</td>
                  <td>BUSINESS-APPS</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Class Name</td>
                  <td>CRM-TRAFFIC</td>
                  <td>CRM-TRAFFIC</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>DSCP Marking</td>
                  <td>AF31 (DSCP 26)</td>
                  <td>AF31 (DSCP 26)</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Bandwidth Allocation</td>
                  <td><span class="success">35%</span></td>
                  <td><span class="problem-value">25%</span></td>
                  <td><span class="status-tag status-critical">CHANGED</span></td>
                </tr>
                <tr>
                  <td>Queue Type</td>
                  <td>Priority</td>
                  <td>Priority</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>ROOT CAUSE IDENTIFIED:</strong></p>
          <div class="rca-box">
            <p><strong>QoS bandwidth allocation for CRM traffic was reduced from 35% to 25% during last night's maintenance window.</strong></p>
            <p>This 10 percentage point reduction (28.6% decrease) directly correlates with the 33% throughput reduction and 484% response time increase observed this morning.</p>
          </div>
          <p><strong>Current QoS Policy Output (from MCP CLI):</strong></p>
          <pre class="code-block">WAN-RTR-CORE-01# show policy-map interface GigE 0/0/1

GigabitEthernet0/0/1
  Service-policy output: BUSINESS-APPS
    Class-map: CRM-TRAFFIC (match-any)
      Match: ip dscp af31 (26)
      Bandwidth: 25% (175 Mbps of 700 Mbps total)
      Queue depth: 142/256 packets
      Dropped packets: 1,847 (congestion)

    Class-map: VOICE-TRAFFIC (match-any)
      Match: ip dscp ef (46)
      Bandwidth: 30% (210 Mbps)

    Class-map: DEFAULT-TRAFFIC (match-any)
      Bandwidth: 45% (315 Mbps)</pre>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ QoS policy correctly applied to interface GigE 0/0/1</li>
          <li>✅ DSCP marking correct (AF31 for CRM traffic)</li>
          <li>✅ Class-map matching criteria unchanged</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Bandwidth allocation: 25% (should be 35%)</li>
          <li>❌ Dropped packets: 1,847 due to queue congestion</li>
          <li>❌ Queue depth high: 142/256 packets (55% utilization)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">QoS Bandwidth Reduced: 35% → 25%</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: NETWORK_PATH_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔌</span>
        <span class="agent-name">NETWORK_PATH_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Network Path Verification via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP NETCONF:</strong> Routing table from WAN-RTR-CORE-01</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> traceroute to 10.50.100.10 (APP-LOAD-BALANCER-01)</li>
            <li>🔌 <strong>MCP SNMP:</strong> Interface statistics and link utilization</li>
          </ul>
          <p><strong>Path Verification Results:</strong></p>
          <ul class="compact-list">
            <li>✓ Route to CRM servers: 10.50.100.0/24 via GigE 0/0/1 (next-hop: 10.50.1.1)</li>
            <li>✓ All intermediate hops responding (no routing loops)</li>
            <li>✓ End-to-end connectivity confirmed</li>
            <li>✓ No packet loss on network path (0% loss)</li>
            <li>✓ Network latency normal: 8ms HQ to CRM servers (baseline: 6-10ms)</li>
          </ul>
          <p><strong>Interface Statistics (GigE 0/0/1 - Critical Path):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Current Value</th>
                  <th>Threshold</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Input Errors</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Output Errors</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>CRC Errors</td>
                  <td>0</td>
                  <td>< 5</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Link Utilization</td>
                  <td>42%</td>
                  <td>< 80%</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>QoS Queue Drops</td>
                  <td>1,847</td>
                  <td>< 100</td>
                  <td><span class="status-tag status-critical">CRITICAL</span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Network path operational and stable</li>
          <li>✅ No routing issues or loops</li>
          <li>✅ Physical layer healthy (0 errors)</li>
          <li>✅ Link utilization acceptable (42%)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ QoS queue drops: 1,847 packets (exceeds threshold by 18x)</li>
          <li>❌ Drops correlate with reduced bandwidth allocation (25% vs 35%)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-warning">Network Path OK, QoS Drops Elevated</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: HISTORICAL_PERF_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📈</span>
        <span class="agent-name">HISTORICAL_PERF_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Historical Performance & LCM Change Record Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved 30-day application performance metrics</li>
            <li>🔌 <strong>LCM System:</strong> Retrieved change records from last night's maintenance</li>
            <li>🔌 <strong>RAG Query:</strong> Historical baseline for CRM application</li>
          </ul>
          <p><strong>30-Day Performance Baseline:</strong></p>
          <ul class="metric-list">
            <li>Oct 1-18 Average Response Time: <span class="success">620-680ms</span></li>
            <li>Oct 1-18 Error Rate: <span class="success">0.01-0.02%</span></li>
            <li>Oct 1-18 Throughput: <span class="success">22-25 Mbps</span></li>
            <li>Oct 19 (Today) Response Time: <span class="problem-value">3.8 seconds</span></li>
            <li>Oct 19 (Today) Error Rate: <span class="problem-value">2.3%</span></li>
            <li>Oct 19 (Today) Throughput: <span class="problem-value">15.2 Mbps</span></li>
          </ul>
          <p><strong>LCM Change Records (Last Night's Maintenance):</strong></p>
          <div class="change-details">
            <p><strong>Change Ticket: CHG-2025-1018-003</strong></p>
            <ul class="compact-list">
              <li>Change Type: QoS Policy Update</li>
              <li>Device: WAN-RTR-CORE-01</li>
              <li>Executed By: Network Engineering Team</li>
              <li>Time Window: 2025-10-18 10:00 PM - 2:00 AM</li>
              <li>Change Description: "Adjust QoS bandwidth allocation to accommodate new VOICE-TRAFFIC class"</li>
            </ul>
            <p><strong>Change Details (from LCM audit log):</strong></p>
            <pre class="code-block">Change Record: CHG-2025-1018-003
Date/Time: 2025-10-18 23:45:12
Device: WAN-RTR-CORE-01 (10.100.1.1)
Configuration Changes:

BEFORE (Policy-map BUSINESS-APPS):
  class CRM-TRAFFIC
    bandwidth percent 35
  class VOICE-TRAFFIC
    bandwidth percent 20
  class DEFAULT-TRAFFIC
    bandwidth percent 45

AFTER (Policy-map BUSINESS-APPS):
  class CRM-TRAFFIC
    bandwidth percent 25    <-- REDUCED BY 10%
  class VOICE-TRAFFIC
    bandwidth percent 30    <-- INCREASED BY 10%
  class DEFAULT-TRAFFIC
    bandwidth percent 45    <-- UNCHANGED

Rationale: Accommodate increased voice traffic demands
Approved By: Network Manager (J. Thompson)
Rollback Plan: Restore to previous bandwidth allocations</pre>
          </div>
          <p><strong>Performance Correlation Analysis:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Time Period</th>
                  <th>QoS Bandwidth</th>
                  <th>Avg Response Time</th>
                  <th>Error Rate</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Oct 1-18 (Pre-Change)</td>
                  <td>35%</td>
                  <td><span class="success">650ms</span></td>
                  <td><span class="success">0.01%</span></td>
                </tr>
                <tr>
                  <td>Oct 19 09:00 AM (Post-Change)</td>
                  <td>25%</td>
                  <td><span class="problem-value">3.8 sec</span></td>
                  <td><span class="problem-value">2.3%</span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Historical baseline established: 650ms, 0.01% error rate</li>
          <li>✅ Change record located: CHG-2025-1018-003</li>
          <li>✅ Rollback plan documented in change record</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ QoS bandwidth reduced from 35% to 25% during maintenance</li>
          <li>❌ Performance degradation started immediately after change (9:00 AM business hours)</li>
          <li>❌ Direct correlation: 28.6% bandwidth reduction = 484% response time increase</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Change Record Confirms: QoS Bandwidth Reduced 35% → 25%</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💬</span>
        <span class="agent-name">AGENT_COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Inter-Agent Communication & Task Delegation:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p><strong>Exchange 1:</strong></p>
            <p class="collab-from">🗺️ APPLICATION_TOPOLOGY_AGENT → 📊 QOS_POLICY_AGENT:</p>
            <p class="collab-message">"I've identified WAN-RTR-CORE-01 GigE 0/0/1 as the critical path for CRM traffic. Can you analyze the QoS policy on this specific interface and compare against baseline?"</p>
            <p class="collab-response">📊 Response: "Confirmed. Focusing on policy-map BUSINESS-APPS on GigE 0/0/1. Will retrieve baseline from KG and compare."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 2:</strong></p>
            <p class="collab-from">📈 HISTORICAL_PERF_AGENT → 📊 QOS_POLICY_AGENT:</p>
            <p class="collab-message">"I've retrieved the baseline QoS configuration from KG: CRM traffic should have 35% bandwidth allocation (DSCP AF31). Can you verify current config matches this baseline?"</p>
            <p class="collab-response">📊 Response: "Checking now via NETCONF and CLI. Will compare current vs baseline allocation."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 3:</strong></p>
            <p class="collab-from">📊 QOS_POLICY_AGENT → 📈 HISTORICAL_PERF_AGENT:</p>
            <p class="collab-message">"CRITICAL FINDING: Current QoS bandwidth is 25%, not 35%. This is a 10 percentage point reduction. Can you check LCM change records from last night to see if this was changed during maintenance?"</p>
            <p class="collab-response">📈 Response: "Searching LCM system now. Will correlate with maintenance window timestamp."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 4:</strong></p>
            <p class="collab-from">📈 HISTORICAL_PERF_AGENT → 📊 QOS_POLICY_AGENT & 🔧 ROOT_CAUSE_AGENT:</p>
            <p class="collab-message">"CONFIRMED: Change record CHG-2025-1018-003 shows QoS bandwidth reduced from 35% to 25% at 11:45 PM last night. Change was to accommodate increased voice traffic (20% → 30%). This directly correlates with performance degradation observed at 9:00 AM this morning."</p>
            <p class="collab-response">📊 Response: "Perfect correlation. My QoS analysis shows 1,847 dropped packets due to queue congestion with 25% allocation."</p>
            <p class="collab-response">🔧 Response: "Excellent collaboration. I have sufficient data for root cause determination. Proceeding with correlation."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 5:</strong></p>
            <p class="collab-from">🔌 NETWORK_PATH_AGENT → 📊 QOS_POLICY_AGENT:</p>
            <p class="collab-message">"I'm seeing 1,847 QoS queue drops on GigE 0/0/1. Can you confirm if this is related to the bandwidth reduction you identified?"</p>
            <p class="collab-response">📊 Response: "Confirmed. Queue drops are a direct symptom of insufficient bandwidth allocation. With only 25% allocation (175 Mbps), queue is hitting capacity during business hours when CRM traffic peaks at 22-25 Mbps."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Dynamic Task Adjustment:</strong></p>
            <ul class="compact-list">
              <li>✓ APPLICATION_TOPOLOGY_AGENT identified critical path (GigE 0/0/1)</li>
              <li>✓ QOS_POLICY_AGENT focused analysis on this specific interface</li>
              <li>✓ HISTORICAL_PERF_AGENT provided baseline and change records</li>
              <li>✓ All agents converged on QoS bandwidth reduction as root cause</li>
              <li>✓ NETWORK_PATH_AGENT confirmed queue drops correlate with reduced allocation</li>
            </ul>
          </div>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Collaborating Effectively</span>
        </div>
      </div>
    </div>

    <!-- STEP 15: ROOT_CAUSE_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">ROOT_CAUSE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Root Cause Analysis - Correlating All Agent Findings:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Compilation:</strong></p>
          <ul class="compact-list">
            <li>✓ APPLICATION_TOPOLOGY_AGENT: CRM traffic flows through WAN-RTR-CORE-01 GigE 0/0/1</li>
            <li>✓ QOS_POLICY_AGENT: QoS bandwidth reduced from 35% to 25%</li>
            <li>✓ NETWORK_PATH_AGENT: 1,847 queue drops due to congestion</li>
            <li>✓ HISTORICAL_PERF_AGENT: Change record confirms 35% → 25% at 11:45 PM last night</li>
            <li>✓ RAG Historical Data: 92% similarity to TKT-38921 (identical QoS + CRM scenario)</li>
          </ul>
          <p><strong>Timeline Correlation:</strong></p>
          <ul class="metric-list">
            <li>Oct 18, 11:45 PM: QoS bandwidth reduced 35% → 25% (CHG-2025-1018-003)</li>
            <li>Oct 19, 09:00 AM: Business hours begin, CRM traffic increases to 22-25 Mbps</li>
            <li>Oct 19, 09:15 AM: Response time spikes to 3-5 seconds (queue congestion)</li>
            <li>Oct 19, 09:15 AM: Users report slowness, ticket #45782 created</li>
          </ul>
          <p><strong>Symptom vs Cause Analysis:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting 3-5 sec response times</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>CRM timeout errors</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Application-level symptom</td>
                </tr>
                <tr>
                  <td>Response time: 3.8 sec (baseline: 650ms)</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Performance metric deviation</td>
                </tr>
                <tr>
                  <td>Error rate: 2.3% (baseline: 0.01%)</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Application error symptom</td>
                </tr>
                <tr>
                  <td>1,847 QoS queue drops</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>Network-level symptom</td>
                </tr>
                <tr>
                  <td>Throughput reduced 33% (22 Mbps → 15 Mbps)</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Traffic constraint symptom</td>
                </tr>
                <tr>
                  <td>Queue congestion during business hours</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Insufficient bandwidth allocation</td>
                </tr>
                <tr>
                  <td>QoS bandwidth: 25% (should be 35%)</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Configuration change during maintenance</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <p><strong>Root Cause Statement:</strong></p>
        <div class="rca-box">
          <p><strong>PRIMARY ROOT CAUSE:</strong></p>
          <p>CRM application response time degradation (650ms → 3.8 seconds) is caused by <strong>QoS policy bandwidth reduction from 35% to 25%</strong> on WAN-RTR-CORE-01 interface GigE 0/0/1, implemented during maintenance window on Oct 18, 2025 at 11:45 PM (Change Record: CHG-2025-1018-003).</p>
          <p>The 10 percentage point reduction (28.6% decrease) in guaranteed bandwidth allocation for CRM traffic (DSCP AF31) results in queue congestion during business hours when CRM traffic volume (22-25 Mbps) approaches the new reduced allocation (175 Mbps available from 700 Mbps link), causing 1,847 packet drops, increased latency, and application timeouts.</p>
          <p><strong>CONTRIBUTING FACTORS:</strong></p>
          <ul class="compact-list">
            <li>1. QoS policy change prioritized voice traffic (20% → 30%) at expense of CRM traffic</li>
            <li>2. Change implemented during off-hours (11:45 PM) - impact not visible until business hours</li>
            <li>3. No pre-change capacity analysis to verify 25% allocation sufficient for CRM traffic peaks</li>
            <li>4. No post-change verification during business hours to validate application performance</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Root Cause Confirmed: QoS Bandwidth 35% → 25%</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CORRELATION ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Correlation Analysis - Validation of Root Cause:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Correlation Matrix:</strong></p>
          <ul class="compact-list">
            <li>✓ Timing: Performance degradation (9:00 AM) occurred exactly when business hours traffic increased after QoS change (11:45 PM previous night)</li>
            <li>✓ Configuration: LCM change record confirms 35% → 25% reduction</li>
            <li>✓ Impact: 28.6% bandwidth reduction correlates with 33% throughput reduction and 484% response time increase</li>
            <li>✓ Symptoms: Queue drops (1,847) align with insufficient bandwidth allocation</li>
            <li>✓ Historical: 92% similarity to TKT-38921 (same root cause, same resolution)</li>
          </ul>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms began at 9:00 AM (business hours start)</li>
            <li>✓ All symptoms correlate with QoS change timestamp (11:45 PM Oct 18)</li>
            <li>✓ All affected applications use same QoS class (DSCP AF31)</li>
            <li>✓ All affected users traverse same network path (WAN-RTR-CORE-01)</li>
            <li>✓ Pattern matches historical incident TKT-38921 with 92% similarity</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause definitively confirmed. High confidence (98%) based on evidence from all 6 specialized agents plus historical RAG data. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Task Assignment (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Task Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Root cause clearly identified: QoS bandwidth reduced from 35% to 25%</p>
          <p>✓ All specialized agents have completed their investigations</p>
          <p>✓ Findings are conclusive with 98% confidence</p>
          <p>✓ Change record located with documented rollback plan</p>
          <p>✓ Historical precedent (TKT-38921) confirms resolution approach</p>
          <p><strong>Decision: No additional investigation tasks required. Proceeding directly to resolution recommendations.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear RCA Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: ROOT CAUSE ANALYSIS - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 ROOT CAUSE ANALYSIS STATEMENT</h3>
          <p><strong>Primary Root Cause:</strong></p>
          <p class="highlight">CRM application performance degradation (response time increased from 650ms to 3.8 seconds) is caused by <strong>QoS policy bandwidth allocation reduction from 35% to 25%</strong> on WAN-RTR-CORE-01 interface GigE 0/0/1, implemented during maintenance window CHG-2025-1018-003 on October 18, 2025 at 11:45 PM.</p>

          <p><strong>Technical Details:</strong></p>
          <ul class="compact-list">
            <li>Device: WAN-RTR-CORE-01 (10.100.1.1)</li>
            <li>Interface: GigabitEthernet 0/0/1</li>
            <li>Policy: BUSINESS-APPS</li>
            <li>Class: CRM-TRAFFIC (DSCP AF31)</li>
            <li>Change: Bandwidth reduced from 35% (245 Mbps) to 25% (175 Mbps) on 700 Mbps link</li>
          </ul>

          <p><strong>Contributing Factors:</strong></p>
          <ul class="compact-list">
            <li>• Voice traffic bandwidth increased from 20% to 30% during same change</li>
            <li>• No capacity analysis performed to verify 25% allocation sufficient for CRM traffic peaks</li>
            <li>• Change implemented during off-hours (11:45 PM) - impact not observable until business hours</li>
            <li>• No post-change validation during peak business hours</li>
          </ul>

          <p><strong>Evidence Supporting RCA:</strong></p>
          <ul class="compact-list">
            <li>✓ LCM Change Record CHG-2025-1018-003 confirms 35% → 25% reduction at 11:45 PM Oct 18</li>
            <li>✓ MCP NETCONF query shows current QoS config: 25% bandwidth for CRM-TRAFFIC class</li>
            <li>✓ MCP CLI output shows 1,847 queue drops on GigE 0/0/1 due to congestion</li>
            <li>✓ AppDynamics metrics show response time degradation starting 9:00 AM Oct 19</li>
            <li>✓ Historical data: 30-day baseline shows 650ms avg, current: 3.8 seconds (484% increase)</li>
            <li>✓ RAG system: 92% similarity to TKT-38921 (same root cause, same resolution)</li>
          </ul>

          <p><strong>Business Impact:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: Sales team productivity severely impacted (200+ users)</li>
            <li>🔴 Critical: CRM response time 484% slower than baseline</li>
            <li>🔴 Critical: 2.3% error rate (230x increase from 0.01% baseline)</li>
            <li>🟡 Medium: Revenue impact - sales reps unable to access customer data efficiently</li>
            <li>⏱️ Duration: 2+ hours (started 9:00 AM, ongoing at 11:15 AM)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: RECOMMENDATIONS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">STEP 19: RECOMMENDATIONS_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved baseline QoS configuration (35% for CRM traffic)</li>
          <li>📚 RAG Query: Retrieved resolution from TKT-38921 (restore bandwidth to 35%)</li>
          <li>📚 LCM Query: Retrieved rollback plan from CHG-2025-1018-003</li>
          <li>🔧 MCP Server: Retrieved current QoS configuration via NETCONF</li>
        </ul>

        <div class="info-box">
          <h3>🎯 THREE-PHASE REMEDIATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 15 minutes)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Restore QoS Bandwidth Allocation to 35%</strong></p>
            <ul class="compact-list">
              <li>✓ Restore CRM-TRAFFIC class bandwidth from 25% to 35%</li>
              <li>✓ Adjust VOICE-TRAFFIC class from 30% to 25% (compromise solution)</li>
              <li>✓ Deploy via NETCONF to WAN-RTR-CORE-01</li>
              <li>⏱️ Deployment time: 2 minutes via NETCONF automation</li>
              <li>📊 Expected impact: Response time reduced from 3.8 sec to <1 second</li>
              <li>🔄 Rollback plan: Revert to current config (stored in backup)</li>
            </ul>

            <p><strong>Configuration Change (NETCONF):</strong></p>
            <pre class="code-block">policy-map BUSINESS-APPS
  class CRM-TRAFFIC
    bandwidth percent 35    (RESTORE from 25%)
  class VOICE-TRAFFIC
    bandwidth percent 25    (REDUCE from 30%)
  class DEFAULT-TRAFFIC
    bandwidth percent 40    (REDUCE from 45%)</pre>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 24 hours)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - Capacity Analysis & Long-Term QoS Optimization</strong></p>
            <ul class="compact-list">
              <li>✓ Analyze 30-day traffic patterns for voice and CRM traffic</li>
              <li>✓ Determine optimal bandwidth allocation balancing voice and CRM needs</li>
              <li>✓ Consider link upgrade if combined requirements exceed 80% capacity</li>
              <li>⏱️ Analysis timeframe: 4-6 hours</li>
              <li>📊 Deliverable: Optimized QoS policy recommendation</li>
            </ul>

            <p><strong>Action 2.2 - Implement Application Performance Monitoring Alerts</strong></p>
            <ul class="compact-list">
              <li>✓ Configure AppDynamics alert: Response time > 1.5 seconds (150% of baseline)</li>
              <li>✓ Configure QoS monitoring: Alert if queue drops > 100 per hour</li>
              <li>✓ Integrate alerts with ticketing system for automatic escalation</li>
              <li>⏱️ Implementation: 2 hours</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Enhanced Change Management Process</strong></p>
            <ul class="compact-list">
              <li>✓ Require capacity analysis before any QoS bandwidth changes</li>
              <li>✓ Implement post-change validation during peak business hours</li>
              <li>✓ Add application team approval for QoS changes affecting business apps</li>
              <li>⏱️ Process update: 2 weeks</li>
            </ul>

            <p><strong>Action 3.2 - WAN Link Capacity Assessment</strong></p>
            <ul class="compact-list">
              <li>✓ Evaluate current 700 Mbps WAN link utilization trends</li>
              <li>✓ Consider upgrade to 1 Gbps if combined voice + CRM + other apps exceed 560 Mbps (80% threshold)</li>
              <li>✓ Cost-benefit analysis: Link upgrade vs. application optimization</li>
              <li>⏱️ Assessment period: 30 days</li>
            </ul>

            <p><strong>Action 3.3 - Automated QoS Policy Validation</strong></p>
            <ul class="compact-list">
              <li>✓ Implement automated pre-change validation script</li>
              <li>✓ Script compares proposed QoS config against baseline requirements</li>
              <li>✓ Alerts if any business-critical application class bandwidth reduced</li>
              <li>⏱️ Development: 1 week, Testing: 1 week</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Restore QoS to 35%</td>
              <td><span class="success">LOW</span></td>
              <td>Restoring to known-good baseline config</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Reduce voice traffic to 25%</td>
              <td><span class="warning">MEDIUM</span></td>
              <td>Monitor voice quality for 1 hour post-change</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Performance monitoring alerts</td>
              <td><span class="success">LOW</span></td>
              <td>Non-impacting, monitoring only</td>
              <td>N/A</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ CRM response time reduced to <1 second (baseline: 650ms)</li>
          <li>✓ Error rate reduced to <0.1% (baseline: 0.01%)</li>
          <li>✓ Zero QoS queue drops on GigE 0/0/1</li>
          <li>✓ No user complaints from sales department</li>
          <li>✓ Voice quality maintained (MOS >4.0) after VOICE-TRAFFIC adjustment</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: RECOMMENDATIONS_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the solution design based on RCA findings, KG baseline configuration, RAG historical resolution (TKT-38921), and LCM change record rollback plan. I recommend proceeding with PHASE 1 immediate action (restore QoS bandwidth to 35%) to provide rapid relief within 15 minutes."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase remediation plan</li>
            <li>📄 NETCONF configuration snippet for QoS restoration</li>
            <li>📄 Risk assessment matrix</li>
            <li>📄 Success criteria and validation tests</li>
            <li>📄 Rollback procedures (2-minute rollback if needed)</li>
            <li>📄 Voice quality monitoring plan (verify no impact to voice traffic)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (Network Operations Manager):</strong></p>
          <p>"Our AI agents have completed the investigation of ticket #45782 (CRM application performance degradation)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: QoS bandwidth reduced from 35% to 25% during last night's maintenance</li>
            <li>📊 Impact: CRM response time increased from 650ms to 3.8 seconds (484% slower)</li>
            <li>👥 Affecting: 200+ sales users across all locations</li>
            <li>📋 Change Record: CHG-2025-1018-003 (Oct 18, 11:45 PM)</li>
          </ul>

          <p><strong>Recommended Immediate Solution (PHASE 1):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Restore CRM-TRAFFIC QoS bandwidth from 25% to 35%</li>
            <li>2️⃣ Adjust VOICE-TRAFFIC from 30% to 25% (compromise to maintain total 100%)</li>
            <li>3️⃣ Monitor voice quality for 1 hour post-change to ensure no impact</li>
            <li>⏱️ Total deployment time: 2 minutes via NETCONF</li>
            <li>📉 Expected result: CRM response time reduced from 3.8 sec to <1 second</li>
            <li>🔄 Rollback time: 2 minutes if any issues occur</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve the deployment of PHASE 1 immediate actions (restore QoS bandwidth to 35%)?</strong></p>
            <p class="answer">✅ A1: Yes, approved. This is critical - sales team is severely impacted. Please proceed immediately.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Are you comfortable with reducing VOICE-TRAFFIC from 30% to 25% as part of this change?</strong></p>
            <p class="answer">✅ A2: Yes, but please monitor voice quality closely for the next hour. If voice quality degrades, we may need to consider a link upgrade.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: What is your preferred maintenance window for deployment?</strong></p>
            <p class="answer">✅ A3: Deploy immediately (11:20 AM) - this is business hours but the impact to sales is too severe to wait. Users are already experiencing issues.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Who should receive the final resolution report and post-change validation results?</strong></p>
            <p class="answer">✅ A4: Send to me (netops-manager@xyzcorp.com) and CC: sales-director@xyzcorp.com, network-ops@xyzcorp.com</p>
          </div>
        </div>
        <p><strong>✅ User Permission Granted: Proceeding to deployment phase</strong></p>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Configuration Deployment</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Initiated - Deployment Plan:</strong></p>
        <ul class="compact-list">
          <li>🎯 Target Device: WAN-RTR-CORE-01 (10.100.1.1)</li>
          <li>🎯 Target Interface: GigabitEthernet 0/0/1</li>
          <li>🔧 Deployment Method: NETCONF over SSH (Port 830)</li>
          <li>⏱️ Start Time: 2025-10-19 11:22:15 AM</li>
          <li>👤 Authorized By: Network Operations Manager (netops-manager@xyzcorp.com)</li>
          <li>🎫 Change Ticket: CHG-2025-1019-001 (Emergency Change)</li>
        </ul>

        <div class="deployment-box">
          <p><strong>📝 ACTION 1: Restore QoS Bandwidth Allocation</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;policy&gt;
      &lt;policy-map&gt;
        &lt;name&gt;BUSINESS-APPS&lt;/name&gt;
        &lt;class&gt;
          &lt;name&gt;CRM-TRAFFIC&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;35&lt;/percent&gt;  &lt;!-- RESTORED from 25% --&gt;
          &lt;/bandwidth&gt;
          &lt;priority&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;VOICE-TRAFFIC&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;25&lt;/percent&gt;  &lt;!-- REDUCED from 30% --&gt;
          &lt;/bandwidth&gt;
          &lt;priority&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;DEFAULT-TRAFFIC&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;40&lt;/percent&gt;  &lt;!-- REDUCED from 45% --&gt;
          &lt;/bandwidth&gt;
        &lt;/class&gt;
      &lt;/policy-map&gt;
    &lt;/policy&gt;
    &lt;interface&gt;
      &lt;GigabitEthernet&gt;
        &lt;name&gt;0/0/1&lt;/name&gt;
        &lt;service-policy&gt;
          &lt;output&gt;BUSINESS-APPS&lt;/output&gt;
        &lt;/service-policy&gt;
      &lt;/GigabitEthernet&gt;
    &lt;/interface&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 11:22:18 - NETCONF session established to WAN-RTR-CORE-01</li>
            <li>⏱️ 11:22:22 - Configuration validated (no syntax errors)</li>
            <li>⏱️ 11:22:25 - Backup of current config saved to repository</li>
            <li>⏱️ 11:22:28 - CRM-TRAFFIC class bandwidth updated: 25% → 35%</li>
            <li>⏱️ 11:22:31 - VOICE-TRAFFIC class bandwidth updated: 30% → 25%</li>
            <li>⏱️ 11:22:34 - DEFAULT-TRAFFIC class bandwidth updated: 45% → 40%</li>
            <li>⏱️ 11:22:37 - Policy-map BUSINESS-APPS updated successfully</li>
            <li>⏱️ 11:22:40 - Configuration committed to running-config</li>
            <li>✅ 11:22:43 - <strong>ACTION 1 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <p><strong>📊 Post-Deployment Immediate Checks:</strong></p>
        <ul class="compact-list">
          <li>✅ Configuration committed to device running-config</li>
          <li>✅ Configuration saved to startup-config (automatic backup)</li>
          <li>✅ NETCONF session closed gracefully</li>
          <li>✅ No interface flaps detected</li>
          <li>✅ Policy-map applied and active on GigE 0/0/1</li>
          <li>⏱️ Total Deployment Time: 28 seconds</li>
          <li>🎉 <strong>PHASE 1 DEPLOYMENT COMPLETE - No errors encountered</strong></li>
        </ul>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Verifying</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Executing Post-Deployment Tests:</strong></p>
        <p>⏱️ Verification Start Time: 2025-10-19 11:23:00 AM (17 seconds after deployment)</p>

        <div class="verification-box">
          <p><strong>TEST 1: Verify QoS Policy Configuration</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">WAN-RTR-CORE-01# show policy-map interface GigE 0/0/1

GigabitEthernet0/0/1
  Service-policy output: BUSINESS-APPS
    Class-map: CRM-TRAFFIC (match-any)
      Match: ip dscp af31 (26)
      Bandwidth: 35% (245 Mbps of 700 Mbps total)  ← RESTORED
      Queue depth: 12/256 packets
      Dropped packets: 0 (past 60 seconds)

    Class-map: VOICE-TRAFFIC (match-any)
      Match: ip dscp ef (46)
      Bandwidth: 25% (175 Mbps)  ← ADJUSTED
      Queue depth: 8/256 packets
      Dropped packets: 0

    Class-map: DEFAULT-TRAFFIC (match-any)
      Bandwidth: 40% (280 Mbps)  ← ADJUSTED
      Queue depth: 15/256 packets
      Dropped packets: 0</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - QoS policy correctly restored to 35% for CRM traffic</p>
          <ul class="compact-list">
            <li>✓ CRM-TRAFFIC bandwidth: 35% (245 Mbps) - matches baseline</li>
            <li>✓ VOICE-TRAFFIC bandwidth: 25% (175 Mbps) - adjusted as planned</li>
            <li>✓ Queue depth reduced: 12/256 (was 142/256 before change)</li>
            <li>✓ Zero dropped packets in past 60 seconds (was 1,847 before)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 2: Verify CRM Application Response Time</strong></p>
          <p><strong>MCP Server Query (AppDynamics RESTCONF API):</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before Change</th>
                <th>After Change (5 min avg)</th>
                <th>Baseline</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Avg Response Time</td>
                <td><span class="error">3.8 seconds</span></td>
                <td><span class="success">720ms</span></td>
                <td>650ms</td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Error Rate</td>
                <td><span class="error">2.3%</span></td>
                <td><span class="success">0.02%</span></td>
                <td>0.01%</td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Throughput</td>
                <td><span class="error">15.2 Mbps</span></td>
                <td><span class="success">23.1 Mbps</span></td>
                <td>22-25 Mbps</td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Active Users</td>
                <td>203</td>
                <td>207</td>
                <td>200-220</td>
                <td>✅ NORMAL</td>
              </tr>
            </tbody>
          </table>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Application performance restored to baseline</p>
          <ul class="compact-list">
            <li>✓ Response time: 3.8 sec → 720ms (81% improvement, within 11% of baseline)</li>
            <li>✓ Error rate: 2.3% → 0.02% (99.1% improvement, near baseline)</li>
            <li>✓ Throughput: 15.2 Mbps → 23.1 Mbps (52% increase, within normal range)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 3: Verify Voice Quality (VOICE-TRAFFIC Class Validation)</strong></p>
          <p><strong>Query: Voice Quality Monitoring System + MCP SNMP</strong></p>
          <ul class="compact-list">
            <li>📞 Active calls monitored: 47 concurrent voice sessions</li>
            <li>📊 Mean Opinion Score (MOS): <strong>4.2</strong> (target: >4.0)</li>
            <li>🎵 Jitter: 6ms (acceptable: <30ms)</li>
            <li>⏱️ Latency: 38ms (acceptable: <150ms)</li>
            <li>📉 Packet loss: 0.01% (acceptable: <1%)</li>
            <li>🔊 No user complaints from voice users</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Voice quality maintained despite bandwidth reduction (30% → 25%)</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 4: User Validation</strong></p>
          <p><strong>Sales Department User Testing (Sample: 5 users):</strong></p>
          <ul class="compact-list">
            <li>✅ User 1 (Chicago): CRM page loads in <1 second - "Back to normal"</li>
            <li>✅ User 2 (Dallas): Customer search instant - "Much better!"</li>
            <li>✅ User 3 (Seattle): Report generation <2 seconds - "Working great"</li>
            <li>✅ User 4 (HQ): No timeout errors - "Fast again"</li>
            <li>✅ User 5 (Boston): Dashboard loads quickly - "Issue resolved"</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Users confirm performance restored</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 5: Verify No Negative Side Effects</strong></p>
          <ul class="compact-list">
            <li>✅ No interface flaps on GigE 0/0/1</li>
            <li>✅ BGP sessions stable (no routing changes)</li>
            <li>✅ CPU utilization normal: 18% (no spike)</li>
            <li>✅ Memory utilization: 52% (no increase)</li>
            <li>✅ All sites reachable via ping</li>
            <li>✅ No new tickets generated (monitoring helpdesk queue)</li>
            <li>✅ Load balancer health checks: All CRM servers passing</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No adverse impacts detected</p>
        </div>

        <p><strong>📊 VERIFICATION SUMMARY:</strong></p>
        <div class="success-box">
          <p><strong>🎉 ALL VERIFICATION TESTS PASSED (5/5)</strong></p>
          <ul class="compact-list">
            <li>✅ QoS bandwidth restored to 35% for CRM traffic</li>
            <li>✅ Application response time improved 81% (3.8 sec → 720ms)</li>
            <li>✅ Error rate reduced 99.1% (2.3% → 0.02%)</li>
            <li>✅ Voice quality maintained (MOS 4.2/5.0) despite bandwidth adjustment</li>
            <li>✅ Users confirm performance restored to normal</li>
            <li>✅ Zero queue drops observed post-change</li>
            <li>✅ Zero negative side effects observed</li>
          </ul>
          <p><strong>⏱️ Time to Resolution: 2 hours 8 minutes from ticket creation to verified fix</strong></p>
          <p><strong>✅ Solution validated and stable. Proceeding to final report generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 24: Final Report -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📄</span>
        <span class="agent-name">STEP 24: MRA - Final Resolution Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <div class="final-report-box">
          <h2>🎯 INCIDENT RESOLUTION REPORT</h2>

          <p><strong>Ticket Information:</strong></p>
          <ul class="compact-list">
            <li>🎫 Ticket ID: #45782</li>
            <li>📋 Title: CRM Application Performance Degradation</li>
            <li>👤 Reported By: XYZ Corp NOC (Automated Alert + User Reports)</li>
            <li>⏱️ Opened: 2025-10-19 09:15:00 AM</li>
            <li>⏱️ Resolved: 2025-10-19 11:23:00 AM</li>
            <li>⌛ Resolution Time: <strong>2 hours 8 minutes</strong></li>
          </ul>

          <hr>

          <p><strong>Problem Summary:</strong></p>
          <p>Multiple users (200+ sales representatives) across all locations reported severe CRM application performance degradation starting at 9:00 AM. Response times increased from normal <1 second to 3-5 seconds. Users experienced slow page loads, delayed search results, and timeout errors when accessing customer records. Application monitoring (AppDynamics) confirmed 3.8 second average response time (baseline: 650ms) and 2.3% error rate (baseline: 0.01%).</p>

          <hr>

          <p><strong>Root Cause Analysis:</strong></p>
          <p><strong>PRIMARY ROOT CAUSE:</strong> QoS policy bandwidth allocation for CRM traffic (DSCP AF31) was reduced from 35% to 25% on WAN-RTR-CORE-01 interface GigE 0/0/1 during maintenance window CHG-2025-1018-003 on October 18, 2025 at 11:45 PM.</p>

          <p><strong>Technical Details:</strong></p>
          <ul class="compact-list">
            <li>Device: WAN-RTR-CORE-01 (10.100.1.1)</li>
            <li>Interface: GigabitEthernet 0/0/1 (700 Mbps WAN link)</li>
            <li>Policy-map: BUSINESS-APPS</li>
            <li>Class-map: CRM-TRAFFIC (DSCP AF31)</li>
            <li>Change: Bandwidth reduced from 35% (245 Mbps) to 25% (175 Mbps)</li>
            <li>Reason: Accommodate voice traffic increase (20% → 30%)</li>
          </ul>

          <p><strong>Contributing Factors:</strong></p>
          <ul class="compact-list">
            <li>1. No pre-change capacity analysis to verify 25% allocation sufficient for peak CRM traffic</li>
            <li>2. Change implemented during off-hours (11:45 PM) - impact not visible until business hours</li>
            <li>3. No post-change validation during peak business hours</li>
            <li>4. Insufficient QoS queue capacity resulted in 1,847 packet drops during business hours</li>
          </ul>

          <p><strong>Evidence:</strong></p>
          <ul class="compact-list">
            <li>✓ LCM Change Record CHG-2025-1018-003: Documented 35% → 25% reduction</li>
            <li>✓ MCP NETCONF/CLI: Confirmed current config showed 25% bandwidth allocation</li>
            <li>✓ MCP CLI: 1,847 queue drops on GigE 0/0/1 due to congestion</li>
            <li>✓ AppDynamics: Response time 3.8 sec (484% increase from baseline)</li>
            <li>✓ Historical baseline (KG): 30-day average 650ms, current 3.8 seconds</li>
            <li>✓ RAG system: 92% similarity to TKT-38921 (identical root cause and resolution)</li>
          </ul>

          <hr>

          <p><strong>Resolution Implemented:</strong></p>
          <p><strong>PHASE 1 - Immediate (Deployed):</strong></p>
          <ul class="compact-list">
            <li>✅ Restored CRM-TRAFFIC class bandwidth from 25% to 35% (245 Mbps)</li>
            <li>✅ Adjusted VOICE-TRAFFIC class from 30% to 25% (175 Mbps)</li>
            <li>✅ Adjusted DEFAULT-TRAFFIC class from 45% to 40% (280 Mbps)</li>
            <li>✅ Deployed via NETCONF automation to WAN-RTR-CORE-01</li>
            <li>✅ Deployment time: 28 seconds</li>
            <li>✅ Change record: CHG-2025-1019-001 (Emergency Change)</li>
          </ul>

          <p><strong>Results Achieved:</strong></p>
          <ul class="compact-list">
            <li>✅ CRM response time: 3.8 sec → 720ms (81% improvement, within 11% of baseline)</li>
            <li>✅ Error rate: 2.3% → 0.02% (99.1% improvement)</li>
            <li>✅ Throughput: 15.2 Mbps → 23.1 Mbps (52% increase)</li>
            <li>✅ QoS queue drops: 1,847 → 0 (eliminated)</li>
            <li>✅ Voice quality maintained: MOS 4.2/5.0 (no impact from 30% → 25% adjustment)</li>
            <li>✅ User validation: 5 sample users confirmed performance restored</li>
          </ul>

          <hr>

          <p><strong>Next Steps (PHASE 2 & 3 - Scheduled):</strong></p>
          <p><strong>Short-Term (24 hours):</strong></p>
          <ul class="compact-list">
            <li>🔲 Conduct 30-day traffic analysis for voice and CRM to determine optimal long-term allocation</li>
            <li>🔲 Implement AppDynamics alert: Response time >1.5 seconds</li>
            <li>🔲 Implement QoS monitoring alert: Queue drops >100/hour</li>
          </ul>

          <p><strong>Long-Term (30 days):</strong></p>
          <ul class="compact-list">
            <li>🔲 Enhance change management: Require capacity analysis before QoS changes</li>
            <li>🔲 Implement post-change validation requirement during peak hours</li>
            <li>🔲 WAN capacity assessment (consider 700 Mbps → 1 Gbps upgrade)</li>
            <li>🔲 Develop automated QoS policy validation script</li>
          </ul>

          <hr>

          <p><strong>Lessons Learned:</strong></p>
          <ul class="compact-list">
            <li>✓ QoS bandwidth changes require pre-change capacity analysis</li>
            <li>✓ Off-hours changes must include business hours validation requirement</li>
            <li>✓ Application performance monitoring alerts critical for rapid detection</li>
            <li>✓ AI agent collaboration reduced RCA time from typical 4-6 hours to 2 hours</li>
            <li>✓ Knowledge Graph + RAG historical data enabled 92% confidence RCA</li>
            <li>✓ MCP server automation enabled 28-second deployment vs typical 30-minute manual change</li>
          </ul>

          <hr>

          <p><strong>Ticket Status:</strong></p>
          <div class="success-box">
            <p><strong>✅ RESOLVED - Verified and Closed</strong></p>
            <p>⏱️ Total Resolution Time: 2 hours 8 minutes</p>
            <p>📊 Success Rate: 100% (All validation tests passed)</p>
            <p>👥 User Satisfaction: Positive (Users confirm performance restored)</p>
            <p>🔄 Rollback Required: No</p>
          </div>

          <p><strong>Report Generated By:</strong> MASTER_REASONING_AGENT</p>
          <p><strong>Report Distribution:</strong></p>
          <ul class="compact-list">
            <li>✉️ netops-manager@xyzcorp.com (Primary)</li>
            <li>✉️ sales-director@xyzcorp.com (CC)</li>
            <li>✉️ network-ops@xyzcorp.com (CC)</li>
          </ul>

          <p><strong>Report Generated:</strong> 2025-10-19 11:23:45 AM</p>
        </div>
      </div>
    </div>

    <!-- STEP 25: Ticket Closure -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 25: IO_AGENT - Ticket Closure</span>
        <span class="status-badge">Closed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎉 TICKET #45782 - CLOSED</h3>
          <p><strong>Closure Summary:</strong></p>
          <ul class="compact-list">
            <li>✅ Root cause identified: QoS bandwidth reduced from 35% to 25%</li>
            <li>✅ Resolution deployed: QoS bandwidth restored to 35%</li>
            <li>✅ Verification completed: All tests passed (5/5)</li>
            <li>✅ User validation: Sales users confirm performance restored</li>
            <li>✅ Final report distributed to stakeholders</li>
          </ul>

          <p><strong>Incident Timeline:</strong></p>
          <ul class="compact-list">
            <li>09:15 AM - Ticket created (automated alert + user reports)</li>
            <li>09:18 AM - IO_AGENT received ticket, asked clarifying questions</li>
            <li>09:25 AM - MRA deployed, began KG and RAG queries</li>
            <li>09:35 AM - 6 specialized agents deployed in parallel</li>
            <li>10:15 AM - Root cause identified (QoS bandwidth 35% → 25%)</li>
            <li>10:45 AM - Remediation plan approved by user</li>
            <li>11:22 AM - QoS configuration restored via NETCONF</li>
            <li>11:23 AM - Verification complete, all tests passed</li>
            <li>11:23 AM - Ticket closed</li>
          </ul>

          <p><strong>AI Agent Efficiency Metrics:</strong></p>
          <ul class="compact-list">
            <li>📊 RCA Time: 56 minutes (typical manual: 4-6 hours)</li>
            <li>📊 Deployment Time: 28 seconds (typical manual: 30 minutes)</li>
            <li>📊 Verification Time: 3 minutes (typical manual: 1 hour)</li>
            <li>📊 Total Resolution: 2 hours 8 minutes (typical manual: 6-8 hours)</li>
            <li>📊 Efficiency Gain: 74% faster than manual process</li>
          </ul>

          <p><strong>Ticket Closed By:</strong> IO_AGENT (automated)</p>
          <p><strong>Closure Time:</strong> 2025-10-19 11:23:45 AM</p>
          <p><strong>Status:</strong> <span class="status-tag status-success">RESOLVED</span></p>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    color: #00ff88;
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #888;
  }

  .collaboration-exchange {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(0, 170, 255, 0.03);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .collab-from {
    font-weight: 600;
    color: #00aaff;
    margin-bottom: 8px;
  }

  .collab-message {
    margin-left: 20px;
    padding: 10px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 5px;
    font-style: italic;
  }

  .collab-response {
    margin-left: 40px;
    margin-top: 8px;
    padding: 10px;
    background: rgba(0, 255, 136, 0.05);
    border-radius: 5px;
    color: #00ff88;
  }

  .rca-box {
    background: rgba(255, 87, 87, 0.1);
    border: 2px solid #ff5757;
    border-radius: 8px;
    padding: 20px;
    margin: 15px 0;
  }

  .symptom-tag {
    background: rgba(255, 170, 0, 0.2);
    color: #ffaa00;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .contributing-tag {
    background: rgba(255, 200, 0, 0.2);
    color: #ffc800;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .root-cause-tag {
    background: rgba(255, 87, 87, 0.2);
    color: #ff5757;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .user-interaction-box {
    background: rgba(0, 170, 255, 0.05);
    border: 2px solid #00aaff;
    border-radius: 8px;
    padding: 20px;
    margin: 15px 0;
  }

  .deployment-box {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 8px;
    padding: 20px;
    margin: 15px 0;
  }

  .verification-box {
    background: rgba(170, 170, 255, 0.05);
    border: 1px solid #aaaaff;
    border-radius: 8px;
    padding: 20px;
    margin: 15px 0;
  }

  .final-report-box {
    background: rgba(0, 255, 136, 0.03);
    border: 2px solid #00ff88;
    border-radius: 8px;
    padding: 25px;
    margin: 20px 0;
  }

  .final-report-box h2 {
    color: #00ff88;
    margin-bottom: 20px;
    text-align: center;
  }

  .final-report-box hr {
    border: none;
    border-top: 1px solid rgba(0, 255, 136, 0.2);
    margin: 20px 0;
  }

  .code-block {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 5px;
    padding: 15px;
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    overflow-x: auto;
    white-space: pre;
  }
</style>`
                ]
            },
            'capacity-planning': {
                title: 'Capacity Planning',
                icon: '📊',
                description: 'Proactive network capacity and growth planning',
                initialQuery: 'Show Proactive Capacity Planning',
                responses: [
                    `<!-- SCENARIO 6: CAPACITY PLANNING & FORECASTING  -->


<div class="root-container">
  <h3>Agentic AI - Capacity Planning & Forecasting v6</h3>
  <p><strong>Complete 25-Step Workflow: Request → Analysis → Planning → Validation</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: CAPACITY PLANNING REQUEST -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">PLANNING_REQUEST → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Capacity Planning Request Submitted:</strong></p>
        <ul class="compact-list">
          <li>⏰ Request Time: 2025-10-17 09:15:23 AM</li>
          <li>🔍 Request Source: Network Planning Portal</li>
          <li>⚠️ Request Type: Annual Capacity Forecast & Planning</li>
          <li>🔴 Priority: HIGH</li>
          <li>📍 Scope: WAN Infrastructure + Data Center Core</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#CAP-8891</span></li>
            <li>Category: Capacity Planning</li>
            <li>Subcategory: Network Infrastructure Forecasting</li>
            <li>Priority: P2 - High</li>
            <li>Auto-assigned to: Network Planning Team</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES REQUEST -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #CAP-8891 Received - Initial Planning Request:</strong></p>
        <div class="change-details">
          <p><strong>Submitted By:</strong> Jennifer Williams, Network Planning Team</p>
          <p><strong>Organization:</strong> XYZ Corporation</p>
          <p><strong>Department:</strong> Network Planning & Architecture</p>
          <p><strong>Business Units Covered:</strong> ~200 users across 5 remote sites + data center</p>
          <p><strong>Initial Request Description:</strong></p>
          <p>"Need comprehensive capacity analysis and 12-month forecast for WAN and data center infrastructure. Planning FY2026 budget and need to identify equipment requiring upgrades. Must account for anticipated 30% growth in cloud migration traffic and new video conferencing deployment."</p>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering planning requirements before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS PLANNING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Gathering Planning Requirements:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which network segments need capacity analysis?</strong></p>
            <p class="answer">A1: All WAN links (5 remote sites: Chicago, Dallas, Seattle, Denver, Boston) + Data Center core routers (DC-RTR-01, DC-RTR-02)</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: What is the forecasting timeframe required?</strong></p>
            <p class="answer">A2: 12-month forecast needed for FY2026 budget planning. Need quarterly checkpoints.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Are there known business drivers affecting capacity needs?</strong></p>
            <p class="answer">A3: Yes - 30% increase in cloud migration traffic expected, new enterprise video conferencing (Teams) rolling out Q2 2026, and potential acquisition adding 50 users in Q3.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: What utilization threshold triggers upgrade recommendations?</strong></p>
            <p class="answer">A4: Company policy: 85% average utilization or 95% peak utilization requires upgrade planning</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: What is the budget approval timeline?</strong></p>
            <p class="answer">A5: Budget submission due November 15, 2025. Need preliminary recommendations by November 1st for stakeholder review.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: REQUEST CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Request Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Request Type</td>
                <td>Infrastructure Capacity Planning</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>Network Capacity Forecasting</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Multi-Site WAN + Data Center</td>
              </tr>
              <tr>
                <td>Timeframe</td>
                <td>12-month forecast (FY2026)</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P2 - High</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Routing to <strong>MASTER_REASONING_AGENT</strong> for capacity analysis orchestration
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Capacity Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Request Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ 12-month forecast requires historical trend analysis (minimum 24 months data)</li>
            <li>✓ Multi-site scope indicates need for individual link analysis plus aggregate views</li>
            <li>✓ Business drivers (cloud migration, video conferencing) require traffic growth modeling</li>
            <li>✓ Budget timeline (Nov 1 deadline) requires systematic analysis with procurement planning</li>
          </ul>
          <p><strong>Analysis Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for current infrastructure inventory and configurations</li>
            <li>2. Search RAG system for capacity planning methodologies and historical growth patterns</li>
            <li>3. Perform three-source analysis (Requirements + KG + RAG)</li>
            <li>4. Deploy specialized agents for utilization analysis and forecasting</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for Infrastructure Inventory:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: Current Infrastructure Topology</strong></p>
          <ul class="compact-list">
            <li>✓ Retrieved: XYZ Corp infrastructure inventory</li>
            <li>✓ 5 Remote sites: CHI-SITE-01, DAL-SITE-01, SEA-SITE-01, DEN-SITE-01, BOS-SITE-01</li>
            <li>✓ MPLS WAN: 3 links (CHI: 100 Mbps, DAL: 100 Mbps, SEA: 50 Mbps)</li>
            <li>✓ DC routers: DC-RTR-01 (10.1.1.1), DC-RTR-02 (10.1.1.2) - Catalyst 8300</li>
            <li>✓ Core switches: CORE-SW-01 (10.1.2.1), CORE-SW-02 (10.1.2.2) - Catalyst 9500</li>
          </ul>
          <p><strong>Query 2: Equipment Age & Lifecycle</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Device</th>
                  <th>Model</th>
                  <th>Install Date</th>
                  <th>Age</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>DC-RTR-01</td>
                  <td>Cisco Catalyst 8300</td>
                  <td>2021-03-15</td>
                  <td>4.5 years</td>
                </tr>
                <tr>
                  <td>DC-RTR-02</td>
                  <td>Cisco Catalyst 8300</td>
                  <td>2021-03-15</td>
                  <td>4.5 years</td>
                </tr>
                <tr>
                  <td>CHI-WAN-01</td>
                  <td>100 Mbps MPLS</td>
                  <td>2019-06-01</td>
                  <td>6.3 years</td>
                </tr>
                <tr>
                  <td>DAL-WAN-01</td>
                  <td>100 Mbps MPLS</td>
                  <td>2019-06-01</td>
                  <td>6.3 years</td>
                </tr>
                <tr>
                  <td>SEA-WAN-01</td>
                  <td>50 Mbps MPLS</td>
                  <td>2020-01-10</td>
                  <td>5.8 years</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: Current Link Capacities</strong></p>
          <ul class="compact-list">
            <li>✓ Chicago WAN: 100 Mbps MPLS</li>
            <li>✓ Dallas WAN: 100 Mbps MPLS</li>
            <li>✓ Seattle WAN: 50 Mbps MPLS</li>
            <li>✓ Denver WAN: 100 Mbps MPLS</li>
            <li>✓ Boston WAN: 100 Mbps MPLS</li>
            <li>✓ DC Routers: 2x 10 Gbps uplinks each</li>
          </ul>
          <p><strong>Query 4: Historical Utilization Trends (Past 24 Months)</strong></p>
          <ul class="metric-list">
            <li>Chicago WAN Avg: <span class="warning">78%</span> (growing 3.2% monthly)</li>
            <li>Dallas WAN Avg: <span class="warning">82%</span> (growing 3.5% monthly)</li>
            <li>Seattle WAN Avg: <span class="problem-value">91%</span> (growing 2.8% monthly)</li>
            <li>DC-RTR-01 Avg: <span class="warning">68%</span> (growing 2.1% monthly)</li>
            <li>DC-RTR-02 Avg: <span class="warning">71%</span> (growing 2.3% monthly)</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-warning">Growth Trend Analysis Required</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Capacity Planning Methodologies and Historical Projects:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "network capacity forecasting + growth modeling + infrastructure planning"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Project ID</th>
                  <th>Similarity</th>
                  <th>Scope</th>
                  <th>Methodology</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>CAP-2024-Q2</td>
                  <td><span class="success">91%</span></td>
                  <td>WAN capacity planning (8 sites)</td>
                  <td>Linear regression + 20% buffer</td>
                </tr>
                <tr>
                  <td>CAP-2023-Q4</td>
                  <td><span class="success">84%</span></td>
                  <td>Data center expansion forecast</td>
                  <td>Trend analysis with seasonal adjustment</td>
                </tr>
                <tr>
                  <td>CAP-2023-Q1</td>
                  <td><span class="warning">72%</span></td>
                  <td>Cloud migration impact analysis</td>
                  <td>Business driver modeling</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Planning Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>Capacity_Planning_Methodology_v3.2.pdf</strong> (Internal Standard)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Use 85% threshold for average, 95% for peak. Forecast = Trend + Business Drivers + 15% safety margin</li>
            <li>📄 <strong>Network_Forecasting_Best_Practices.pdf</strong> (Cisco Press 2024)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Minimum 24 months historical data. Account for seasonality and business initiatives.</li>
            <li>📄 <strong>Equipment_Lifecycle_Management.pdf</strong> (IT Asset Management)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Network equipment: 5-year lifecycle. Plan refreshes 6-9 months in advance.</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 3 similar capacity projects completed successfully using trend + business driver analysis</li>
            <li>✓ Standard methodology: Historical trend (24 mo) + Business growth factors + 15% safety margin</li>
            <li>✓ Recommended approach: Identify devices exceeding 85% within 6 months, plan procurement</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">Planning Methodology Identified</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Planning Requirements:</strong></p>
            <ul class="compact-list">
              <li>12-month capacity forecast for FY2026</li>
              <li>Scope: 5 WAN links + 2 DC routers</li>
              <li>Business drivers: 30% cloud migration growth + new video conferencing</li>
              <li>Threshold: 85% average or 95% peak triggers upgrade</li>
              <li>Deadline: November 1, 2025 for budget submission</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>Current WAN links: 3x 100 Mbps, 1x 50 Mbps, 1x 100 Mbps</li>
              <li>Equipment age: Routers 4.5 years, WAN links 5.8-6.3 years</li>
              <li>24-month trend: 2.1-3.5% monthly growth across all links</li>
              <li>Seattle WAN already at 91% average utilization</li>
              <li>DC routers at 68-71% with 2.1-2.3% monthly growth</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>91% similarity to CAP-2024-Q2 (multi-site WAN planning)</li>
              <li>Standard methodology: Trend + Business Drivers + 15% safety margin</li>
              <li>Best practice: 24 months historical data minimum</li>
              <li>Equipment lifecycle: 5 years, plan refreshes 6-9 months ahead</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Analysis:</strong> Current growth trends (2.1-3.5% monthly) plus business drivers (30% cloud migration) will push 3 WAN links and 2 DC routers beyond 85% utilization threshold within 6 months. Need detailed forecasting and lifecycle analysis from specialized agents.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Capacity Analysis:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">📊</div>
            <div class="deployment-name">UTILIZATION_ANALYSIS_AGENT</div>
            <div class="deployment-task">Analyze current utilization</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📈</div>
            <div class="deployment-name">TREND_FORECASTING_AGENT</div>
            <div class="deployment-task">Generate growth forecasts</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔌</div>
            <div class="deployment-name">INTERFACE_STATS_AGENT</div>
            <div class="deployment-task">Collect interface metrics</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">⏱️</div>
            <div class="deployment-name">DEVICE_LIFECYCLE_AGENT</div>
            <div class="deployment-task">Assess equipment age</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💰</div>
            <div class="deployment-name">COST_OPTIMIZATION_AGENT</div>
            <div class="deployment-task">Calculate upgrade costs</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💡</div>
            <div class="deployment-name">RECOMMENDATIONS_AGENT</div>
            <div class="deployment-task">Generate capacity roadmap</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: UTILIZATION_ANALYSIS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📊</span>
        <span class="agent-name">UTILIZATION_ANALYSIS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Current Utilization Analysis via Knowledge Graph & MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved 24-month historical utilization data</li>
            <li>🔌 <strong>MCP NETCONF:</strong> Real-time interface statistics from all devices</li>
            <li>🔌 <strong>MCP SNMP:</strong> Hourly polling data for peak/average calculations</li>
          </ul>
          <p><strong>WAN Link Utilization (Current Month - October 2025):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Link</th>
                  <th>Capacity</th>
                  <th>Avg Util</th>
                  <th>Peak Util</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>CHI-WAN-01</td>
                  <td>100 Mbps</td>
                  <td><span class="warning">78%</span></td>
                  <td><span class="warning">94%</span></td>
                  <td>⚠️ Approaching threshold</td>
                </tr>
                <tr>
                  <td>DAL-WAN-01</td>
                  <td>100 Mbps</td>
                  <td><span class="warning">82%</span></td>
                  <td><span class="problem-value">97%</span></td>
                  <td>🔴 Exceeds peak threshold</td>
                </tr>
                <tr>
                  <td>SEA-WAN-01</td>
                  <td>50 Mbps</td>
                  <td><span class="problem-value">91%</span></td>
                  <td><span class="problem-value">98%</span></td>
                  <td>🔴 Exceeds both thresholds</td>
                </tr>
                <tr>
                  <td>DEN-WAN-01</td>
                  <td>100 Mbps</td>
                  <td><span class="normal-value">64%</span></td>
                  <td><span class="warning">87%</span></td>
                  <td>✅ Within limits</td>
                </tr>
                <tr>
                  <td>BOS-WAN-01</td>
                  <td>100 Mbps</td>
                  <td><span class="warning">71%</span></td>
                  <td><span class="warning">91%</span></td>
                  <td>✅ Within limits</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Data Center Router Utilization:</strong></p>
          <ul class="compact-list">
            <li>DC-RTR-01 Uplink: Avg <span class="warning">68%</span>, Peak <span class="warning">89%</span></li>
            <li>DC-RTR-02 Uplink: Avg <span class="warning">71%</span>, Peak <span class="warning">92%</span></li>
          </ul>
        </div>
        <p><strong>High Utilization Devices:</strong></p>
        <ul class="compact-list">
          <li>🔴 SEA-WAN-01: 91% avg (exceeds 85% threshold)</li>
          <li>🔴 DAL-WAN-01: 97% peak (exceeds 95% threshold)</li>
          <li>⚠️ CHI-WAN-01: 78% avg (approaching threshold with 3.2% monthly growth)</li>
        </ul>
        <p><strong>Within Normal Range:</strong></p>
        <ul class="compact-list">
          <li>✅ DEN-WAN-01: 64% avg, healthy headroom</li>
          <li>✅ BOS-WAN-01: 71% avg, moderate headroom</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">3 Links Require Immediate Attention</span>
        </div>
      </div>
    </div>

    <!-- Continue with remaining steps in next part due to length... -->
    <!-- This file demonstrates the structure. Full implementation continues similarly -->

  </div>
</div>

<style>
  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    color: #00ff88;
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #888;
  }
</style>

    <!-- STEP 11: TREND_FORECASTING_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📈</span>
        <span class="agent-name">TREND_FORECASTING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Growth Trend Forecasting & Capacity Modeling:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved 24-month utilization history for trend analysis</li>
            <li>🔌 <strong>RAG Query:</strong> Retrieved forecasting methodology and business growth factors</li>
            <li>🔌 <strong>MCP SNMP:</strong> Current month utilization for baseline validation</li>
          </ul>
          <p><strong>12-Month Capacity Forecast (Including Business Drivers):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Link</th>
                  <th>Current (Oct 2025)</th>
                  <th>6-Month Forecast (Apr 2026)</th>
                  <th>12-Month Forecast (Oct 2026)</th>
                  <th>Threshold Breach</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>CHI-WAN-01</td>
                  <td>78% avg</td>
                  <td><span class="warning">92%</span></td>
                  <td><span class="problem-value">107%</span></td>
                  <td>🔴 Month 3 (Jan 2026)</td>
                </tr>
                <tr>
                  <td>DAL-WAN-01</td>
                  <td>82% avg</td>
                  <td><span class="problem-value">97%</span></td>
                  <td><span class="problem-value">113%</span></td>
                  <td>🔴 Month 1 (Nov 2025)</td>
                </tr>
                <tr>
                  <td>SEA-WAN-01</td>
                  <td>91% avg</td>
                  <td><span class="problem-value">103%</span></td>
                  <td><span class="problem-value">118%</span></td>
                  <td>🔴 Already breached</td>
                </tr>
                <tr>
                  <td>DEN-WAN-01</td>
                  <td>64% avg</td>
                  <td><span class="warning">74%</span></td>
                  <td><span class="warning">84%</span></td>
                  <td>✅ Within limits</td>
                </tr>
                <tr>
                  <td>BOS-WAN-01</td>
                  <td>71% avg</td>
                  <td><span class="warning">82%</span></td>
                  <td><span class="warning">93%</span></td>
                  <td>⚠️ Month 11 (Sep 2026)</td>
                </tr>
                <tr>
                  <td>DC-RTR-01</td>
                  <td>68% avg</td>
                  <td><span class="warning">79%</span></td>
                  <td><span class="warning">91%</span></td>
                  <td>⚠️ Month 10 (Aug 2026)</td>
                </tr>
                <tr>
                  <td>DC-RTR-02</td>
                  <td>71% avg</td>
                  <td><span class="warning">83%</span></td>
                  <td><span class="problem-value">96%</span></td>
                  <td>🔴 Month 7 (May 2026)</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Forecasting Methodology Applied:</strong></p>
          <ul class="compact-list">
            <li>✓ Historical trend: Linear regression on 24 months data</li>
            <li>✓ Business driver: +30% cloud migration traffic (Q2-Q4 2026)</li>
            <li>✓ Business driver: +15% video conferencing traffic (Q2 2026 rollout)</li>
            <li>✓ Safety margin: +15% capacity buffer per company policy</li>
          </ul>
        </div>
        <p><strong>Critical Findings:</strong></p>
        <ul class="compact-list">
          <li>🔴 3 WAN links will breach 85% threshold within 6 months</li>
          <li>🔴 2 DC routers will breach thresholds within 12 months</li>
          <li>🔴 SEA-WAN-01 requires immediate upgrade (already at 91%)</li>
        </ul>
        <p><strong>On Track for Normal Growth:</strong></p>
        <ul class="compact-list">
          <li>✅ DEN-WAN-01: Healthy headroom through FY2026</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">5 Devices Require Upgrades Within 12 Months</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: INTERFACE_STATS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔌</span>
        <span class="agent-name">INTERFACE_STATS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Interface Health Check via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP NETCONF:</strong> ietf-interfaces module from CORE-SW-01</li>
            <li>🔌 <strong>MCP SNMP:</strong> IF-MIB interface statistics</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show interface GigabitEthernet 0/1/0</li>
          </ul>
          <p><strong>Interface GigE 0/1/0 Statistics:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Current Value</th>
                  <th>Threshold</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Input Errors</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>CRC Errors</td>
                  <td>0</td>
                  <td>< 5</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Output Drops</td>
                  <td>1,247 (past hour)</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-critical">CRITICAL</span></td>
                </tr>
                <tr>
                  <td>Buffer Overruns</td>
                  <td>1,247</td>
                  <td>< 5</td>
                  <td><span class="status-tag status-critical">CRITICAL</span></td>
                </tr>
                <tr>
                  <td>Collisions</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Physical Layer:</strong> Link up, Full-duplex, 1000 Mbps, Copper</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ GigE 0/1/1: Clean (0 errors, 0 drops)</li>
          <li>✅ GigE 0/1/2: Clean (0 errors, 0 drops)</li>
          <li>✅ Physical layer healthy on GigE 0/1/0</li>
          <li>✅ No input errors (excludes upstream issues)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ GigE 0/1/0: Output drops = 1,247 (past hour)</li>
          <li>❌ Buffer overruns = 1,247 (exactly matching drops)</li>
          <li>❌ Drop rate: 8.2% during peak periods</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Buffer Overruns Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: DEVICE_LIFECYCLE_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⏱️</span>
        <span class="agent-name">DEVICE_LIFECYCLE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Equipment Lifecycle & End-of-Support Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved device installation dates and models from CMDB</li>
            <li>🔌 <strong>RAG Query:</strong> "Cisco equipment lifecycle + end-of-sale + end-of-support dates"</li>
            <li>🔌 <strong>WebAPI:</strong> Cisco End-of-Life database for current support status</li>
          </ul>
          <p><strong>Equipment Age Analysis:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Device</th>
                  <th>Age (Years)</th>
                  <th>Company Lifecycle</th>
                  <th>Vendor Support Status</th>
                  <th>Recommendation</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>DC-RTR-01</td>
                  <td>4.5</td>
                  <td><span class="warning">Approaching 5-yr limit</span></td>
                  <td><span class="success">Supported until 2027</span></td>
                  <td>⚠️ Plan refresh within 6 months</td>
                </tr>
                <tr>
                  <td>DC-RTR-02</td>
                  <td>4.5</td>
                  <td><span class="warning">Approaching 5-yr limit</span></td>
                  <td><span class="success">Supported until 2027</span></td>
                  <td>⚠️ Plan refresh within 6 months</td>
                </tr>
                <tr>
                  <td>CHI-WAN-01</td>
                  <td>6.3</td>
                  <td><span class="problem-value">Exceeds 5-yr limit</span></td>
                  <td><span class="success">Active contract</span></td>
                  <td>🔴 Immediate upgrade required</td>
                </tr>
                <tr>
                  <td>DAL-WAN-01</td>
                  <td>6.3</td>
                  <td><span class="problem-value">Exceeds 5-yr limit</span></td>
                  <td><span class="success">Active contract</span></td>
                  <td>🔴 Immediate upgrade required</td>
                </tr>
                <tr>
                  <td>SEA-WAN-01</td>
                  <td>5.8</td>
                  <td><span class="problem-value">Exceeds 5-yr limit</span></td>
                  <td><span class="success">Active contract</span></td>
                  <td>🔴 Immediate upgrade required</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Lifecycle Policy Compliance:</strong></p>
          <ul class="compact-list">
            <li>Company Policy: Network equipment must be refreshed within 5 years</li>
            <li>Vendor Support: All devices have active support contracts through 2026-2027</li>
            <li>Risk Assessment: Aging equipment has higher failure rates and reduced performance</li>
          </ul>
        </div>
        <p><strong>Within Lifecycle Limits:</strong></p>
        <ul class="compact-list">
          <li>✅ None - All critical devices approaching or exceeding 5-year limit</li>
        </ul>
        <p><strong>Lifecycle Issues Identified:</strong></p>
        <ul class="compact-list">
          <li>❌ 3 WAN links exceed 5-year lifecycle policy</li>
          <li>❌ 2 DC routers approaching 5-year limit (due for refresh Q2 2026)</li>
          <li>❌ Coincides with capacity constraints - combined upgrade opportunity</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">5 Devices Require Lifecycle Refresh</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💬</span>
        <span class="agent-name">AGENT_COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Inter-Agent Communication & Task Delegation:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p><strong>Exchange 1:</strong></p>
            <p class="collab-from">📊 UTILIZATION_ANALYSIS_AGENT → 📈 TREND_FORECASTING_AGENT:</p>
            <p class="collab-message">"Current analysis shows 3 WAN links at 78-91% utilization with 2.8-3.5% monthly growth. Can you project when each will breach 85% threshold?"</p>
            <p class="collab-response">📈 Response: "Running forecast models now. Will incorporate business drivers (cloud migration + video conferencing) into projections."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 2:</strong></p>
            <p class="collab-from">📈 TREND_FORECASTING_AGENT → ⏱️ DEVICE_LIFECYCLE_AGENT:</p>
            <p class="collab-message">"Forecast shows CHI, DAL, and SEA WAN links will breach thresholds within 1-3 months. Need lifecycle status - are these devices due for refresh anyway?"</p>
            <p class="collab-response">⏱️ Response: "Checking CMDB and vendor EoL database. Will identify overlap opportunities."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 3:</strong></p>
            <p class="collab-from">⏱️ DEVICE_LIFECYCLE_AGENT → 📈 TREND_FORECASTING_AGENT:</p>
            <p class="collab-message">"All 3 WAN links exceed 5-year lifecycle policy. DC routers at 4.5 years approaching limit. This aligns perfectly with your capacity forecast - combined upgrade opportunity."</p>
            <p class="collab-response">📈 Response: "Excellent - we can size new equipment for 2-3 year growth instead of just current needs. Will adjust recommendations."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 4:</strong></p>
            <p class="collab-from">📈 TREND_FORECASTING_AGENT → 💰 COST_OPTIMIZATION_AGENT:</p>
            <p class="collab-message">"Identified 5 devices needing upgrades within 12 months. Can you calculate costs and evaluate whether we should accelerate DC router refresh to consolidate projects?"</p>
            <p class="collab-response">💰 Response: "Analyzing pricing and procurement timelines. Will model phased vs. consolidated approach."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 5:</strong></p>
            <p class="collab-from">💰 COST_OPTIMIZATION_AGENT → 💡 RECOMMENDATIONS_AGENT:</p>
            <p class="collab-message">"Cost analysis complete. Consolidated procurement saves 12% due to volume discounts. Ready for roadmap generation."</p>
            <p class="collab-response">💡 Response: "Acknowledged. Compiling 12-month capacity roadmap with procurement milestones and budget requirements."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Dynamic Task Adjustment:</strong></p>
            <ul class="compact-list">
              <li>✓ UTILIZATION_ANALYSIS identified high-risk devices for focused forecasting</li>
              <li>✓ TREND_FORECASTING requested lifecycle data to inform upgrade sizing</li>
              <li>✓ DEVICE_LIFECYCLE discovered alignment opportunity for combined refresh</li>
              <li>✓ COST_OPTIMIZATION evaluated consolidated vs. phased procurement</li>
              <li>✓ All agents converged on integrated capacity + lifecycle roadmap</li>
            </ul>
          </div>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Collaborating Effectively</span>
        </div>
      </div>
    </div>

    <!-- STEP 15: COST_OPTIMIZATION_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">💰</span>
        <span class="agent-name">COST_OPTIMIZATION_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Cost Analysis & Procurement Strategy:</strong></p>
        <div class="change-details">
          <p><strong>Equipment Pricing Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ WAN Link Upgrades: Queried vendor pricing for 200 Mbps MPLS circuits</li>
            <li>✓ DC Router Refresh: Retrieved Catalyst 8500 series pricing from Cisco</li>
            <li>✓ Volume Discounts: Evaluated consolidated vs. phased procurement</li>
            <li>✓ Maintenance Contracts: Calculated 3-year SmartNet costs</li>
          </ul>
          <p><strong>12-Month Cost Projection:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Upgrade Item</th>
                  <th>Timing</th>
                  <th>Equipment Cost</th>
                  <th>Recurring (Annual)</th>
                  <th>Total (Year 1)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>SEA-WAN-01: 50→200 Mbps</td>
                  <td>Q1 2026 (Immediate)</td>
                  <td>$12,000</td>
                  <td>$18,000</td>
                  <td>$30,000</td>
                </tr>
                <tr>
                  <td>DAL-WAN-01: 100→200 Mbps</td>
                  <td>Q1 2026</td>
                  <td>$8,000</td>
                  <td>$12,000</td>
                  <td>$20,000</td>
                </tr>
                <tr>
                  <td>CHI-WAN-01: 100→200 Mbps</td>
                  <td>Q2 2026</td>
                  <td>$8,000</td>
                  <td>$12,000</td>
                  <td>$20,000</td>
                </tr>
                <tr>
                  <td>DC-RTR-01: Catalyst 8500</td>
                  <td>Q2 2026</td>
                  <td>$45,000</td>
                  <td>$6,750</td>
                  <td>$51,750</td>
                </tr>
                <tr>
                  <td>DC-RTR-02: Catalyst 8500</td>
                  <td>Q2 2026</td>
                  <td>$45,000</td>
                  <td>$6,750</td>
                  <td>$51,750</td>
                </tr>
                <tr>
                  <td><strong>Volume Discount (12%)</strong></td>
                  <td>-</td>
                  <td><span class="success">-$14,160</span></td>
                  <td>-</td>
                  <td><span class="success">-$14,160</span></td>
                </tr>
                <tr>
                  <td><strong>TOTAL</strong></td>
                  <td>-</td>
                  <td><strong>$103,840</strong></td>
                  <td><strong>$55,500</strong></td>
                  <td><strong>$159,340</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Procurement Strategy Recommendations:</strong></p>
          <ul class="compact-list">
            <li>✓ Consolidated purchase of all equipment in Q1 2026 saves $14,160 (12% volume discount)</li>
            <li>✓ Phased deployment: WAN links Q1, DC routers Q2 reduces deployment risk</li>
            <li>✓ Early procurement locks in current pricing (equipment costs rising 8% annually)</li>
          </ul>
        </div>
        <p><strong>Budget Breakdown:</strong></p>
        <div class="rca-box">
          <p><strong>FY2026 CAPITAL BUDGET REQUEST:</strong></p>
          <p>Total one-time capital: <strong>$103,840</strong> (equipment + installation)</p>
          <p>Annual recurring costs: <strong>$55,500</strong> (MPLS circuits + SmartNet)</p>
          <p><strong>COST AVOIDANCE:</strong></p>
          <ul class="compact-list">
            <li>1. Volume discount on consolidated purchase: $14,160 savings</li>
            <li>2. Avoiding emergency procurement premiums: ~$25,000 savings</li>
            <li>3. Combined lifecycle refresh reduces project management overhead: ~$15,000 savings</li>
            <li>4. <strong>Total Cost Avoidance: $54,160</strong></li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Cost Optimization Complete</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CAPACITY ASSESSMENT SYNTHESIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Capacity Assessment Synthesis - Consolidating All Findings:</strong></p>
        <div class="change-details">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Severity</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting slow applications</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>business-critical applications calls dropping</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Time-sensitive traffic affected</td>
                </tr>
                <tr>
                  <td>5-8% capacity planning and forecasting</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Network-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 buffer overruns</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Device-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 output drops</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Direct result of buffer exhaustion</td>
                </tr>
                <tr>
                  <td>95% interface utilization</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Causes buffer pressure</td>
                </tr>
                <tr>
                  <td>620 Mbps capacity growth and forecasting</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>High</td>
                  <td>Major bandwidth consumer</td>
                </tr>
                <tr>
                  <td>64 KB buffer (insufficient)</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Cannot absorb bursts</td>
                </tr>
                <tr>
                  <td>Backup during business hours</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Triggers the issue</td>
                </tr>
                <tr>
                  <td>No traffic shaping policy</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Allows uncontrolled traffic</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with capacity growth and forecasting schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with capacity growth and forecasting schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Analysis (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Analysis Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Capacity constraints clearly identified: 3 WAN links + 2 DC routers exceed thresholds within 12 months</p>
          <p>✓ All specialized agents have completed their analysis</p>
          <p>✓ Forecasts validated with 91% similarity to historical projects</p>
          <p>✓ Comprehensive data collected from KG (utilization), RAG (methodology), and MCP (real-time metrics)</p>
          <p><strong>Decision: No additional analysis tasks required. Proceeding directly to capacity roadmap generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear Capacity Assessment Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: CAPACITY ASSESSMENT - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 CAPACITY ASSESSMENT STATEMENT</h3>
          <p><strong>Primary Finding:</strong></p>
          <p class="highlight">Based on 24-month trend analysis and business growth drivers (30% cloud migration + 15% video conferencing), <strong>3 WAN links (CHI, DAL, SEA) and 2 DC routers will exceed 85% utilization threshold within 6 months</strong>, requiring immediate capacity planning action to avoid performance degradation.</p>

          <p><strong>Critical Capacity Constraints Identified:</strong></p>
          <ul class="compact-list">
            <li>• SEA-WAN-01: Already at 91% avg utilization - immediate upgrade required</li>
            <li>• DAL-WAN-01: At 97% peak utilization - breaches threshold in Month 1 (Nov 2025)</li>
            <li>• CHI-WAN-01: Will breach 85% threshold in Month 3 (Jan 2026)</li>
            <li>• DC-RTR-02: Will breach threshold in Month 7 (May 2026) due to aggregate traffic growth</li>
            <li>• DC-RTR-01: Will breach threshold in Month 10 (Aug 2026)</li>
          </ul>

          <p><strong>Evidence Supporting Assessment:</strong></p>
          <ul class="compact-list">
            <li>✓ Historical trend: Consistent 2.8-3.5% monthly utilization growth over 24 months</li>
            <li>✓ Business drivers: Cloud migration (+30%) and video conferencing (+15%) validated by IT leadership</li>
            <li>✓ Lifecycle analysis: 3 WAN links exceed 5-year refresh policy, align with capacity needs</li>
            <li>✓ RAG validation: 91% similarity to CAP-2024-Q2 project (methodology validated)</li>
            <li>✓ Forecast model: ±3% accuracy when back-tested against 12-month historical data</li>
          </ul>

          <p><strong>Business Impact of Inaction:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: Network congestion leading to application performance degradation (Q1-Q2 2026)</li>
            <li>🔴 High: Emergency procurement at 20-30% premium pricing if reactive</li>
            <li>🟡 Medium: Inability to support cloud migration initiative on schedule</li>
            <li>⏱️ Opportunity Cost: $54,160 savings lost if not consolidating procurement</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: RECOMMENDATIONS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">STEP 19: RECOMMENDATIONS_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved best practice procurement planning templates for Cisco routers</li>
          <li>📚 RAG Query: Retrieved 3 successful resolution playbooks from similar tickets</li>
          <li>🔧 MCP Server: Retrieved current procurement planning configuration (none configured)</li>
        </ul>

        <div class="info-box">
          <h3>🎯 THREE-PHASE REMEDIATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 30 minutes)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Implement Traffic Shaping Policy on GigE 0/1/0</strong></p>
            <ul class="compact-list">
              <li>✓ Limit capacity growth and forecasting to 40% of link capacity (260 Mbps)</li>
              <li>✓ Reserve 50% for business-critical traffic (325 Mbps)</li>
              <li>✓ Reserve 10% for network management (65 Mbps)</li>
              <li>⏱️ Deployment time: 5 minutes via NETCONF</li>
              <li>📊 Expected impact: Reduce capacity planning and forecasting from 8% to <0.5%</li>
            </ul>

            <p><strong>Action 1.2 - Increase Interface Buffer Size</strong></p>
            <ul class="compact-list">
              <li>✓ Increase GigE 0/1/0 buffer from 64 KB to 256 KB</li>
              <li>✓ Enable weighted fair queueing (WFQ)</li>
              <li>⏱️ Deployment time: 3 minutes via NETCONF</li>
              <li>📊 Expected impact: Eliminate buffer overruns</li>
            </ul>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 24 hours)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - Reschedule Backup Window</strong></p>
            <ul class="compact-list">
              <li>✓ Move backup from 09:00-11:00 AM to 01:00-03:00 AM (off-peak)</li>
              <li>✓ Coordinate with backup team and change management</li>
              <li>⏱️ Implementation: Tonight 8:00 PM</li>
              <li>📊 Expected impact: Eliminate daytime congestion entirely</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Comprehensive procurement planning Implementation</strong></p>
            <ul class="compact-list">
              <li>✓ Deploy class-based procurement planning across all WAN interfaces</li>
              <li>✓ Implement priority queuing for business-critical applications (guaranteed bandwidth)</li>
              <li>✓ Implement DSCP marking for application prioritization</li>
              <li>⏱️ Rollout: Phased deployment over 2 weeks</li>
            </ul>

            <p><strong>Action 3.2 - WAN Link Capacity Upgrade</strong></p>
            <ul class="compact-list">
              <li>✓ Evaluate upgrade from 650 Mbps to 1 Gbps MPLS link</li>
              <li>✓ Cost-benefit analysis vs. SD-WAN implementation</li>
              <li>⏱️ Timeline: 30-day evaluation period</li>
            </ul>

            <p><strong>Action 3.3 - Enhanced Monitoring</strong></p>
            <ul class="compact-list">
              <li>✓ Implement real-time bandwidth utilization alerts (>80% threshold)</li>
              <li>✓ Enable NetFlow collection on all WAN interfaces</li>
              <li>✓ Create dashboard for procurement planning queue statistics</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>12-month capacity roadmap with procurement plan policy</td>
              <td><span class="success">LOW</span></td>
              <td>Non-disruptive, can adjust limits</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Buffer size increase</td>
              <td><span class="success">LOW</span></td>
              <td>No downtime required</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Backup rescheduling</td>
              <td><span class="warning">MEDIUM</span></td>
              <td>Test backup completion before production</td>
              <td>N/A (schedule change)</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ Forecast model validated against historical data to <0.1% on all remote site links</li>
          <li>✓ Zero buffer overruns on GigE 0/1/0</li>
          <li>✓ business-critical applications call quality score >4.0 (MOS)</li>
          <li>✓ Business-critical traffic receives guaranteed bandwidth</li>
          <li>✓ No user complaints during backup window</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: RECOMMENDATIONS_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the solution design based on RCA findings, KG best practices, and RAG historical resolutions. I recommend proceeding with PHASE 1 immediate actions (traffic shaping + buffer increase) to provide rapid relief within 30 minutes."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase remediation plan</li>
            <li>📄 NETCONF configuration snippets for deployment</li>
            <li>📄 Risk assessment matrix</li>
            <li>📄 Success criteria and verification tests</li>
            <li>📄 Rollback procedures</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (John Smith):</strong></p>
          <p>"John, our AI agents have completed the investigation of ticket #CAP-8891 (capacity planning and forecasting issue)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: Backup traffic consuming 95% of WAN link without traffic control</li>
            <li>📊 Impact: 5-8% capacity planning and forecasting during 09:00-11:00 AM daily</li>
            <li>⏱️ Affecting: All 5 remote sites (Chicago, Dallas, Seattle, Denver, Boston)</li>
          </ul>

          <p><strong>Recommended Immediate Solution (PHASE 1):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Deploy traffic shaping policy to limit capacity growth and forecasting to 260 Mbps (40%)</li>
            <li>2️⃣ Increase buffer size from 64 KB to 256 KB on interface GigE 0/1/0</li>
            <li>⏱️ Total deployment time: ~8 minutes</li>
            <li>📉 Expected result: Forecast model validated against historical data from 8% to <0.5%</li>
            <li>🔄 Rollback time: 2 minutes if any issues occur</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve the deployment of PHASE 1 immediate actions?</strong></p>
            <p class="answer">✅ A1: Yes, approved. Please proceed immediately.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: What is your preferred maintenance window for deployment?</strong></p>
            <p class="answer">✅ A2: Deploy now (10:45 AM) - users are already experiencing issues, so minimal additional risk.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Should we proceed with PHASE 2 (backup rescheduling) tonight at 8:00 PM?</strong></p>
            <p class="answer">✅ A3: Yes, coordinate with backup team. I'll approve the change request.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Who should receive the final resolution report?</strong></p>
            <p class="answer">✅ A4: Send to me (john.smith@xyzcorp.com) and CC network-ops@xyzcorp.com</p>
          </div>
        </div>
        <p><strong>✅ User Permission Granted: Proceeding to deployment phase</strong></p>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Configuration Deployment</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Initiated - Deployment Plan:</strong></p>
        <ul class="compact-list">
          <li>🎯 Target Device: RTR-CORE-01 (Interface GigE 0/1/0)</li>
          <li>🔧 Deployment Method: NETCONF over SSH (Port 830)</li>
          <li>⏱️ Start Time: 2025-10-17 10:47:15 AM</li>
          <li>👤 Authorized By: John Smith (john.smith@xyzcorp.com)</li>
          <li>🎫 Change Ticket: CHG-2025-1017-001</li>
        </ul>

        <div class="deployment-box">
          <p><strong>📝 ACTION 1: Deploy Traffic Shaping Policy</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;policy&gt;
      &lt;policy-map&gt;
        &lt;name&gt;WAN-TRAFFIC-SHAPING&lt;/name&gt;
        &lt;class&gt;
          &lt;name&gt;BACKUP-TRAFFIC&lt;/name&gt;
          &lt;police&gt;
            &lt;rate&gt;260000000&lt;/rate&gt;  &lt;!-- 260 Mbps --&gt;
            &lt;burst&gt;8000000&lt;/burst&gt;
            &lt;conform-action&gt;transmit&lt;/conform-action&gt;
            &lt;exceed-action&gt;drop&lt;/exceed-action&gt;
          &lt;/police&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;BUSINESS-CRITICAL&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;50&lt;/percent&gt;  &lt;!-- 325 Mbps reserved --&gt;
          &lt;/bandwidth&gt;
          &lt;priority&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;NETWORK-MGMT&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;10&lt;/percent&gt;  &lt;!-- 65 Mbps reserved --&gt;
          &lt;/bandwidth&gt;
        &lt;/class&gt;
      &lt;/policy-map&gt;
    &lt;/policy&gt;
    &lt;interface&gt;
      &lt;GigabitEthernet&gt;
        &lt;name&gt;0/1/0&lt;/name&gt;
        &lt;service-policy&gt;
          &lt;output&gt;WAN-TRAFFIC-SHAPING&lt;/output&gt;
        &lt;/service-policy&gt;
      &lt;/GigabitEthernet&gt;
    &lt;/interface&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:18 - NETCONF session established to RTR-CORE-01</li>
            <li>⏱️ 10:47:22 - Configuration validated (no syntax errors)</li>
            <li>⏱️ 10:47:25 - Policy-map WAN-TRAFFIC-SHAPING created</li>
            <li>⏱️ 10:47:28 - Classes configured: BACKUP-TRAFFIC, BUSINESS-CRITICAL, NETWORK-MGMT</li>
            <li>⏱️ 10:47:31 - Service policy applied to GigE 0/1/0 output</li>
            <li>✅ 10:47:33 - <strong>ACTION 1 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <div class="deployment-box">
          <p><strong>📝 ACTION 2: Increase Interface Buffer Size</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;interface&gt;
      &lt;GigabitEthernet&gt;
        &lt;name&gt;0/1/0&lt;/name&gt;
        &lt;hold-queue&gt;256&lt;/hold-queue&gt;  &lt;!-- 256 KB buffer --&gt;
        &lt;tx-ring-limit&gt;512&lt;/tx-ring-limit&gt;
        &lt;fair-queue&gt;
          &lt;weight&gt;true&lt;/weight&gt;  &lt;!-- Enable WFQ --&gt;
        &lt;/fair-queue&gt;
      &lt;/GigabitEthernet&gt;
    &lt;/interface&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:35 - Applying buffer configuration to GigE 0/1/0</li>
            <li>⏱️ 10:47:38 - Hold-queue increased from 64 to 256 packets</li>
            <li>⏱️ 10:47:41 - TX ring limit set to 512</li>
            <li>⏱️ 10:47:43 - Weighted Fair Queuing (WFQ) enabled</li>
            <li>✅ 10:47:45 - <strong>ACTION 2 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <p><strong>📊 Post-Deployment Verification:</strong></p>
        <ul class="compact-list">
          <li>✅ Configuration committed to device running-config</li>
          <li>✅ Configuration saved to startup-config (automatic backup)</li>
          <li>✅ NETCONF session closed gracefully</li>
          <li>⏱️ Total Deployment Time: 30 seconds</li>
          <li>🎉 <strong>PHASE 1 DEPLOYMENT COMPLETE - No errors encountered</strong></li>
        </ul>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Verifying</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Executing Post-Deployment Tests:</strong></p>
        <p>⏱️ Verification Start Time: 2025-10-17 10:48:00 AM (15 seconds after deployment)</p>

        <div class="verification-box">
          <p><strong>TEST 1: Verify Traffic Shaping Policy Active</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">RTR-CORE-01# show policy-map interface GigE 0/1/0

GigabitEthernet0/1/0
  Service-policy output: WAN-TRAFFIC-SHAPING
    Class-map: BACKUP-TRAFFIC (match-any)
      Police: 260000000 bps, 8000000 byte burst
        Conformed: 245321 packets, 253.4 Mbps
        Exceeded: 8932 packets (dropped)
        Conform rate: 95.2% | Exceed rate: 4.8%

    Class-map: BUSINESS-CRITICAL (match-any)
      Bandwidth: 50% (325 Mbps guaranteed)
        Packets: 182934 packets, 298.7 Mbps
        Priority queue: Active

    Class-map: NETWORK-MGMT (match-any)
      Bandwidth: 10% (65 Mbps guaranteed)
        Packets: 15432 packets, 18.3 Mbps</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - 12-month capacity roadmap with procurement plan policy actively policing traffic</p>
          <ul class="compact-list">
            <li>✓ Backup traffic limited to 253.4 Mbps (target: 260 Mbps)</li>
            <li>✓ Business-critical traffic receiving guaranteed bandwidth</li>
            <li>✓ Policy already dropping excess backup packets (8,932 dropped)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 2: Verify Buffer Configuration</strong></p>
          <p><strong>MCP Server Query (NETCONF):</strong></p>
          <pre class="code-block">RTR-CORE-01# show interfaces GigE 0/1/0 | include queue
  Output queue: 0/256 (size/max)
  TX ring: 512
  Queueing strategy: weighted fair
  Output drops: 0 (in last 60 seconds)</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Buffer configuration applied correctly</p>
          <ul class="compact-list">
            <li>✓ Hold-queue size increased to 256 (previously 64)</li>
            <li>✓ TX ring limit set to 512</li>
            <li>✓ Weighted Fair Queuing active</li>
            <li>✓ Zero output drops in last 60 seconds</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 3: Verify Capacity Planning Reduction</strong></p>
          <p><strong>MCP Server Query (SNMP + NetFlow):</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Site</th>
                <th>Capacity Planning (Before)</th>
                <th>Capacity Planning (After)</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Chicago</td>
                <td><span class="error">8.2%</span></td>
                <td><span class="success">0.08%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Dallas</td>
                <td><span class="error">7.5%</span></td>
                <td><span class="success">0.05%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Seattle</td>
                <td><span class="error">6.8%</span></td>
                <td><span class="success">0.03%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Denver</td>
                <td><span class="error">5.4%</span></td>
                <td><span class="success">0.01%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Boston</td>
                <td><span class="error">5.1%</span></td>
                <td><span class="success">0.02%</span></td>
                <td>✅ FIXED</td>
              </tr>
            </tbody>
          </table>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Forecast model validated against historical data by 99% across all sites</p>
          <ul class="compact-list">
            <li>✓ Average capacity planning and forecasting: 6.6% → 0.04% (164x improvement)</li>
            <li>✓ All sites now below 0.1% threshold (target: <0.5%)</li>
            <li>✓ Exceeds success criteria</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 4: Verify business-critical applications Call Quality</strong></p>
          <p><strong>Query: Voice Quality Monitoring System</strong></p>
          <ul class="compact-list">
            <li>📞 Active calls monitored: 23 concurrent business-critical applications sessions</li>
            <li>📊 Mean Opinion Score (MOS): <strong>4.3</strong> (target: >4.0)</li>
            <li>🎵 Jitter: 8ms (acceptable: <30ms)</li>
            <li>⏱️ Latency: 45ms (acceptable: <150ms)</li>
            <li>📉 Packet loss: 0.02% (acceptable: <1%)</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - business-critical applications quality restored to excellent</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 5: Verify No Negative Side Effects</strong></p>
          <ul class="compact-list">
            <li>✅ No interface flaps detected</li>
            <li>✅ BGP sessions stable (no routing changes)</li>
            <li>✅ CPU utilization normal: 12% (no spike from procurement planning processing)</li>
            <li>✅ Memory utilization: 45% (no increase)</li>
            <li>✅ All remote sites reachable via ping</li>
            <li>✅ No user complaints received (monitoring helpdesk queue)</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No adverse impacts detected</p>
        </div>

        <p><strong>📊 VERIFICATION SUMMARY:</strong></p>
        <div class="success-box">
          <p><strong>🎉 ALL VERIFICATION TESTS PASSED (5/5)</strong></p>
          <ul class="compact-list">
            <li>✅ 12-month capacity roadmap with procurement plan policy operational and effective</li>
            <li>✅ Buffer configuration applied successfully</li>
            <li>✅ Forecast model validated against historical data from 6.6% average to 0.04% (99% improvement)</li>
            <li>✅ business-critical applications call quality excellent (MOS 4.3/5.0)</li>
            <li>✅ Zero negative side effects observed</li>
          </ul>
          <p><strong>⏱️ Time to Resolution: 18 minutes from ticket assignment to verified fix</strong></p>
          <p><strong>✅ Solution validated and stable. Proceeding to final report generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 24: Final Report -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📄</span>
        <span class="agent-name">STEP 24: MRA - Final Resolution Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <div class="final-report-box">
          <h2>🎯 INCIDENT RESOLUTION REPORT</h2>

          <p><strong>Ticket Information:</strong></p>
          <ul class="compact-list">
            <li>🎫 Ticket ID: #CAP-8891</li>
            <li>📋 Title: Capacity Planning Across All Remote Sites</li>
            <li>👤 Reported By: John Smith (john.smith@xyzcorp.com)</li>
            <li>⏱️ Opened: 2025-10-17 09:15:23 AM</li>
            <li>⏱️ Resolved: 2025-10-17 10:48:45 AM</li>
            <li>⌛ Resolution Time: <strong>1 hour 33 minutes</strong></li>
          </ul>

          <hr>

          <p><strong>Problem Summary:</strong></p>
          <p>Users across all 5 remote sites (Chicago, Dallas, Seattle, Denver, Boston) reported degraded network performance during 09:00-11:00 AM daily, including poor business-critical applications quality, video conferencing issues, and slow application response times. Investigation revealed 5-8% capacity planning and forecasting on WAN connections during this time window.</p>

          <hr>

          <p><strong>Root Cause Analysis:</strong></p>
          <p class="highlight">Uncontrolled capacity growth and forecasting consuming 620 Mbps (95% of 650 Mbps WAN link capacity) during business hours without traffic shaping or procurement planning policies. Insufficient buffer size (64 KB) on convergence interface GigE 0/1/0 resulted in 1,247 buffer overruns and packet drops.</p>

          <hr>

          <p><strong>Investigation Timeline:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Agent/System</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>09:15 AM</td>
                <td>MONITORING_SYSTEM</td>
                <td>Alert generated, ticket #CAP-8891 created</td>
              </tr>
              <tr>
                <td>09:16 AM</td>
                <td>IO_AGENT</td>
                <td>Engaged user, asked 5 clarifying questions</td>
              </tr>
              <tr>
                <td>09:22 AM</td>
                <td>MRA</td>
                <td>Deployed 6 specialized agents</td>
              </tr>
              <tr>
                <td>09:23 AM</td>
                <td>TOPOLOGY_AGENT</td>
                <td>Identified GigE 0/1/0 convergence point</td>
              </tr>
              <tr>
                <td>09:25 AM</td>
                <td>TRAFFIC_ANALYSIS_AGENT</td>
                <td>Discovered 620 Mbps capacity growth and forecasting (NetFlow)</td>
              </tr>
              <tr>
                <td>09:27 AM</td>
                <td>INTERFACE_STATS_AGENT</td>
                <td>Found 1,247 buffer overruns</td>
              </tr>
              <tr>
                <td>09:29 AM</td>
                <td>BUFFER_ANALYSIS_AGENT</td>
                <td>Confirmed 64 KB buffer insufficient</td>
              </tr>
              <tr>
                <td>09:35 AM</td>
                <td>ROOT_CAUSE_AGENT</td>
                <td>Correlated findings, confirmed root cause</td>
              </tr>
              <tr>
                <td>09:38 AM</td>
                <td>RECOMMENDATIONS_AGENT</td>
                <td>Created 3-phase remediation plan</td>
              </tr>
              <tr>
                <td>09:42 AM</td>
                <td>IO_AGENT</td>
                <td>Obtained user approval for deployment</td>
              </tr>
              <tr>
                <td>10:47 AM</td>
                <td>DEPLOYMENT_AGENT</td>
                <td>Deployed traffic shaping + buffer config</td>
              </tr>
              <tr>
                <td>10:48 AM</td>
                <td>VERIFICATION_AGENT</td>
                <td>Verified fix, all tests passed</td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Resolution Actions Taken:</strong></p>
          <p><strong>PHASE 1 (Completed - 2025-10-17 10:47 AM):</strong></p>
          <ul class="compact-list">
            <li>✅ Deployed traffic shaping policy limiting capacity growth and forecasting to 260 Mbps (40%)</li>
            <li>✅ Reserved 325 Mbps (50%) for business-critical applications</li>
            <li>✅ Reserved 65 Mbps (10%) for network management</li>
            <li>✅ Increased interface buffer from 64 KB to 256 KB</li>
            <li>✅ Enabled Weighted Fair Queuing (WFQ)</li>
          </ul>

          <p><strong>PHASE 2 (Scheduled - Tonight 8:00 PM):</strong></p>
          <ul class="compact-list">
            <li>⏳ Reschedule backup window from 09:00-11:00 AM to 01:00-03:00 AM</li>
            <li>⏳ Coordinate with backup team (change request CHG-2025-1017-002)</li>
          </ul>

          <p><strong>PHASE 3 (Planned - 30-day roadmap):</strong></p>
          <ul class="compact-list">
            <li>📅 Implement comprehensive class-based procurement planning across all WAN interfaces</li>
            <li>📅 Evaluate WAN capacity upgrade (650 Mbps → 1 Gbps)</li>
            <li>📅 Deploy enhanced monitoring with real-time alerts</li>
          </ul>

          <hr>

          <p><strong>Results and Metrics:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before</th>
                <th>After</th>
                <th>Improvement</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Capacity Planning (avg)</td>
                <td><span class="error">6.6%</span></td>
                <td><span class="success">0.04%</span></td>
                <td><span class="success">99.4% ↓</span></td>
              </tr>
              <tr>
                <td>business-critical applications MOS Score</td>
                <td><span class="error">2.8</span></td>
                <td><span class="success">4.3</span></td>
                <td><span class="success">54% ↑</span></td>
              </tr>
              <tr>
                <td>Buffer Overruns</td>
                <td><span class="error">1,247/hour</span></td>
                <td><span class="success">0/hour</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
              <tr>
                <td>User Complaints</td>
                <td><span class="error">15+ calls</span></td>
                <td><span class="success">0 calls</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Knowledge Sources Utilized:</strong></p>
          <ul class="compact-list">
            <li>📚 <strong>Knowledge Graph:</strong> 8 queries (topology, configs, protocols, interfaces)</li>
            <li>📚 <strong>RAG System:</strong> Retrieved 3 similar historical tickets + 3 troubleshooting documents</li>
            <li>🔧 <strong>MCP Servers:</strong> 15+ real-time queries (NETCONF, SNMP, CLI, NetFlow)</li>
            <li>🤖 <strong>AI Agents:</strong> 6 specialized agents deployed with inter-agent collaboration</li>
          </ul>

          <hr>

          <p><strong>Lessons Learned & Recommendations:</strong></p>
          <ul class="compact-list">
            <li>💡 Implement proactive bandwidth monitoring with alerting (>80% utilization threshold)</li>
            <li>💡 Establish change management process for backup schedules to avoid business hours</li>
            <li>💡 Deploy baseline procurement planning policies on all WAN interfaces as standard practice</li>
            <li>💡 Enable NetFlow collection permanently for traffic visibility</li>
            <li>💡 Document buffer sizing standards based on interface speed and traffic patterns</li>
          </ul>

          <hr>

          <p><strong>Documentation & Artifacts:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete configuration backups (before/after) saved to repository</li>
            <li>📄 NETCONF deployment scripts archived for reuse</li>
            <li>📄 Agent investigation logs stored for knowledge base</li>
            <li>📄 Updated runbook: "WAN Capacity Planning Investigation Procedure"</li>
          </ul>

          <hr>

          <p><strong>✅ TICKET STATUS: RESOLVED</strong></p>
          <p><strong>Resolution Category:</strong> Network Performance - WAN Optimization</p>
          <p><strong>Resolved By:</strong> AI Operations Center (MRA + 6 Specialized Agents)</p>
          <p><strong>Verified By:</strong> VERIFICATION_AGENT (all 5 tests passed)</p>
          <p><strong>User Satisfaction:</strong> ⭐⭐⭐⭐⭐ (Awaiting user feedback)</p>
        </div>
      </div>
    </div>

    <!-- STEP 25: User Notification -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📧</span>
        <span class="agent-name">STEP 25: IO_AGENT → USER - Final Notification</span>
        <span class="status-badge">Closed</span>
      </div>
      <div class="agent-content">
        <div class="notification-box">
          <p><strong>📧 Email Notification Sent:</strong></p>
          <hr>
          <p><strong>To:</strong> john.smith@xyzcorp.com</p>
          <p><strong>CC:</strong> network-ops@xyzcorp.com</p>
          <p><strong>Subject:</strong> ✅ RESOLVED: Ticket #CAP-8891 - Capacity Planning Across All Remote Sites</p>
          <p><strong>Sent:</strong> 2025-10-17 10:50:15 AM</p>
          <hr>
          <div class="email-body">
            <p>Hi John,</p>
            <p>Great news! Your ticket <strong>#CAP-8891</strong> has been <strong>successfully resolved</strong>.</p>

            <p><strong>Issue Summary:</strong></p>
            <p>5-8% capacity planning and forecasting across all remote sites (Chicago, Dallas, Seattle, Denver, Boston) during 09:00-11:00 AM daily, caused by uncontrolled capacity growth and forecasting consuming 95% of WAN link capacity without traffic shaping policies.</p>

            <p><strong>Resolution:</strong></p>
            <p>Our AI Operations Center deployed traffic shaping policies and optimized buffer configurations on your core router (RTR-CORE-01). The fix was deployed at 10:47 AM and verified successful by 10:48 AM.</p>

            <p><strong>Results:</strong></p>
            <ul>
              <li>✅ Forecast model validated against historical data from 6.6% average to 0.04% (99.4% improvement)</li>
              <li>✅ business-critical applications call quality improved from 2.8 to 4.3 MOS (Excellent)</li>
              <li>✅ Zero buffer overruns detected</li>
              <li>✅ All remote sites now performing normally</li>
            </ul>

            <p><strong>Next Steps:</strong></p>
            <ul>
              <li>📅 Tonight 8:00 PM: Backup schedule will be moved to 01:00-03:00 AM (off-peak hours)</li>
              <li>📄 Full incident report attached (PDF)</li>
              <li>📞 Network Operations team will contact you to review long-term recommendations</li>
            </ul>

            <p><strong>Resolution Time:</strong> 1 hour 33 minutes (from ticket creation to verified fix)</p>

            <p>The issue is now fully resolved and your network should be performing optimally. If you experience any further issues, please open a new ticket or reply to this email.</p>

            <p><strong>We'd appreciate your feedback!</strong> Please rate your experience: <a href="#">⭐⭐⭐⭐⭐</a></p>

            <p>Thank you for using AI Operations Center!</p>

            <p>Best regards,<br>
            <strong>AI Operations Center</strong><br>
            Powered by MRA + 6 Specialized AI Agents<br>
            📧 aiops-support@xyzcorp.com | 📞 1-800-AIOPS-24</p>
          </div>
          <hr>
          <p><strong>Attachments:</strong></p>
          <ul class="compact-list">
            <li>📎 Incident_Report_67891.pdf (3.2 MB)</li>
            <li>📎 Configuration_Changes_Log.txt (18 KB)</li>
            <li>📎 Verification_Test_Results.xlsx (245 KB)</li>
          </ul>
        </div>

        <div class="success-box">
          <p><strong>🎉 TICKET #CAP-8891 - CLOSED</strong></p>
          <ul class="compact-list">
            <li>✅ User notified via email</li>
            <li>✅ Final report delivered</li>
            <li>✅ Documentation archived</li>
            <li>✅ Knowledge base updated</li>
            <li>✅ Change tickets created for Phase 2 & 3</li>
            <li>⏱️ <strong>Total Resolution Time: 1 hour 33 minutes</strong></li>
            <li>🤖 <strong>AI Agents Efficiency: 18 minutes investigation + deployment</strong></li>
            <li>👥 <strong>Human Approval Time: 1 hour 15 minutes (waiting for user response)</strong></li>
          </ul>
        </div>

        <div class="completion-banner">
          <h2>✅ SCENARIO 6 COMPLETE - ALL 25 STEPS IMPLEMENTED</h2>
          <p><strong>Compliance Status: 100% v6 Standard</strong></p>
          <ul class="compact-list">
            <li>✅ Steps 1-5: Alert → IO_AGENT → Classification → MRA → KG</li>
            <li>✅ Steps 6-8: RAG → 3-Source Analysis → Agent Deployment</li>
            <li>✅ Steps 9-13: Specialized Agents with KG/RAG/MCP queries + Inter-Agent Collaboration</li>
            <li>✅ Steps 14-16: Feedback → MRA Correlation → Additional Tasks</li>
            <li>✅ Steps 17-19: RCA Statement → RECOMMENDATIONS_AGENT → Solutions</li>
            <li>✅ Steps 20-23: IO_AGENT Permission → DEPLOYMENT_AGENT → VERIFICATION_AGENT</li>
            <li>✅ Steps 24-25: Final Report → User Notification → Ticket Closed</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .info-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
  }
  
  .deployment-box {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
    padding: 15px;
    margin: 15px 0;
  }
  
  .verification-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
  }
  
  .final-report-box {
    background: #fff3e0;
    border: 2px solid #ff9800;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .notification-box {
    background: #f3e5f5;
    border-left: 4px solid #9c27b0;
    padding: 15px;
    margin: 15px 0;
  }
  
  .email-body {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }
  
  .completion-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: 30px 0;
    border-radius: 10px;
    text-align: center;
  }
  
  .completion-banner h2 {
    margin-top: 0;
    font-size: 24px;
  }
  
  .code-block {
    background: #263238;
    color: #aed581;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
  }
  
  .user-interaction-box {
    background: #fff9e6;
    border: 2px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .recommendation-phase {
    background: white;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    border-left: 3px solid #2196f3;
  }

  .rca-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .collaboration-exchange {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    margin: 15px 0;
    border-left: 3px solid #00ff88;
    border-radius: 4px;
  }

  .collab-from {
    font-weight: bold;
    color: #00aaff;
    margin-bottom: 5px;
  }

  .collab-message {
    font-style: italic;
    margin-left: 20px;
    color: #ccc;
  }

  .collab-response {
    margin-left: 20px;
    margin-top: 10px;
    color: #00ff88;
  }

  .symptom-tag {
    background: #ff9800;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .contributing-tag {
    background: #ffc107;
    color: black;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .root-cause-tag {
    background: #f44336;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }
</style>`
                ]
            },
            'sdwan-optimization': {
                title: 'SD-WAN Optimization',
                icon: '🌐',
                description: 'Optimizing SD-WAN path selection and performance',
                initialQuery: 'Show SD-WAN Path Optimization',
                responses: [
                    `<!-- SCENARIO 7: SD-WAN OPTIMIZATION  -->


<div class="root-container">
  <h3>Agentic AI - SD-WAN Path Optimization v6</h3>
  <p><strong>Complete 25-Step Workflow: Alert → Investigation → Resolution → Verification</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: ALERT/TICKET GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">MONITORING_SYSTEM → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Alert Generated from Network Monitoring:</strong></p>
        <ul class="compact-list">
          <li>⏰ Alert Time: 2025-10-17 09:15:23 AM</li>
          <li>🔍 Alert Source: SD-WAN Analytics Dashboard</li>
          <li>⚠️ Alert Type: Suboptimal Path Selection Detected</li>
          <li>🔴 Severity: HIGH</li>
          <li>📍 Affected: SD-WAN fabric - All branch offices routing via MPLS</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#SDWAN-7234</span></li>
            <li>Category: SD-WAN Optimization</li>
            <li>Subcategory: Path Selection / Cost Optimization</li>
            <li>Priority: P2 - High</li>
            <li>Auto-assigned to: WAN Operations Team</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES TICKET -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #SDWAN-7234 Received - Initial Problem Statement:</strong></p>
        <div class="change-details">
          <p><strong>Reported By:</strong> Robert Chen, WAN Operations Manager</p>
          <p><strong>Affected Entity:</strong> XYZ Corporation</p>
          <p><strong>Department:</strong> WAN Operations - SD-WAN Fabric (12 Branch Offices)</p>
          <p><strong>Business Impact:</strong> Excessive WAN costs, underutilized Internet circuits</p>
          <p><strong>Initial Problem Description:</strong></p>
          <p>"Our SD-WAN deployment is routing nearly all traffic over expensive MPLS circuits instead of utilizing our Internet links. Cost analysis shows we're spending $78K/month on MPLS bandwidth while our Internet circuits (which cost $12K/month) are only 15% utilized. SD-WAN policies appear to be prioritizing MPLS for all application traffic regardless of criticality."</p>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering additional context before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS CLARIFYING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Asking Clarifying Questions:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which applications should be eligible for Internet path routing?</strong></p>
            <p class="answer">A1: Non-critical applications: General web browsing, software updates, cloud backup, non-production traffic, guest WiFi</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Which applications must remain on MPLS for compliance/performance?</strong></p>
            <p class="answer">A2: Critical apps requiring guaranteed performance: VoIP/UC, SAP ERP, financial applications, real-time collaboration tools, production databases</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: What is the current traffic distribution across paths?</strong></p>
            <p class="answer">A3: MPLS: 92% of traffic (850 Mbps average), Internet: 8% of traffic (35 Mbps average). Internet circuits have 400 Mbps total capacity available.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: What is the target cost reduction goal?</strong></p>
            <p class="answer">A4: Target: Reduce MPLS costs by 50-60% ($40-45K/month savings) by shifting non-critical traffic to Internet paths while maintaining critical app performance SLAs</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: Are there existing SD-WAN policies configured? When was the last policy review?</strong></p>
            <p class="answer">A5: Initial policies from SD-WAN deployment 18 months ago. Default policy: "Prefer MPLS for all business traffic". No policy review or optimization performed since deployment.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: PROBLEM CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Problem Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Problem Type</td>
                <td>SD-WAN Path Selection / Cost Optimization</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>Suboptimal WAN Utilization</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>SD-WAN Fabric - All Branch Offices</td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td>Continuous suboptimal routing (MPLS overutilization)</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P2 - High</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Escalating to <strong>MASTER_REASONING_AGENT</strong> for systematic investigation
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Investigation:</strong></p>
        <div class="change-details">
          <p><strong>Ticket Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ SD-WAN path selection favoring expensive MPLS over cost-effective Internet links</li>
            <li>✓ Significant cost inefficiency: $78K/month MPLS vs $12K/month Internet (15% utilized)</li>
            <li>✓ Policy issue suspected: Default "prefer MPLS" policy from initial deployment 18 months ago</li>
            <li>✓ Opportunity for application-aware routing to optimize cost while maintaining SLAs</li>
          </ul>
          <p><strong>Investigation Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for SD-WAN topology, current policies, and application profiles</li>
            <li>2. Search RAG system for SD-WAN optimization best practices and similar scenarios</li>
            <li>3. Perform three-source analysis (Problem + KG + RAG)</li>
            <li>4. Deploy specialized agents: SDWAN_POLICY_AGENT, PATH_SELECTION_AGENT, COST_ANALYSIS_AGENT</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for SD-WAN Context:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: SD-WAN Topology</strong></p>
          <ul class="compact-list">
            <li>✓ Retrieved: XYZ Corp SD-WAN fabric architecture</li>
            <li>✓ 12 Branch offices with dual WAN links: MPLS (primary) + Internet (secondary)</li>
            <li>✓ SD-WAN Controllers: vManage cluster (3 nodes) managing Cisco vEdge routers</li>
            <li>✓ DC hubs: DC-HUB-01 (10.1.1.1), DC-HUB-02 (10.1.1.2) - Active/Active</li>
            <li>✓ Branch devices: vEdge 1000 series routers (IOS-XE SD-WAN 17.9.3)</li>
          </ul>
          <p><strong>Query 2: Current SD-WAN Policies</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Policy Name</th>
                  <th>Application Type</th>
                  <th>Path Preference</th>
                  <th>Last Modified</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>DEFAULT_POLICY</td>
                  <td>All Business Traffic</td>
                  <td>MPLS (Primary), Internet (Backup only)</td>
                  <td>2024-04-15 (18 months ago)</td>
                </tr>
                <tr>
                  <td>GUEST_WIFI</td>
                  <td>Guest Network</td>
                  <td>Internet (Direct breakout)</td>
                  <td>2024-04-15</td>
                </tr>
                <tr>
                  <td>No application-aware policies configured</td>
                  <td colspan="3">All production traffic using DEFAULT_POLICY</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: WAN Link Utilization (Past 30 Days)</strong></p>
          <ul class="compact-list">
            <li>✓ MPLS Links: 850 Mbps average (92% of total traffic), 920 Mbps capacity (92% utilized)</li>
            <li>✓ Internet Links: 35 Mbps average (8% of total traffic), 450 Mbps capacity (8% utilized)</li>
            <li>✓ Internet link idle capacity: 415 Mbps available (92% unused)</li>
            <li>✓ Traffic pattern: Continuous, not time-based</li>
          </ul>
          <p><strong>Query 4: Application Traffic Breakdown</strong></p>
          <ul class="metric-list">
            <li>Critical apps (VoIP, SAP, Financial): <span class="normal-value">280 Mbps (32%)</span></li>
            <li>Standard business apps (Email, CRM): <span class="normal-value">195 Mbps (22%)</span></li>
            <li>Non-critical (Web, Updates, Backup): <span class="problem-value">410 Mbps (46%)</span> - On MPLS!</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-warning">Suboptimal Path Selection Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Similar Incidents and Solutions:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "SD-WAN path optimization + MPLS cost reduction + application-aware routing"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Similarity</th>
                  <th>Problem</th>
                  <th>Resolution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>SDWAN-5912</td>
                  <td><span class="success">91%</span></td>
                  <td>MPLS overutilization, Internet underused</td>
                  <td>Application-aware policy implementation</td>
                </tr>
                <tr>
                  <td>SDWAN-4203</td>
                  <td><span class="success">84%</span></td>
                  <td>Default policy sending all traffic via MPLS</td>
                  <td>Policy redesign: Critical apps MPLS, others Internet</td>
                </tr>
                <tr>
                  <td>SDWAN-3187</td>
                  <td><span class="success">78%</span></td>
                  <td>WAN cost optimization opportunity</td>
                  <td>Application classification + path steering</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Best Practice Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>SD-WAN_Application_Aware_Routing_Design_Guide.pdf</strong> (Cisco Guide CVD-2024)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Recommends classifying apps by criticality: Critical (MPLS), Standard (Hybrid), Non-critical (Internet)</li>
            <li>📄 <strong>SD-WAN_Cost_Optimization_Strategies.pdf</strong> (Gartner 2024)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Target: 40-60% cost reduction by shifting 50-70% traffic to Internet paths</li>
            <li>📄 <strong>Application_Classification_Methodology.pdf</strong> (Internal KB-9432)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Step-by-step: Identify apps → Classify by SLA → Configure policies → Validate</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 3 similar SD-WAN optimizations achieved 45-55% cost savings</li>
            <li>✓ Common root cause: Default "prefer MPLS" policy never optimized post-deployment</li>
            <li>✓ Recommended approach: Application-aware routing with path selection by app criticality</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">High Confidence Pattern Match</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Problem Statement:</strong></p>
            <ul class="compact-list">
              <li>92% of traffic routed via expensive MPLS links</li>
              <li>Internet links only 8% utilized (415 Mbps idle capacity)</li>
              <li>Cost inefficiency: $78K MPLS vs $12K Internet monthly</li>
              <li>46% of traffic is non-critical but using MPLS</li>
              <li>Default policy from 18 months ago never optimized</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>SD-WAN fabric: 12 branches with dual WAN (MPLS + Internet)</li>
              <li>Current policy: "Prefer MPLS for all business traffic"</li>
              <li>MPLS: 850 Mbps avg (92% utilized), Internet: 35 Mbps (8% utilized)</li>
              <li>App breakdown: 280 Mbps critical, 195 Mbps standard, 410 Mbps non-critical</li>
              <li>No application-aware routing policies configured</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>91% similarity to SDWAN-5912 (MPLS overutilization)</li>
              <li>Historical resolution: Application-aware policy implementation</li>
              <li>Common pattern: Default policies never optimized post-deployment</li>
              <li>Best practice: Critical apps on MPLS, non-critical on Internet (45-55% savings)</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Hypothesis:</strong> SD-WAN deployment using suboptimal default policy routing all traffic via MPLS. Opportunity to implement application-aware routing: Keep critical apps (280 Mbps) on MPLS, shift non-critical traffic (410 Mbps) to Internet paths. Estimated savings: $45K/month. Need specialized agents to validate and design optimized policies.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Targeted Investigation:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">📡</div>
            <div class="deployment-name">SDWAN_POLICY_AGENT</div>
            <div class="deployment-task">Analyze current SD-WAN policies</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🛣️</div>
            <div class="deployment-name">PATH_SELECTION_AGENT</div>
            <div class="deployment-task">Evaluate path selection logic</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📊</div>
            <div class="deployment-name">PERFORMANCE_METRICS_AGENT</div>
            <div class="deployment-task">Measure path performance/SLA</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💰</div>
            <div class="deployment-name">COST_ANALYSIS_AGENT</div>
            <div class="deployment-task">Calculate cost optimization potential</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔧</div>
            <div class="deployment-name">ROOT_CAUSE_AGENT</div>
            <div class="deployment-task">Correlate all findings</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">💡</div>
            <div class="deployment-name">RECOMMENDATIONS_AGENT</div>
            <div class="deployment-task">Design optimized policies</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: SDWAN_POLICY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📡</span>
        <span class="agent-name">SDWAN_POLICY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>SD-WAN Policy Analysis via Knowledge Graph & MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved SD-WAN policy database (last updated: 2024-04-15)</li>
            <li>🔌 <strong>MCP RESTCONF:</strong> Live policy config from vManage controllers</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show sdwan policy from vEdge routers</li>
          </ul>
          <p><strong>Current Policy Configuration:</strong></p>
          <ul class="compact-list">
            <li>Policy Name: DEFAULT_POLICY (Created: 2024-04-15, 18 months ago)</li>
            <li>Application Awareness: DISABLED (All traffic treated equally)</li>
            <li>Path Selection Logic: Prefer MPLS (primary), Internet (backup only on MPLS failure)</li>
            <li><strong>Issue Identified:</strong> No application-aware routing - all business traffic forced to MPLS</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ GUEST_WIFI policy correctly routes to Internet (direct breakout)</li>
          <li>✅ Path failover working (Internet backup activates on MPLS failure)</li>
          <li>✅ Policy syntax valid, no configuration errors</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ No application classification - all apps treated as critical</li>
          <li>❌ Static "prefer MPLS" policy ignores app criticality</li>
          <li>❌ Internet paths only used during MPLS failures (not for active load distribution)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-warning">Suboptimal Policy: No App-Aware Routing</span>
        </div>
      </div>
    </div>

    <!-- Continue with remaining steps in next part due to length... -->
    <!-- This file demonstrates the structure. Full implementation continues similarly -->

  </div>
</div>

<style>
  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    color: #00ff88;
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #888;
  }
</style>

    <!-- STEP 11: PATH_SELECTION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🛣️</span>
        <span class="agent-name">PATH_SELECTION_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>WAN Path Selection Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved 30-day path utilization from telemetry database</li>
            <li>🔌 <strong>MCP RESTCONF:</strong> Real-time path selection decisions from vManage</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show sdwan policy app-route-statistics from vEdge</li>
          </ul>
          <p><strong>Path Selection Analysis:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>WAN Path</th>
                  <th>Capacity</th>
                  <th>Current Utilization</th>
                  <th>Traffic %</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>MPLS Links</td>
                  <td>920 Mbps</td>
                  <td>850 Mbps avg</td>
                  <td><span class="problem-value">92% of all traffic</span></td>
                </tr>
                <tr>
                  <td>Internet Links</td>
                  <td>450 Mbps</td>
                  <td>35 Mbps avg</td>
                  <td><span class="success">8% of all traffic</span></td>
                </tr>
                <tr>
                  <td>Internet Idle Capacity</td>
                  <td>415 Mbps</td>
                  <td>Unused (92%)</td>
                  <td><span class="warning">Available for optimization</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Key Finding:</strong> DEFAULT_POLICY forcing 92% traffic via MPLS regardless of application criticality.</p>
          <p><strong>Application Path Distribution:</strong></p>
          <ul class="compact-list">
            <li>Critical apps (VoIP, SAP, Financial): 280 Mbps → MPLS (appropriate)</li>
            <li>Standard apps (Email, CRM): 195 Mbps → MPLS (could use hybrid)</li>
            <li>Non-critical (Web, Updates, Backup): 410 Mbps → MPLS (should use Internet!)</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Critical apps correctly routed via MPLS (280 Mbps)</li>
          <li>✅ Internet path available and operational</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ 410 Mbps non-critical traffic wastefully using MPLS</li>
          <li>❌ Internet links 92% idle while MPLS saturated</li>
          <li>❌ Path selection ignores application SLA requirements</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Suboptimal Path Distribution Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: PERFORMANCE_METRICS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📊</span>
        <span class="agent-name">PERFORMANCE_METRICS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>WAN Path Performance & SLA Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP RESTCONF:</strong> SD-WAN application performance SLA from vManage</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show sdwan app-route sla-class from vEdge</li>
            <li>🔌 <strong>KG Query:</strong> 30-day latency, jitter, packet loss trends</li>
          </ul>
          <p><strong>Path Performance Comparison (30-day average):</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>MPLS Path</th>
                  <th>Internet Path</th>
                  <th>SLA Requirement</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Latency (avg)</td>
                  <td>12 ms</td>
                  <td>28 ms</td>
                  <td><span class="status-tag status-success">Both OK (< 50 ms)</span></td>
                </tr>
                <tr>
                  <td>Jitter (avg)</td>
                  <td>2 ms</td>
                  <td>6 ms</td>
                  <td><span class="status-tag status-success">Both OK (< 10 ms)</span></td>
                </tr>
                <tr>
                  <td>Packet Loss</td>
                  <td>0.02%</td>
                  <td>0.08%</td>
                  <td><span class="status-tag status-success">Both OK (< 1%)</span></td>
                </tr>
                <tr>
                  <td>Availability</td>
                  <td>99.97%</td>
                  <td>99.89%</td>
                  <td><span class="status-tag status-success">Both OK (> 99.5%)</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Key Finding:</strong> Internet paths meet SLA for non-critical apps (latency < 50ms, loss < 1%).</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ MPLS paths: Excellent performance (12ms latency, 0.02% loss)</li>
          <li>✅ Internet paths: Good performance, suitable for non-critical apps</li>
          <li>✅ Both paths meet availability SLAs (> 99.5%)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Internet performance wasted - underutilized despite meeting SLAs</li>
          <li>❌ No SLA-based routing - critical and non-critical apps treated equally</li>
          <li>❌ Missing opportunity: Internet paths adequate for 60% of current traffic</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Internet Paths Meet SLA for Non-Critical Apps</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: COST_ANALYSIS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💰</span>
        <span class="agent-name">COST_ANALYSIS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>WAN Cost Optimization Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved WAN circuit costs from finance database</li>
            <li>🔌 <strong>MCP RESTCONF:</strong> Traffic volumes per path from vManage analytics</li>
            <li>🔌 <strong>RAG Query:</strong> "SD-WAN cost optimization + MPLS vs Internet pricing"</li>
          </ul>
          <p><strong>Current WAN Cost Breakdown:</strong></p>
          <ul class="metric-list">
            <li>MPLS Circuits: <span class="problem-value">$78,000/month</span> (920 Mbps @ $85/Mbps)</li>
            <li>Internet Circuits: <span class="success">$12,000/month</span> (450 Mbps @ $27/Mbps)</li>
            <li>Total WAN Spend: <span class="warning">$90,000/month</span></li>
            <li>Cost per Mbps (blended): <span class="warning">$65/Mbps</span></li>
          </ul>
          <p><strong>Optimization Opportunity Calculation:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Traffic Category</th>
                  <th>Current (MPLS)</th>
                  <th>Optimized Target</th>
                  <th>Monthly Savings</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Critical Apps</td>
                  <td>280 Mbps → MPLS</td>
                  <td>280 Mbps → MPLS (Keep)</td>
                  <td>$0</td>
                </tr>
                <tr>
                  <td>Standard Apps</td>
                  <td>195 Mbps → MPLS</td>
                  <td>95 Mbps → MPLS, 100 Mbps → Internet</td>
                  <td>$5,800</td>
                </tr>
                <tr>
                  <td>Non-Critical Apps</td>
                  <td>410 Mbps → MPLS</td>
                  <td>10 Mbps → MPLS, 400 Mbps → Internet</td>
                  <td>$39,200</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Projected Savings:</strong> $45,000/month (50% reduction in MPLS costs)</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Internet circuits significantly cheaper ($27/Mbps vs $85/Mbps)</li>
          <li>✅ 415 Mbps idle Internet capacity available</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Paying $85/Mbps for MPLS to carry non-critical traffic</li>
          <li>❌ Missing $45K/month savings opportunity</li>
          <li>❌ 68% cost inefficiency (could use $27/Mbps Internet instead)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">$45K/Month Cost Optimization Opportunity</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💬</span>
        <span class="agent-name">AGENT_COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Inter-Agent Communication & Task Delegation:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p><strong>Exchange 1:</strong></p>
            <p class="collab-from">📡 SDWAN_POLICY_AGENT → 🛣️ PATH_SELECTION_AGENT:</p>
            <p class="collab-message">"I've found DEFAULT_POLICY treats all apps equally with 'prefer MPLS'. Can you analyze actual traffic distribution across MPLS vs Internet paths?"</p>
            <p class="collab-response">🛣️ Response: "Confirmed. Querying vManage for path utilization. Will break down by application category."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 2:</strong></p>
            <p class="collab-from">🛣️ PATH_SELECTION_AGENT → 📊 PERFORMANCE_METRICS_AGENT:</p>
            <p class="collab-message">"Seeing 410 Mbps non-critical traffic on MPLS while Internet 92% idle. Can you validate if Internet paths meet SLA for these applications?"</p>
            <p class="collab-response">📊 Response: "Will check latency, jitter, packet loss on Internet paths. Comparing against non-critical app SLA requirements."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 3:</strong></p>
            <p class="collab-from">📊 PERFORMANCE_METRICS_AGENT → 💰 COST_ANALYSIS_AGENT:</p>
            <p class="collab-message">"Confirmed Internet paths meet SLA for non-critical apps (28ms latency, 0.08% loss). Can you calculate cost savings if we shift 400 Mbps from MPLS to Internet?"</p>
            <p class="collab-response">💰 Response: "Running cost model. Will calculate MPLS vs Internet cost differential for 400 Mbps traffic shift."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 4:</strong></p>
            <p class="collab-from">💰 COST_ANALYSIS_AGENT → 🔧 ROOT_CAUSE_AGENT:</p>
            <p class="collab-message">"Calculated $45K/month savings by shifting 400 Mbps non-critical traffic to Internet paths. Internet SLA confirmed adequate by PERFORMANCE_METRICS_AGENT. Ready for policy design."</p>
            <p class="collab-response">🔧 Response: "Acknowledged. Collecting all findings for root cause and optimization recommendation."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Dynamic Task Adjustment:</strong></p>
            <ul class="compact-list">
              <li>✓ SDWAN_POLICY_AGENT identified suboptimal default policy, triggering path analysis</li>
              <li>✓ PATH_SELECTION_AGENT quantified traffic misallocation, requesting SLA validation</li>
              <li>✓ PERFORMANCE_METRICS_AGENT confirmed Internet viability, enabling cost analysis</li>
              <li>✓ COST_ANALYSIS_AGENT calculated $45K savings, providing business case</li>
              <li>✓ All agents converged on application-aware routing opportunity</li>
            </ul>
          </div>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Collaborating Effectively</span>
        </div>
      </div>
    </div>

    <!-- STEP 15: ROOT_CAUSE_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">ROOT_CAUSE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Root Cause Analysis - Correlating All Agent Findings:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Compilation:</strong></p>
          <ul class="compact-list">
            <li>✓ SDWAN_POLICY_AGENT: DEFAULT_POLICY routes all traffic via MPLS (no app awareness)</li>
            <li>✓ PATH_SELECTION_AGENT: 410 Mbps non-critical traffic wastefully using MPLS</li>
            <li>✓ PERFORMANCE_METRICS_AGENT: Internet paths meet SLA for non-critical apps</li>
            <li>✓ COST_ANALYSIS_AGENT: $45K/month savings opportunity identified</li>
            <li>✓ RAG Historical Data: 91% similarity to SDWAN-5912 (MPLS overutilization)</li>
          </ul>
          <p><strong>Timeline Analysis:</strong></p>
          <ul class="metric-list">
            <li>April 2024: SD-WAN deployed with default "prefer MPLS" policy</li>
            <li>18 months: No policy optimization or application classification performed</li>
            <li>Current state: 92% traffic on MPLS, 8% on Internet (Internet 92% idle)</li>
            <li>Cost impact: Continuous $45K/month overspend on WAN circuits</li>
          </ul>
        </div>
        <p><strong>Root Cause Statement:</strong></p>
        <div class="rca-box">
          <p><strong>PRIMARY ROOT CAUSE:</strong></p>
          <p>SD-WAN deployment configured with suboptimal default policy "Prefer MPLS for all business traffic" that has never been optimized post-deployment. This policy lacks application-aware routing, forcing ALL traffic (including 410 Mbps of non-critical applications like web browsing, software updates, and backups) onto expensive MPLS links ($85/Mbps) while underutilizing Internet links ($27/Mbps) that remain 92% idle, resulting in $45K/month unnecessary WAN costs.</p>
          <p><strong>CONTRIBUTING FACTORS:</strong></p>
          <ul class="compact-list">
            <li>1. No application classification - all apps treated as equally critical</li>
            <li>2. Static path preference ignoring cost and performance tradeoffs</li>
            <li>3. Internet paths configured for failover only (not active load distribution)</li>
            <li>4. Lack of post-deployment policy review and optimization process</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Root Cause Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CORRELATION ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Correlation Analysis - Symptoms vs. Causes:</strong></p>
        <div class="change-details">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Severity</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting slow applications</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>VoIP calls dropping</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Time-sensitive traffic affected</td>
                </tr>
                <tr>
                  <td>5-8% packet loss</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Network-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 buffer overruns</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Device-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 output drops</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Direct result of buffer exhaustion</td>
                </tr>
                <tr>
                  <td>95% interface utilization</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Causes buffer pressure</td>
                </tr>
                <tr>
                  <td>620 Mbps backup traffic</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>High</td>
                  <td>Major bandwidth consumer</td>
                </tr>
                <tr>
                  <td>64 KB buffer (insufficient)</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Cannot absorb bursts</td>
                </tr>
                <tr>
                  <td>Backup during business hours</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Triggers the issue</td>
                </tr>
                <tr>
                  <td>No traffic shaping policy</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Allows uncontrolled traffic</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with backup traffic schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with backup traffic schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Task Assignment (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Task Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Root cause clearly identified: Backup traffic during business hours without traffic shaping</p>
          <p>✓ All specialized agents have completed their investigations</p>
          <p>✓ Findings are conclusive and correlated</p>
          <p>✓ Sufficient data collected from KG, RAG, and MCP servers</p>
          <p><strong>Decision: No additional investigation tasks required. Proceeding directly to resolution recommendations.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear RCA Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: ROOT CAUSE ANALYSIS - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 ROOT CAUSE ANALYSIS STATEMENT</h3>
          <p><strong>Primary Root Cause:</strong></p>
          <p class="highlight">SD-WAN path selection is suboptimal due to <strong>unoptimized default policy routing 92% of traffic (including 410 Mbps non-critical apps) via expensive MPLS circuits ($85/Mbps)</strong> while <strong>Internet links ($27/Mbps) remain 92% idle</strong>. Lack of application-aware routing results in $45K/month unnecessary WAN costs.</p>

          <p><strong>Contributing Factors:</strong></p>
          <ul class="compact-list">
            <li>• No application classification configured (all apps treated equally critical)</li>
            <li>• Static "prefer MPLS" policy never optimized since deployment 18 months ago</li>
            <li>• Internet paths configured for failover only, not active load distribution</li>
            <li>• Lack of post-deployment review process for SD-WAN policy optimization</li>
          </ul>

          <p><strong>Evidence Supporting RCA:</strong></p>
          <ul class="compact-list">
            <li>✓ vManage analytics show 850 Mbps MPLS (92% utilized), 35 Mbps Internet (8% utilized)</li>
            <li>✓ Application traffic breakdown: 410 Mbps non-critical apps using expensive MPLS</li>
            <li>✓ Internet path SLA meets requirements: 28ms latency, 0.08% loss (< 1% threshold)</li>
            <li>✓ Historical tickets (SDWAN-5912, SDWAN-4203) show identical pattern and 50% cost savings</li>
            <li>✓ Cost analysis confirms $45K/month savings opportunity via path optimization</li>
          </ul>

          <p><strong>Business Impact:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: $45K/month WAN overspend ($540K/year waste)</li>
            <li>🟡 Medium: Underutilized Internet circuits (92% idle capacity)</li>
            <li>🟡 Medium: Risk of MPLS circuit saturation as business grows</li>
            <li>⏱️ Duration: Continuous since deployment (18 months = $810K wasted to date)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: RECOMMENDATIONS_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">STEP 19: RECOMMENDATIONS_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved best practice QoS templates for Cisco routers</li>
          <li>📚 RAG Query: Retrieved 3 successful resolution playbooks from similar tickets</li>
          <li>🔧 MCP Server: Retrieved current QoS configuration (none configured)</li>
        </ul>

        <div class="info-box">
          <h3>🎯 SD-WAN OPTIMIZATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 2 hours)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Implement Application-Aware Routing Policies</strong></p>
            <ul class="compact-list">
              <li>✓ Configure application classification: Critical, Standard, Non-Critical</li>
              <li>✓ Route critical apps (VoIP, SAP, Financial) via MPLS (280 Mbps)</li>
              <li>✓ Route non-critical apps (Web, Updates, Backup) via Internet (400 Mbps)</li>
              <li>⏱️ Deployment time: 45 minutes via vManage GUI/API</li>
              <li>📊 Expected impact: Shift 400 Mbps to Internet, save $39K/month immediately</li>
            </ul>

            <p><strong>Action 1.2 - Enable Active Load Distribution</strong></p>
            <ul class="compact-list">
              <li>✓ Change Internet path from "failover only" to "active"</li>
              <li>✓ Configure hybrid routing for standard apps (Email, CRM)</li>
              <li>⏱️ Deployment time: 15 minutes via vManage</li>
              <li>📊 Expected impact: Additional $5.8K/month savings</li>
            </ul>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 7 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - Right-Size MPLS Circuits</strong></p>
            <ul class="compact-list">
              <li>✓ Reduce MPLS capacity from 920 Mbps to 500 Mbps (critical apps only)</li>
              <li>✓ Coordinate with carrier for circuit downgrade</li>
              <li>⏱️ Implementation: 5-7 business days (carrier lead time)</li>
              <li>📊 Expected impact: Additional $35K/month savings (total: $80K/month)</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Implement SLA-Based Path Selection</strong></p>
            <ul class="compact-list">
              <li>✓ Configure dynamic path selection based on real-time SLA metrics</li>
              <li>✓ Automatic failover if Internet latency >50ms or loss >1%</li>
              <li>✓ Implement active monitoring with BFD (Bidirectional Forwarding Detection)</li>
              <li>⏱️ Rollout: Phased deployment over 2 weeks</li>
            </ul>

            <p><strong>Action 3.2 - Quarterly Policy Review Process</strong></p>
            <ul class="compact-list">
              <li>✓ Establish quarterly SD-WAN policy optimization reviews</li>
              <li>✓ Review application traffic patterns and adjust classifications</li>
              <li>⏱️ Timeline: Implement governance process within 30 days</li>
            </ul>

            <p><strong>Action 3.3 - Enhanced Cost Analytics Dashboard</strong></p>
            <ul class="compact-list">
              <li>✓ Implement real-time WAN cost-per-application dashboard</li>
              <li>✓ Track monthly savings and optimization opportunities</li>
              <li>✓ Alert on policy drift or suboptimal routing patterns</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Application-aware policies</td>
              <td><span class="success">LOW</span></td>
              <td>Non-disruptive policy change via vManage</td>
              <td>5 minutes</td>
            </tr>
            <tr>
              <td>Active load distribution</td>
              <td><span class="success">LOW</span></td>
              <td>Gradual traffic shift, monitor SLA compliance</td>
              <td>5 minutes</td>
            </tr>
            <tr>
              <td>MPLS circuit downgrade</td>
              <td><span class="warning">MEDIUM</span></td>
              <td>Validate traffic patterns for 7 days first</td>
              <td>5-7 days (carrier)</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ Traffic distribution: 60% Internet, 40% MPLS (target achieved)</li>
          <li>✓ Internet path utilization increased from 8% to 60%</li>
          <li>✓ Critical apps maintain <12ms latency, <0.05% loss on MPLS</li>
          <li>✓ Non-critical apps perform adequately on Internet (<50ms latency)</li>
          <li>✓ Monthly WAN costs reduced by $45K (50% MPLS cost reduction)</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: RECOMMENDATIONS_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>RECOMMENDATIONS_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the SD-WAN optimization analysis based on RCA findings, KG policy data, and RAG best practices. I recommend proceeding with PHASE 1 immediate actions (application-aware routing policies) to realize $45K/month savings within 2 hours."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase SD-WAN optimization plan</li>
            <li>📄 vManage policy configuration templates for deployment</li>
            <li>📄 Cost-benefit analysis ($45K/month savings)</li>
            <li>📄 Success criteria and verification tests (traffic distribution targets)</li>
            <li>📄 Rollback procedures (5-minute policy revert)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (Robert Chen, WAN Operations Manager):</strong></p>
          <p>"Robert, our AI agents have completed the analysis of ticket #SDWAN-7234 (SD-WAN path optimization)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: Suboptimal default SD-WAN policy routing 92% traffic via expensive MPLS</li>
            <li>📊 Impact: $45K/month unnecessary WAN costs ($540K/year)</li>
            <li>⏱️ Affecting: All 12 branch offices in SD-WAN fabric</li>
          </ul>

          <p><strong>Recommended Immediate Solution (PHASE 1):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Deploy application-aware routing policies via vManage</li>
            <li>2️⃣ Route non-critical apps (400 Mbps) to Internet paths, keep critical apps on MPLS</li>
            <li>⏱️ Total deployment time: ~60 minutes (non-disruptive)</li>
            <li>📉 Expected result: $45K/month savings, traffic distribution: 60% Internet / 40% MPLS</li>
            <li>🔄 Rollback time: 5 minutes if any issues occur</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve the deployment of PHASE 1 SD-WAN policy optimization?</strong></p>
            <p class="answer">✅ A1: Yes, approved. This aligns with our cost reduction goals.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: What is your preferred maintenance window for deployment?</strong></p>
            <p class="answer">✅ A2: Deploy now (10:45 AM) - policy changes are non-disruptive, no impact to users expected.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Should we proceed with PHASE 2 (MPLS circuit right-sizing) after 7-day validation?</strong></p>
            <p class="answer">✅ A3: Yes, pending successful validation of traffic distribution. I'll coordinate with the carrier.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Who should receive the cost savings report?</strong></p>
            <p class="answer">✅ A4: Send to me (robert.chen@xyzcorp.com) and CC wan-ops@xyzcorp.com, finance@xyzcorp.com</p>
          </div>
        </div>
        <p><strong>✅ User Permission Granted: Proceeding to deployment phase</strong></p>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Configuration Deployment</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Initiated - Deployment Plan:</strong></p>
        <ul class="compact-list">
          <li>🎯 Target System: vManage SD-WAN Controllers (vmanage-cluster-01)</li>
          <li>🔧 Deployment Method: RESTCONF API (HTTPS Port 443)</li>
          <li>⏱️ Start Time: 2025-10-17 10:47:15 AM</li>
          <li>👤 Authorized By: Robert Chen (robert.chen@xyzcorp.com)</li>
          <li>🎫 Change Ticket: CHG-SDWAN-2025-1017-001</li>
        </ul>

        <div class="deployment-box">
          <p><strong>📝 ACTION 1: Deploy Application-Aware Routing Policies</strong></p>
          <p><strong>vManage RESTCONF API Configuration:</strong></p>
          <pre class="code-block">POST https://vmanage-cluster-01.xyzcorp.com/dataservice/template/policy/vedge/
{
  "policyName": "APP_AWARE_ROUTING_OPTIMIZED",
  "policyDescription": "Application-aware routing for cost optimization",
  "policyDefinition": {
    "assembly": [
      {
        "definitionId": "app-route-001",
        "type": "appRoute",
        "entries": [
          {
            "appList": ["voip", "sap-erp", "financial-apps"],
            "slaClass": "CRITICAL",
            "preferredColor": "mpls",  // Route via MPLS
            "fallbackSequence": ["mpls", "biz-internet"]
          },
          {
            "appList": ["email", "crm", "collaboration"],
            "slaClass": "STANDARD",
            "preferredColor": "hybrid",  // Load balance MPLS + Internet
            "fallbackSequence": ["mpls", "biz-internet"]
          },
          {
            "appList": ["web-browsing", "software-updates", "backup", "guest-wifi"],
            "slaClass": "NON-CRITICAL",
            "preferredColor": "biz-internet",  // Route via Internet
            "fallbackSequence": ["biz-internet", "mpls"]
          }
        ]
      }
    ]
  }
}</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:18 - RESTCONF API session established to vManage</li>
            <li>⏱️ 10:47:22 - Policy template validated (no syntax errors)</li>
            <li>⏱️ 10:47:25 - Application classification lists created: CRITICAL, STANDARD, NON-CRITICAL</li>
            <li>⏱️ 10:47:35 - Policy APP_AWARE_ROUTING_OPTIMIZED deployed to all 12 vEdge routers</li>
            <li>⏱️ 10:47:45 - vEdge routers acknowledging policy activation</li>
            <li>✅ 10:47:52 - <strong>ACTION 1 COMPLETED SUCCESSFULLY - All branches activated</strong></li>
          </ul>
        </div>

        <div class="deployment-box">
          <p><strong>📝 ACTION 2: Enable Active Load Distribution for Internet Paths</strong></p>
          <p><strong>vManage RESTCONF API Configuration:</strong></p>
          <pre class="code-block">PATCH https://vmanage-cluster-01.xyzcorp.com/dataservice/template/policy/vedge/
{
  "policyUpdate": {
    "pathPreference": {
      "internet-path-mode": "active",  // Change from "backup-only" to "active"
      "load-balance": {
        "enabled": true,
        "algorithm": "per-flow",
        "criteria": ["sla-class", "cost"]
      }
    },
    "internetCircuitSettings": {
      "enableActiveRouting": true,
      "maxUtilizationPercent": 80,
      "healthCheck": {
        "probeFrequency": 60,  // seconds
        "failureThreshold": 3
      }
    }
  }
}</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:54 - Updating Internet path mode from backup-only to active</li>
            <li>⏱️ 10:47:57 - Enabling per-flow load balancing across MPLS + Internet</li>
            <li>⏱️ 10:48:01 - Configuring health-check probes for Internet paths</li>
            <li>⏱️ 10:48:05 - All 12 vEdge routers acknowledging path mode change</li>
            <li>✅ 10:48:08 - <strong>ACTION 2 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <p><strong>📊 Post-Deployment Verification:</strong></p>
        <ul class="compact-list">
          <li>✅ Policy templates activated across all 12 vEdge branch routers</li>
          <li>✅ Configuration automatically backed up to vManage repository</li>
          <li>✅ RESTCONF API session closed gracefully</li>
          <li>⏱️ Total Deployment Time: 53 seconds</li>
          <li>🎉 <strong>PHASE 1 DEPLOYMENT COMPLETE - All branches reporting successful policy activation</strong></li>
        </ul>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Verifying</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Executing Post-Deployment Tests:</strong></p>
        <p>⏱️ Verification Start Time: 2025-10-17 10:48:00 AM (15 seconds after deployment)</p>

        <div class="verification-box">
          <p><strong>TEST 1: Verify Application-Aware Routing Policy Active</strong></p>
          <p><strong>MCP Server Query (vManage RESTCONF API):</strong></p>
          <pre class="code-block">GET https://vmanage-cluster-01/dataservice/statistics/approute

{
  "policyName": "APP_AWARE_ROUTING_OPTIMIZED",
  "status": "active",
  "branchesActive": 12,
  "trafficClassification": {
    "critical": {
      "applications": ["voip", "sap-erp", "financial-apps"],
      "path": "mpls",
      "bandwidth": "280 Mbps",
      "percentage": "32%"
    },
    "standard": {
      "applications": ["email", "crm", "collaboration"],
      "path": "hybrid (mpls+internet)",
      "bandwidth": "195 Mbps",
      "percentage": "22%"
    },
    "non-critical": {
      "applications": ["web", "updates", "backup"],
      "path": "biz-internet",
      "bandwidth": "410 Mbps",
      "percentage": "46%"
    }
  }
}</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Application-aware routing active across all branches</p>
          <ul class="compact-list">
            <li>✓ 410 Mbps non-critical traffic successfully routed via Internet paths</li>
            <li>✓ 280 Mbps critical apps protected on MPLS paths</li>
            <li>✓ All 12 branch routers reporting policy compliance</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 2: Verify Internet Path Activation</strong></p>
          <p><strong>MCP Server Query (vManage CLI via SSH):</strong></p>
          <pre class="code-block">vmanage# show sdwan policy app-route statistics

Path Utilization Summary:
  MPLS Links:
    - Current: 375 Mbps (41% of total traffic)
    - Status: Active, SLA met
    - Applications: Critical (280M) + Standard (95M)

  Internet Links:
    - Current: 535 Mbps (59% of total traffic)
    - Status: Active, SLA met
    - Applications: Non-Critical (410M) + Standard (125M)

Path Health:
  ✓ Internet latency: 26ms (SLA: <50ms)
  ✓ Internet packet loss: 0.06% (SLA: <1%)
  ✓ All paths green</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Internet paths actively carrying production traffic</p>
          <ul class="compact-list">
            <li>✓ Internet utilization increased from 8% to 59%</li>
            <li>✓ MPLS utilization reduced from 92% to 41%</li>
            <li>✓ Target distribution achieved: 60% Internet, 40% MPLS</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 3: Verify Traffic Distribution and Cost Savings</strong></p>
          <p><strong>Cost Analysis & Bandwidth Redistribution:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before Optimization</th>
                <th>After Optimization</th>
                <th>Improvement</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>MPLS Traffic</td>
                <td><span class="error">850 Mbps (92%)</span></td>
                <td><span class="success">375 Mbps (41%)</span></td>
                <td>✅ -56% reduction</td>
              </tr>
              <tr>
                <td>Internet Traffic</td>
                <td><span class="warning">35 Mbps (8%)</span></td>
                <td><span class="success">535 Mbps (59%)</span></td>
                <td>✅ +1428% increase</td>
              </tr>
              <tr>
                <td>Monthly MPLS Cost</td>
                <td><span class="error">$78,000</span></td>
                <td><span class="success">$33,000</span></td>
                <td>✅ $45K saved</td>
              </tr>
              <tr>
                <td>Total WAN Cost</td>
                <td><span class="warning">$90,000/mo</span></td>
                <td><span class="success">$45,000/mo</span></td>
                <td>✅ 50% reduction</td>
              </tr>
            </tbody>
          </table>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Cost optimization target exceeded</p>
          <ul class="compact-list">
            <li>✓ Monthly savings: $45,000 (target: $40-45K)</li>
            <li>✓ Annual savings: $540,000</li>
            <li>✓ Traffic distribution: 60% Internet / 40% MPLS (target achieved)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 4: Verify Critical Application SLA Compliance</strong></p>
          <p><strong>Query: Application Performance Monitoring (vManage Analytics)</strong></p>
          <ul class="compact-list">
            <li>📞 VoIP (MPLS path): Latency 11ms, Jitter 2ms, MOS 4.4 - ✅ Excellent</li>
            <li>💼 SAP ERP (MPLS path): Latency 12ms, 0.01% loss - ✅ Within SLA</li>
            <li>💰 Financial Apps (MPLS path): Latency 10ms, 0.02% loss - ✅ Within SLA</li>
            <li>📧 Email (Hybrid paths): Latency 22ms avg - ✅ Acceptable</li>
            <li>🌐 Web browsing (Internet): Latency 28ms - ✅ Good performance</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - All applications meeting SLA requirements</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 5: Verify No Negative Side Effects</strong></p>
          <ul class="compact-list">
            <li>✅ No tunnel flaps detected across SD-WAN fabric</li>
            <li>✅ All OMP (Overlay Management Protocol) sessions stable</li>
            <li>✅ CPU utilization normal: 12% (no spike from QoS processing)</li>
            <li>✅ Memory utilization: 45% (no increase)</li>
            <li>✅ All remote sites reachable via ping</li>
            <li>✅ No user complaints received (monitoring helpdesk queue)</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No adverse impacts detected</p>
        </div>

        <p><strong>📊 VERIFICATION SUMMARY:</strong></p>
        <div class="success-box">
          <p><strong>🎉 ALL VERIFICATION TESTS PASSED (5/5)</strong></p>
          <ul class="compact-list">
            <li>✅ Application-aware routing policies active across all 12 branches</li>
            <li>✅ Internet paths activated: 59% traffic (target: 60%)</li>
            <li>✅ Cost savings achieved: $45K/month ($540K/year)</li>
            <li>✅ All critical applications maintaining SLA compliance on MPLS</li>
            <li>✅ Zero negative impacts to user experience or service quality</li>
          </ul>
          <p><strong>⏱️ Time to Optimization: 61 minutes from ticket assignment to verified deployment</strong></p>
          <p><strong>✅ SD-WAN optimization validated and stable. Proceeding to final report generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 24: Final Report -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📄</span>
        <span class="agent-name">STEP 24: MRA - Final Resolution Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <div class="final-report-box">
          <h2>🎯 SD-WAN OPTIMIZATION REPORT</h2>

          <p><strong>Ticket Information:</strong></p>
          <ul class="compact-list">
            <li>🎫 Ticket ID: #SDWAN-7234</li>
            <li>📋 Title: SD-WAN Path Selection Optimization / Cost Reduction</li>
            <li>👤 Reported By: Robert Chen, WAN Operations Manager (robert.chen@xyzcorp.com)</li>
            <li>⏱️ Opened: 2025-10-17 09:15:23 AM</li>
            <li>⏱️ Resolved: 2025-10-17 10:48:45 AM</li>
            <li>⌛ Optimization Time: <strong>1 hour 33 minutes</strong></li>
          </ul>

          <hr>

          <p><strong>Problem Summary:</strong></p>
          <p>SD-WAN fabric across 12 branch offices routing 92% of traffic (850 Mbps) via expensive MPLS circuits while Internet links remained 92% idle. Analysis revealed default "prefer MPLS" policy never optimized since deployment 18 months ago, resulting in $45K/month unnecessary WAN costs ($540K/year waste).</p>

          <hr>

          <p><strong>Root Cause Analysis:</strong></p>
          <p class="highlight">SD-WAN deployment configured with suboptimal default policy lacking application-aware routing. All traffic (including 410 Mbps of non-critical applications) forced onto expensive MPLS links ($85/Mbps) while cost-effective Internet links ($27/Mbps) remained underutilized, causing continuous $45K/month WAN cost overspend.</p>

          <hr>

          <p><strong>Investigation Timeline:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Agent/System</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>09:15 AM</td>
                <td>MONITORING_SYSTEM</td>
                <td>Alert generated, ticket #67891 created</td>
              </tr>
              <tr>
                <td>09:16 AM</td>
                <td>IO_AGENT</td>
                <td>Engaged user, asked 5 clarifying questions</td>
              </tr>
              <tr>
                <td>09:22 AM</td>
                <td>MRA</td>
                <td>Deployed 6 specialized agents</td>
              </tr>
              <tr>
                <td>09:23 AM</td>
                <td>TOPOLOGY_AGENT</td>
                <td>Identified GigE 0/1/0 convergence point</td>
              </tr>
              <tr>
                <td>09:25 AM</td>
                <td>TRAFFIC_ANALYSIS_AGENT</td>
                <td>Discovered 620 Mbps backup traffic (NetFlow)</td>
              </tr>
              <tr>
                <td>09:27 AM</td>
                <td>INTERFACE_STATS_AGENT</td>
                <td>Found 1,247 buffer overruns</td>
              </tr>
              <tr>
                <td>09:29 AM</td>
                <td>BUFFER_ANALYSIS_AGENT</td>
                <td>Confirmed 64 KB buffer insufficient</td>
              </tr>
              <tr>
                <td>09:35 AM</td>
                <td>ROOT_CAUSE_AGENT</td>
                <td>Correlated findings, confirmed root cause</td>
              </tr>
              <tr>
                <td>09:38 AM</td>
                <td>RECOMMENDATIONS_AGENT</td>
                <td>Created 3-phase remediation plan</td>
              </tr>
              <tr>
                <td>09:42 AM</td>
                <td>IO_AGENT</td>
                <td>Obtained user approval for deployment</td>
              </tr>
              <tr>
                <td>10:47 AM</td>
                <td>DEPLOYMENT_AGENT</td>
                <td>Deployed traffic shaping + buffer config</td>
              </tr>
              <tr>
                <td>10:48 AM</td>
                <td>VERIFICATION_AGENT</td>
                <td>Verified fix, all tests passed</td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Resolution Actions Taken:</strong></p>
          <p><strong>PHASE 1 (Completed - 2025-10-17 10:47 AM):</strong></p>
          <ul class="compact-list">
            <li>✅ Deployed traffic shaping policy limiting backup traffic to 260 Mbps (40%)</li>
            <li>✅ Reserved 325 Mbps (50%) for business-critical applications</li>
            <li>✅ Reserved 65 Mbps (10%) for network management</li>
            <li>✅ Increased interface buffer from 64 KB to 256 KB</li>
            <li>✅ Enabled Weighted Fair Queuing (WFQ)</li>
          </ul>

          <p><strong>PHASE 2 (Scheduled - Tonight 8:00 PM):</strong></p>
          <ul class="compact-list">
            <li>⏳ Reschedule backup window from 09:00-11:00 AM to 01:00-03:00 AM</li>
            <li>⏳ Coordinate with backup team (change request CHG-2025-1017-002)</li>
          </ul>

          <p><strong>PHASE 3 (Planned - 30-day roadmap):</strong></p>
          <ul class="compact-list">
            <li>📅 Implement comprehensive class-based QoS across all WAN interfaces</li>
            <li>📅 Evaluate WAN capacity upgrade (650 Mbps → 1 Gbps)</li>
            <li>📅 Deploy enhanced monitoring with real-time alerts</li>
          </ul>

          <hr>

          <p><strong>Results and Metrics:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before</th>
                <th>After</th>
                <th>Improvement</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Packet Loss (avg)</td>
                <td><span class="error">6.6%</span></td>
                <td><span class="success">0.04%</span></td>
                <td><span class="success">99.4% ↓</span></td>
              </tr>
              <tr>
                <td>VoIP MOS Score</td>
                <td><span class="error">2.8</span></td>
                <td><span class="success">4.3</span></td>
                <td><span class="success">54% ↑</span></td>
              </tr>
              <tr>
                <td>Buffer Overruns</td>
                <td><span class="error">1,247/hour</span></td>
                <td><span class="success">0/hour</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
              <tr>
                <td>User Complaints</td>
                <td><span class="error">15+ calls</span></td>
                <td><span class="success">0 calls</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Knowledge Sources Utilized:</strong></p>
          <ul class="compact-list">
            <li>📚 <strong>Knowledge Graph:</strong> 8 queries (topology, configs, protocols, interfaces)</li>
            <li>📚 <strong>RAG System:</strong> Retrieved 3 similar historical tickets + 3 troubleshooting documents</li>
            <li>🔧 <strong>MCP Servers:</strong> 15+ real-time queries (NETCONF, SNMP, CLI, NetFlow)</li>
            <li>🤖 <strong>AI Agents:</strong> 6 specialized agents deployed with inter-agent collaboration</li>
          </ul>

          <hr>

          <p><strong>Lessons Learned & Recommendations:</strong></p>
          <ul class="compact-list">
            <li>💡 Implement proactive bandwidth monitoring with alerting (>80% utilization threshold)</li>
            <li>💡 Establish change management process for backup schedules to avoid business hours</li>
            <li>💡 Deploy baseline QoS policies on all WAN interfaces as standard practice</li>
            <li>💡 Enable NetFlow collection permanently for traffic visibility</li>
            <li>💡 Document buffer sizing standards based on interface speed and traffic patterns</li>
          </ul>

          <hr>

          <p><strong>Documentation & Artifacts:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete configuration backups (before/after) saved to repository</li>
            <li>📄 NETCONF deployment scripts archived for reuse</li>
            <li>📄 Agent investigation logs stored for knowledge base</li>
            <li>📄 Updated runbook: "WAN Packet Loss Investigation Procedure"</li>
          </ul>

          <hr>

          <p><strong>✅ TICKET STATUS: RESOLVED</strong></p>
          <p><strong>Resolution Category:</strong> Network Performance - WAN Optimization</p>
          <p><strong>Resolved By:</strong> AI Operations Center (MRA + 6 Specialized Agents)</p>
          <p><strong>Verified By:</strong> VERIFICATION_AGENT (all 5 tests passed)</p>
          <p><strong>User Satisfaction:</strong> ⭐⭐⭐⭐⭐ (Awaiting user feedback)</p>
        </div>
      </div>
    </div>

    <!-- STEP 25: User Notification -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📧</span>
        <span class="agent-name">STEP 25: IO_AGENT → USER - Final Notification</span>
        <span class="status-badge">Closed</span>
      </div>
      <div class="agent-content">
        <div class="notification-box">
          <p><strong>📧 Email Notification Sent:</strong></p>
          <hr>
          <p><strong>To:</strong> john.smith@xyzcorp.com</p>
          <p><strong>CC:</strong> network-ops@xyzcorp.com</p>
          <p><strong>Subject:</strong> ✅ RESOLVED: Ticket #67891 - Packet Loss Across All Remote Sites</p>
          <p><strong>Sent:</strong> 2025-10-17 10:50:15 AM</p>
          <hr>
          <div class="email-body">
            <p>Hi John,</p>
            <p>Great news! Your ticket <strong>#67891</strong> has been <strong>successfully resolved</strong>.</p>

            <p><strong>Issue Summary:</strong></p>
            <p>5-8% packet loss across all remote sites (Chicago, Dallas, Seattle, Denver, Boston) during 09:00-11:00 AM daily, caused by uncontrolled backup traffic consuming 95% of WAN link capacity without traffic shaping policies.</p>

            <p><strong>Resolution:</strong></p>
            <p>Our AI Operations Center deployed traffic shaping policies and optimized buffer configurations on your core router (RTR-CORE-01). The fix was deployed at 10:47 AM and verified successful by 10:48 AM.</p>

            <p><strong>Results:</strong></p>
            <ul>
              <li>✅ Packet loss reduced from 6.6% average to 0.04% (99.4% improvement)</li>
              <li>✅ VoIP call quality improved from 2.8 to 4.3 MOS (Excellent)</li>
              <li>✅ Zero buffer overruns detected</li>
              <li>✅ All remote sites now performing normally</li>
            </ul>

            <p><strong>Next Steps:</strong></p>
            <ul>
              <li>📅 Tonight 8:00 PM: Backup schedule will be moved to 01:00-03:00 AM (off-peak hours)</li>
              <li>📄 Full incident report attached (PDF)</li>
              <li>📞 Network Operations team will contact you to review long-term recommendations</li>
            </ul>

            <p><strong>Resolution Time:</strong> 1 hour 33 minutes (from ticket creation to verified fix)</p>

            <p>The issue is now fully resolved and your network should be performing optimally. If you experience any further issues, please open a new ticket or reply to this email.</p>

            <p><strong>We'd appreciate your feedback!</strong> Please rate your experience: <a href="#">⭐⭐⭐⭐⭐</a></p>

            <p>Thank you for using AI Operations Center!</p>

            <p>Best regards,<br>
            <strong>AI Operations Center</strong><br>
            Powered by MRA + 6 Specialized AI Agents<br>
            📧 aiops-support@xyzcorp.com | 📞 1-800-AIOPS-24</p>
          </div>
          <hr>
          <p><strong>Attachments:</strong></p>
          <ul class="compact-list">
            <li>📎 Incident_Report_67891.pdf (3.2 MB)</li>
            <li>📎 Configuration_Changes_Log.txt (18 KB)</li>
            <li>📎 Verification_Test_Results.xlsx (245 KB)</li>
          </ul>
        </div>

        <div class="success-box">
          <p><strong>🎉 TICKET #67891 - CLOSED</strong></p>
          <ul class="compact-list">
            <li>✅ User notified via email</li>
            <li>✅ Final report delivered</li>
            <li>✅ Documentation archived</li>
            <li>✅ Knowledge base updated</li>
            <li>✅ Change tickets created for Phase 2 & 3</li>
            <li>⏱️ <strong>Total Resolution Time: 1 hour 33 minutes</strong></li>
            <li>🤖 <strong>AI Agents Efficiency: 18 minutes investigation + deployment</strong></li>
            <li>👥 <strong>Human Approval Time: 1 hour 15 minutes (waiting for user response)</strong></li>
          </ul>
        </div>

        <div class="completion-banner">
          <h2>✅ SCENARIO 1 COMPLETE - ALL 25 STEPS IMPLEMENTED</h2>
          <p><strong>Compliance Status: 100% v6 Standard</strong></p>
          <ul class="compact-list">
            <li>✅ Steps 1-5: Alert → IO_AGENT → Classification → MRA → KG</li>
            <li>✅ Steps 6-8: RAG → 3-Source Analysis → Agent Deployment</li>
            <li>✅ Steps 9-13: Specialized Agents with KG/RAG/MCP queries + Inter-Agent Collaboration</li>
            <li>✅ Steps 14-16: Feedback → MRA Correlation → Additional Tasks</li>
            <li>✅ Steps 17-19: RCA Statement → RECOMMENDATIONS_AGENT → Solutions</li>
            <li>✅ Steps 20-23: IO_AGENT Permission → DEPLOYMENT_AGENT → VERIFICATION_AGENT</li>
            <li>✅ Steps 24-25: Final Report → User Notification → Ticket Closed</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .info-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
  }
  
  .deployment-box {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
    padding: 15px;
    margin: 15px 0;
  }
  
  .verification-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
  }
  
  .final-report-box {
    background: #fff3e0;
    border: 2px solid #ff9800;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .notification-box {
    background: #f3e5f5;
    border-left: 4px solid #9c27b0;
    padding: 15px;
    margin: 15px 0;
  }
  
  .email-body {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }
  
  .completion-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: 30px 0;
    border-radius: 10px;
    text-align: center;
  }
  
  .completion-banner h2 {
    margin-top: 0;
    font-size: 24px;
  }
  
  .code-block {
    background: #263238;
    color: #aed581;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
  }
  
  .user-interaction-box {
    background: #fff9e6;
    border: 2px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .recommendation-phase {
    background: white;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    border-left: 3px solid #2196f3;
  }

  .rca-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .collaboration-exchange {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    margin: 15px 0;
    border-left: 3px solid #00ff88;
    border-radius: 4px;
  }

  .collab-from {
    font-weight: bold;
    color: #00aaff;
    margin-bottom: 5px;
  }

  .collab-message {
    font-style: italic;
    margin-left: 20px;
    color: #ccc;
  }

  .collab-response {
    margin-left: 20px;
    margin-top: 10px;
    color: #00ff88;
  }

  .symptom-tag {
    background: #ff9800;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .contributing-tag {
    background: #ffc107;
    color: black;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .root-cause-tag {
    background: #f44336;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }
</style>`
                ]
            },
            'security-breach': {
                title: 'Security Breach',
                icon: '🔒',
                description: 'Detecting and responding to network security incidents',
                initialQuery: 'Show Security Breach Investigation',
                responses: [
                    `<!-- SCENARIO 8: SECURITY BREACH DETECTION  -->


<div class="root-container">
  <h3>Agentic AI - Security Breach Detection v6</h3>
  <p><strong>Complete 25-Step Workflow: Alert → Investigation → Resolution → Verification</strong></p>

  <div class="agent-workflow">

    <!-- STEP 1: ALERT/TICKET GENERATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎫</span>
        <span class="agent-name">MONITORING_SYSTEM → TICKET_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Alert Generated from Security Monitoring:</strong></p>
        <ul class="compact-list">
          <li>⏰ Alert Time: 2025-10-17 09:15:23 AM</li>
          <li>🔍 Alert Source: Cisco Secure Network Analytics (Stealthwatch)</li>
          <li>⚠️ Alert Type: Suspicious Traffic - Potential Data Exfiltration</li>
          <li>🔴 Severity: CRITICAL</li>
          <li>📍 Affected Devices: Finance Workstation WS-FIN-087 → External IP 185.220.102.8</li>
        </ul>
        <div class="change-details">
          <p><strong>Automatic Ticket Creation:</strong></p>
          <ul class="metric-list">
            <li>Ticket ID: <span class="highlight">#SEC-9123</span></li>
            <li>Category: Security Incident</li>
            <li>Subcategory: Data Exfiltration</li>
            <li>Priority: P1 - Critical</li>
            <li>Auto-assigned to: Security Operations Team</li>
          </ul>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Ticket automatically routed to <strong>IO_AGENT</strong>
        </div>
      </div>
    </div>

    <!-- STEP 2: IO_AGENT RECEIVES TICKET -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Ticket #SEC-9123 Received - Initial Problem Statement:</strong></p>
        <div class="change-details">
          <p><strong>Reported By:</strong> Marcus Johnson, Security Operations Team</p>
          <p><strong>Affected Entity:</strong> XYZ Corporation</p>
          <p><strong>Department:</strong> Finance Department</p>
          <p><strong>Users Impacted:</strong> Workstation WS-FIN-087 (potential data breach)</p>
          <p><strong>Initial Problem Description:</strong></p>
          <p>"Suspicious traffic detected - potential data exfiltration to unknown external IP. Our security monitoring system flagged unusual encrypted traffic patterns from a workstation in the Finance department. Large volumes of data being sent to an IP address (185.220.102.8) that doesn't match any known business partner or cloud service. Issue started at 09:15 AM today."</p>
        </div>
        <p><strong>IO_AGENT Status:</strong> Gathering additional context before escalation</p>
      </div>
    </div>

    <!-- STEP 3: IO_AGENT ASKS CLARIFYING QUESTIONS -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT ↔ USER</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>IO_AGENT Asking Clarifying Questions:</strong></p>
        <div class="change-details">
          <div class="question-block">
            <p><strong>Q1: Which specific sites are experiencing packet loss?</strong></p>
            <p class="answer">A1: All 5 remote sites: Chicago, Dallas, Seattle, Denver, Boston</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Are all applications affected or specific ones?</strong></p>
            <p class="answer">A2: All applications affected - CRM (Salesforce), Email (Office 365), File sharing (SMB), VoIP calls</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: When exactly did the packet loss symptoms begin? Is this the first occurrence?</strong></p>
            <p class="answer">A3: Started at 09:15 AM today. Pattern repeats every 30-45 minutes. This has been happening for the past 3 hours.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: What is the business impact? Any critical services down?</strong></p>
            <p class="answer">A4: High business impact - VoIP calls dropping (customer service affected), CRM response times 3-5 seconds (normal: <1 sec), file transfers timing out</p>
          </div>
          <div class="question-block">
            <p><strong>Q5: Have there been any recent network changes or maintenance?</strong></p>
            <p class="answer">A5: No scheduled changes. Last maintenance was 2 weeks ago (unrelated router firmware update)</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 4: PROBLEM CLASSIFICATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Problem Classification Complete:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Classification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Problem Type</td>
                <td>Network Performance Degradation</td>
              </tr>
              <tr>
                <td>Category</td>
                <td>Intermittent Packet Loss</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Multiple Sites (WAN)</td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td>Recurring (30-45 min intervals)</td>
              </tr>
              <tr>
                <td>Priority</td>
                <td><span class="status-tag status-critical">P2 - High</span></td>
              </tr>
              <tr>
                <td>Recommended Agent</td>
                <td>MASTER_REASONING_AGENT</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Escalating to <strong>MASTER_REASONING_AGENT</strong> for systematic investigation
        </div>
      </div>
    </div>

    <!-- STEP 5: MRA DEPLOYMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Taking Ownership - Initializing Investigation:</strong></p>
        <div class="change-details">
          <p><strong>Ticket Analysis:</strong></p>
          <ul class="compact-list">
            <li>✓ Intermittent packet loss with regular intervals suggests scheduled processes or capacity issues</li>
            <li>✓ Affecting all remote sites indicates common path or centralized component</li>
            <li>✓ All applications impacted rules out application-specific issues</li>
            <li>✓ Recent start time (09:15 AM) suggests correlation with business hours activity</li>
          </ul>
          <p><strong>Investigation Strategy:</strong></p>
          <ul class="compact-list">
            <li>1. Query Knowledge Graph for network topology and device configurations</li>
            <li>2. Search RAG system for similar historical incidents</li>
            <li>3. Perform three-source analysis (Problem + KG + RAG)</li>
            <li>4. Deploy specialized agents for targeted investigation</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 6: KNOWLEDGE GRAPH QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📚</span>
        <span class="agent-name">MRA → KNOWLEDGE_GRAPH</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Querying Knowledge Graph for Network Context:</strong></p>
        <div class="change-details">
          <p><strong>Query 1: Network Topology</strong></p>
          <ul class="compact-list">
            <li>✓ Retrieved: XYZ Corp network diagram</li>
            <li>✓ 5 Remote sites: CHI-SITE-01, DAL-SITE-01, SEA-SITE-01, DEN-SITE-01, BOS-SITE-01</li>
            <li>✓ MPLS WAN connecting to primary DC (10.1.0.0/16)</li>
            <li>✓ DC routers: DC-RTR-01 (10.1.1.1), DC-RTR-02 (10.1.1.2) - HSRP active</li>
            <li>✓ Core switches: CORE-SW-01 (10.1.2.1 - ACTIVE), CORE-SW-02 (10.1.2.2 - STANDBY)</li>
          </ul>
          <p><strong>Query 2: Device Configurations</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Device</th>
                  <th>Model</th>
                  <th>OS Version</th>
                  <th>Key Config</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>CORE-SW-01</td>
                  <td>Cisco Catalyst 9500</td>
                  <td>IOS-XE 17.6.3</td>
                  <td>HSRP Priority: 110 (Active)</td>
                </tr>
                <tr>
                  <td>GigE 0/1/0</td>
                  <td>Uplink Interface</td>
                  <td>1 Gbps</td>
                  <td>Buffer: 64KB (default)</td>
                </tr>
                <tr>
                  <td>GigE 0/1/1-2</td>
                  <td>Access Interfaces</td>
                  <td>1 Gbps each</td>
                  <td>No QoS policies</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Query 3: Protocol States</strong></p>
          <ul class="compact-list">
            <li>✓ OSPF: All adjacencies UP (Area 0)</li>
            <li>✓ BGP: All peers established</li>
            <li>✓ HSRP: CORE-SW-01 active, CORE-SW-02 standby (normal)</li>
            <li>✓ MPLS: All LSPs operational</li>
          </ul>
          <p><strong>Query 4: Historical Interface Statistics (Past 7 Days)</strong></p>
          <ul class="metric-list">
            <li>Avg Utilization: <span class="normal-value">35-45%</span> (normal hours)</li>
            <li>Peak Utilization: <span class="warning">85-95%</span> (daily 09:00-11:00)</li>
            <li>Input Errors: <span class="success">0</span></li>
            <li>Output Drops: <span class="problem-value">Spikes to 1,200-1,500</span> during peak</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">KG Data Retrieved</span>
          <span class="finding-tag finding-warning">High Utilization Pattern Detected</span>
        </div>
      </div>
    </div>

    <!-- STEP 7: RAG SYSTEM QUERIES -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">MRA → RAG_SYSTEM</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Searching RAG for Similar Incidents and Solutions:</strong></p>
        <div class="change-details">
          <p><strong>Search Query:</strong> "intermittent packet loss + buffer exhaustion + recurring pattern"</p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Similarity</th>
                  <th>Problem</th>
                  <th>Resolution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>TKT-45621</td>
                  <td><span class="success">89%</span></td>
                  <td>Packet loss during backup window</td>
                  <td>Buffer tuning + traffic shaping</td>
                </tr>
                <tr>
                  <td>TKT-39012</td>
                  <td><span class="success">76%</span></td>
                  <td>Recurring drops every 30 min</td>
                  <td>Traffic shaping policy applied</td>
                </tr>
                <tr>
                  <td>TKT-29834</td>
                  <td><span class="warning">68%</span></td>
                  <td>WAN congestion 09:00-11:00</td>
                  <td>Backup schedule changed</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Retrieved Troubleshooting Documents:</strong></p>
          <ul class="compact-list">
            <li>📄 <strong>Buffer_Tuning_Best_Practices.pdf</strong> (Cisco Doc ID: 118632)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Recommends 128KB-256KB buffers for bursty traffic on 1G interfaces</li>
            <li>📄 <strong>QoS_Design_Guide_Enterprise.pdf</strong> (Cisco Press 2024)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Traffic shaping policies for backup traffic: Limit to 60-70% of link capacity</li>
            <li>📄 <strong>Packet_Loss_Troubleshooting_Flowchart.pdf</strong> (Internal KB-8821)
              <br/>&nbsp;&nbsp;&nbsp;&nbsp;→ Step-by-step guide: Check buffers → QoS → scheduling</li>
          </ul>
          <p><strong>Key Insights from RAG:</strong></p>
          <ul class="compact-list">
            <li>✓ 3 similar incidents resolved with traffic shaping + buffer tuning</li>
            <li>✓ Common root cause: Uncontrolled backup traffic during business hours</li>
            <li>✓ Recommended fix: Immediate traffic shaping, long-term schedule change</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">RAG Data Retrieved</span>
          <span class="finding-tag finding-success">High Confidence Pattern Match</span>
        </div>
      </div>
    </div>

    <!-- STEP 8: THREE-SOURCE ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Three-Source Analysis Complete:</strong></p>
        <div class="change-details">
          <div class="source-analysis">
            <p><strong>1️⃣ Problem Statement:</strong></p>
            <ul class="compact-list">
              <li>Intermittent 5-8% packet loss</li>
              <li>Recurring every 30-45 minutes</li>
              <li>Affecting all 5 remote sites</li>
              <li>Started 09:15 AM, during business hours</li>
              <li>All applications impacted (CRM, Email, VoIP, File sharing)</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>2️⃣ Knowledge Graph Data:</strong></p>
            <ul class="compact-list">
              <li>Traffic flows through CORE-SW-01 (active HSRP)</li>
              <li>GigE 0/1/0: 64KB buffers (default)</li>
              <li>Historical data: 85-95% utilization 09:00-11:00 daily</li>
              <li>Output drops spike to 1,200-1,500 during peak</li>
              <li>No QoS policies configured</li>
            </ul>
          </div>
          <div class="source-analysis">
            <p><strong>3️⃣ RAG Historical Data:</strong></p>
            <ul class="compact-list">
              <li>89% similarity to TKT-45621 (backup traffic issue)</li>
              <li>Historical resolution: Traffic shaping + buffer tuning</li>
              <li>Common pattern: Uncontrolled backup traffic</li>
              <li>Best practice: Limit backup to 60-70% link capacity</li>
            </ul>
          </div>
        </div>
        <p><strong>🎯 MRA Hypothesis:</strong> Scheduled backup operations consuming excessive bandwidth on CORE-SW-01 GigE 0/1/0, causing buffer exhaustion and packet drops. Need to verify with specialized agents.</p>
      </div>
    </div>

    <!-- STEP 9: AGENT DEPLOYMENT ANNOUNCEMENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Deploying Specialized Agents for Targeted Investigation:</strong></p>
        <div class="agent-deployment-grid">
          <div class="deployment-card">
            <div class="deployment-icon">🗺️</div>
            <div class="deployment-name">TOPOLOGY_AGENT</div>
            <div class="deployment-task">Verify traffic paths</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🚨</div>
            <div class="deployment-name">TRAFFIC_ANOMALY_AGENT</div>
            <div class="deployment-task">Detect abnormal traffic patterns</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🛡️</div>
            <div class="deployment-name">THREAT_INTELLIGENCE_AGENT</div>
            <div class="deployment-task">Check IP reputation & threat feeds</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">📋</div>
            <div class="deployment-name">LOG_CORRELATION_AGENT</div>
            <div class="deployment-task">Correlate security logs</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔍</div>
            <div class="deployment-name">FORENSICS_AGENT</div>
            <div class="deployment-task">Perform endpoint forensics</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">🔧</div>
            <div class="deployment-name">ROOT_CAUSE_AGENT</div>
            <div class="deployment-task">Correlate all findings</div>
          </div>
          <div class="deployment-card">
            <div class="deployment-icon">⚡</div>
            <div class="deployment-name">REMEDIATION_AGENT</div>
            <div class="deployment-task">Execute incident response</div>
          </div>
        </div>
        <p><strong>Total: 6 Specialized Agents Deployed</strong></p>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Deployed</span>
        </div>
      </div>
    </div>

    <!-- STEP 10: TOPOLOGY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🗺️</span>
        <span class="agent-name">TOPOLOGY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Topology Verification via Knowledge Graph & MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved stored topology (last updated: 2025-10-15)</li>
            <li>🔌 <strong>MCP NETCONF:</strong> Live routing tables from DC-RTR-01, DC-RTR-02</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show cdp neighbors from CORE-SW-01</li>
          </ul>
          <p><strong>Traffic Path Analysis:</strong></p>
          <ul class="compact-list">
            <li>Remote Sites → MPLS Cloud → DC-RTR-01 (10.1.1.1)</li>
            <li>DC-RTR-01 → CORE-SW-01 GigE 0/1/0 (1 Gbps uplink)</li>
            <li>CORE-SW-01 → Internal servers via GigE 0/1/1-2</li>
            <li><strong>Bottleneck Identified:</strong> All 5 sites converge on single GigE 0/1/0 interface</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ All routing paths established correctly</li>
          <li>✅ HSRP failover ready (CORE-SW-02 standby)</li>
          <li>✅ No routing loops detected</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>⚠️ Single point of convergence (GigE 0/1/0) - potential bottleneck</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-warning">Potential Bottleneck: GigE 0/1/0</span>
        </div>
      </div>
    </div>

    <!-- Continue with remaining steps in next part due to length... -->
    <!-- This file demonstrates the structure. Full implementation continues similarly -->

  </div>
</div>

<style>
  .question-block {
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border-left: 3px solid #00aaff;
    border-radius: 5px;
  }

  .question-block p {
    margin: 5px 0;
  }

  .question-block .answer {
    color: #00ff88;
    margin-left: 20px;
    font-style: italic;
  }

  .source-analysis {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
  }

  .agent-deployment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .deployment-card {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid #00ff88;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
  }

  .deployment-icon {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .deployment-name {
    font-weight: 600;
    color: #00ff88;
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .deployment-task {
    font-size: 0.75rem;
    color: #888;
  }
</style>

    <!-- STEP 11: TRAFFIC_ANOMALY_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚨</span>
        <span class="agent-name">TRAFFIC_ANOMALY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Traffic Pattern Analysis via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved 7-day traffic baseline from data warehouse</li>
            <li>🔌 <strong>MCP IPFIX/NetFlow:</strong> Real-time flow data from CORE-SW-01</li>
            <li>🔌 <strong>MCP SNMP:</strong> Interface utilization counters (5-min granularity)</li>
          </ul>
          <p><strong>Traffic Analysis Results:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Time Window</th>
                  <th>Traffic Volume</th>
                  <th>Top Protocol</th>
                  <th>Utilization</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>00:00-08:00</td>
                  <td>150-200 Mbps</td>
                  <td>HTTPS (40%)</td>
                  <td><span class="success">15-20%</span></td>
                </tr>
                <tr>
                  <td>08:00-09:00</td>
                  <td>400-500 Mbps</td>
                  <td>HTTPS (50%)</td>
                  <td><span class="success">40-50%</span></td>
                </tr>
                <tr>
                  <td>09:00-11:00</td>
                  <td>920-950 Mbps</td>
                  <td>SMB/CIFS (65%)</td>
                  <td><span class="problem-value">92-95%</span></td>
                </tr>
                <tr>
                  <td>11:00-17:00</td>
                  <td>450-550 Mbps</td>
                  <td>HTTPS (55%)</td>
                  <td><span class="success">45-55%</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Key Finding:</strong> SMB/CIFS (file sharing protocol) traffic spikes to 65% of total during 09:00-11:00 window.</p>
          <p><strong>Source IP Analysis:</strong></p>
          <ul class="compact-list">
            <li>Top talker: 10.100.50.10 (Backup Server) → 620 Mbps</li>
            <li>Destinations: All 5 remote sites (120-130 Mbps each)</li>
            <li>Pattern: Scheduled backup operations</li>
          </ul>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Normal business hours traffic: 400-550 Mbps</li>
          <li>✅ Application mix appropriate outside backup window</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Backup traffic: 620 Mbps during business hours</li>
          <li>❌ Total traffic 950 Mbps on 1G interface (95% utilization)</li>
          <li>❌ Correlation confirmed: Backup window = packet loss window</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Backup Traffic Correlation Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 12: THREAT_INTELLIGENCE_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🛡️</span>
        <span class="agent-name">THREAT_INTELLIGENCE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Interface Health Check via MCP Servers:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>MCP NETCONF:</strong> ietf-interfaces module from CORE-SW-01</li>
            <li>🔌 <strong>MCP SNMP:</strong> IF-MIB interface statistics</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show interface GigabitEthernet 0/1/0</li>
          </ul>
          <p><strong>Interface GigE 0/1/0 Statistics:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Current Value</th>
                  <th>Threshold</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Input Errors</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>CRC Errors</td>
                  <td>0</td>
                  <td>< 5</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
                <tr>
                  <td>Output Drops</td>
                  <td>1,247 (past hour)</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-critical">CRITICAL</span></td>
                </tr>
                <tr>
                  <td>Buffer Overruns</td>
                  <td>1,247</td>
                  <td>< 5</td>
                  <td><span class="status-tag status-critical">CRITICAL</span></td>
                </tr>
                <tr>
                  <td>Collisions</td>
                  <td>0</td>
                  <td>< 10</td>
                  <td><span class="status-tag status-success">OK</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Physical Layer:</strong> Link up, Full-duplex, 1000 Mbps, Copper</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ GigE 0/1/1: Clean (0 errors, 0 drops)</li>
          <li>✅ GigE 0/1/2: Clean (0 errors, 0 drops)</li>
          <li>✅ Physical layer healthy on GigE 0/1/0</li>
          <li>✅ No input errors (excludes upstream issues)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ GigE 0/1/0: Output drops = 1,247 (past hour)</li>
          <li>❌ Buffer overruns = 1,247 (exactly matching drops)</li>
          <li>❌ Drop rate: 8.2% during peak periods</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Buffer Overruns Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 13: LOG_CORRELATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">LOG_CORRELATION_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Buffer Configuration & Utilization Analysis:</strong></p>
        <div class="change-details">
          <p><strong>Data Sources:</strong></p>
          <ul class="compact-list">
            <li>🔌 <strong>KG Query:</strong> Retrieved buffer config from device inventory</li>
            <li>🔌 <strong>MCP CLI (SSH):</strong> show controllers GigabitEthernet 0/1/0</li>
            <li>🔌 <strong>RAG Query:</strong> "buffer sizing + 1G interface + bursty traffic"</li>
          </ul>
          <p><strong>Current Buffer Configuration:</strong></p>
          <ul class="metric-list">
            <li>Buffer Size: <span class="problem-value">64 KB</span> (default)</li>
            <li>Buffer Type: FIFO (no priority queuing)</li>
            <li>Queue Depth: 512 packets</li>
            <li>Current Utilization: <span class="problem-value">98-100%</span> during peak</li>
          </ul>
          <p><strong>RAG Best Practices Comparison:</strong></p>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Parameter</th>
                  <th>Current</th>
                  <th>Recommended</th>
                  <th>Reason</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Buffer Size</td>
                  <td><span class="problem-value">64 KB</span></td>
                  <td><span class="success">128-256 KB</span></td>
                  <td>Bursty traffic absorption</td>
                </tr>
                <tr>
                  <td>Queue Type</td>
                  <td><span class="problem-value">FIFO</span></td>
                  <td><span class="success">WFQ/CBWFQ</span></td>
                  <td>Traffic prioritization</td>
                </tr>
                <tr>
                  <td>Traffic Shaping</td>
                  <td><span class="problem-value">None</span></td>
                  <td><span class="success">Enabled</span></td>
                  <td>Rate limiting backup traffic</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Calculation:</strong> At 950 Mbps on 1G interface, with 950ms bursts, minimum buffer = 118 KB needed (current: 64 KB = insufficient)</p>
        </div>
        <p><strong>Working List:</strong></p>
        <ul class="compact-list">
          <li>✅ Buffer size adequate for normal traffic (400-550 Mbps)</li>
        </ul>
        <p><strong>Not Working List:</strong></p>
        <ul class="compact-list">
          <li>❌ Buffer size insufficient for burst traffic (950 Mbps)</li>
          <li>❌ No traffic shaping to control bursts</li>
          <li>❌ FIFO queuing cannot prioritize critical traffic</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Buffer Exhaustion Root Cause</span>
        </div>
      </div>
    </div>

    <!-- STEP 14: INTER-AGENT COLLABORATION -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💬</span>
        <span class="agent-name">AGENT_COLLABORATION</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Inter-Agent Communication & Task Delegation:</strong></p>
        <div class="change-details">
          <div class="collaboration-exchange">
            <p><strong>Exchange 1:</strong></p>
            <p class="collab-from">🗺️ TOPOLOGY_AGENT → 📊 TRAFFIC_ANALYSIS_AGENT:</p>
            <p class="collab-message">"I've identified GigE 0/1/0 as the convergence point. Can you analyze traffic patterns specifically on this interface during 09:00-11:00 window?"</p>
            <p class="collab-response">📊 Response: "Confirmed. Focusing NetFlow analysis on GigE 0/1/0. Will correlate with packet loss timing."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 2:</strong></p>
            <p class="collab-from">📊 TRAFFIC_ANALYSIS_AGENT → 🔌 INTERFACE_STATS_AGENT:</p>
            <p class="collab-message">"Seeing 950 Mbps on GigE 0/1/0 during 09:00-11:00. Suspect buffer issues. Can you check output drops and buffer overruns on this specific interface?"</p>
            <p class="collab-response">🔌 Response: "Will prioritize GigE 0/1/0. Querying SNMP counters now."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 3:</strong></p>
            <p class="collab-from">🔌 INTERFACE_STATS_AGENT → 💾 BUFFER_ANALYSIS_AGENT:</p>
            <p class="collab-message">"Confirmed 1,247 buffer overruns on GigE 0/1/0. Output drops match exactly. Need buffer config analysis. What's the current buffer size and is it adequate for 950 Mbps bursts?"</p>
            <p class="collab-response">💾 Response: "Checking buffer config now. Will compare against best practices for bursty traffic."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 4:</strong></p>
            <p class="collab-from">💾 BUFFER_ANALYSIS_AGENT → 📊 TRAFFIC_ANALYSIS_AGENT:</p>
            <p class="collab-message">"Buffer size is 64 KB (default). Calculation shows need for 118 KB at 950 Mbps. Can you identify what traffic is causing the 950 Mbps burst?"</p>
            <p class="collab-response">📊 Response: "Identified: 620 Mbps from backup server (10.100.50.10) using SMB/CIFS protocol to all 5 remote sites."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Exchange 5:</strong></p>
            <p class="collab-from">📊 TRAFFIC_ANALYSIS_AGENT → 🔧 ROOT_CAUSE_AGENT:</p>
            <p class="collab-message">"All evidence points to scheduled backup traffic. Buffer exhaustion confirmed by BUFFER_ANALYSIS_AGENT. Ready for correlation."</p>
            <p class="collab-response">🔧 Response: "Acknowledged. Collecting all findings for root cause determination."</p>
          </div>
          <div class="collaboration-exchange">
            <p><strong>Dynamic Task Adjustment:</strong></p>
            <ul class="compact-list">
              <li>✓ TOPOLOGY_AGENT narrowed focus to GigE 0/1/0 based on traffic data</li>
              <li>✓ INTERFACE_STATS_AGENT prioritized buffer counters based on traffic analysis</li>
              <li>✓ BUFFER_ANALYSIS_AGENT added burst calculation based on traffic volume</li>
              <li>✓ All agents converged on backup traffic hypothesis</li>
            </ul>
          </div>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">Agents Collaborating Effectively</span>
        </div>
      </div>
    </div>

    <!-- STEP 15: ROOT_CAUSE_AGENT -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">ROOT_CAUSE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Root Cause Analysis - Correlating All Agent Findings:</strong></p>
        <div class="change-details">
          <p><strong>Evidence Compilation:</strong></p>
          <ul class="compact-list">
            <li>✓ TOPOLOGY_AGENT: All traffic converges on GigE 0/1/0</li>
            <li>✓ TRAFFIC_ANALYSIS_AGENT: 620 Mbps backup traffic 09:00-11:00</li>
            <li>✓ INTERFACE_STATS_AGENT: 1,247 output drops = buffer overruns</li>
            <li>✓ BUFFER_ANALYSIS_AGENT: 64 KB buffers insufficient for 950 Mbps</li>
            <li>✓ RAG Historical Data: 89% similarity to TKT-45621 (backup issue)</li>
          </ul>
          <p><strong>Timeline Correlation:</strong></p>
          <ul class="metric-list">
            <li>09:15 AM: Backup starts → Traffic spikes to 950 Mbps</li>
            <li>09:16 AM: Buffer exhaustion → Packet drops begin (8.2%)</li>
            <li>09:17 AM: User reports → VoIP calls drop, apps slow</li>
            <li>Pattern repeats: Every 30-45 minutes for 3 hours</li>
          </ul>
        </div>
        <p><strong>Root Cause Statement:</strong></p>
        <div class="rca-box">
          <p><strong>PRIMARY ROOT CAUSE:</strong></p>
          <p>Compromised workstation (WS-FIN-087) in Finance department infected with malware, establishing C2 (Command & Control) communication with external IP 185.220.102.8, exfiltrating sensitive company data via encrypted channel. The workstation was compromised via phishing email with malicious attachment opened 3 days ago.</p>
          <p><strong>CONTRIBUTING FACTORS:</strong></p>
          <ul class="compact-list">
            <li>1. User clicked on phishing email attachment bypassing email security</li>
            <li>2. Endpoint protection on workstation WS-FIN-087 had outdated signatures (7 days old)</li>
            <li>3. No egress filtering policy blocking traffic to known malicious IPs</li>
            <li>4. Insufficient network segmentation allowing lateral movement from Finance VLAN</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Root Cause Confirmed</span>
        </div>
      </div>
    </div>

    <!-- STEP 16: MRA CORRELATION ANALYSIS -->
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Correlation Analysis - Symptoms vs. Causes:</strong></p>
        <div class="change-details">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Observation</th>
                  <th>Type</th>
                  <th>Severity</th>
                  <th>Relationship</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Users reporting slow applications</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>User-observed impact</td>
                </tr>
                <tr>
                  <td>VoIP calls dropping</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Time-sensitive traffic affected</td>
                </tr>
                <tr>
                  <td>5-8% packet loss</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Network-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 buffer overruns</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Device-level symptom</td>
                </tr>
                <tr>
                  <td>1,247 output drops</td>
                  <td><span class="symptom-tag">SYMPTOM</span></td>
                  <td>High</td>
                  <td>Direct result of buffer exhaustion</td>
                </tr>
                <tr>
                  <td>95% interface utilization</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Causes buffer pressure</td>
                </tr>
                <tr>
                  <td>620 Mbps backup traffic</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>High</td>
                  <td>Major bandwidth consumer</td>
                </tr>
                <tr>
                  <td>64 KB buffer (insufficient)</td>
                  <td><span class="contributing-tag">CONTRIBUTING FACTOR</span></td>
                  <td>Medium</td>
                  <td>Cannot absorb bursts</td>
                </tr>
                <tr>
                  <td>Backup during business hours</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Triggers the issue</td>
                </tr>
                <tr>
                  <td>No traffic shaping policy</td>
                  <td><span class="root-cause-tag">ROOT CAUSE</span></td>
                  <td>Critical</td>
                  <td>Allows uncontrolled traffic</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with backup traffic schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

                </tr>
              </tbody>
            </table>
          </div>
          <p><strong>Commonalities Identified:</strong></p>
          <ul class="compact-list">
            <li>✓ All symptoms occur only during 09:00-11:00 window</li>
            <li>✓ All symptoms correlate with backup traffic schedule</li>
            <li>✓ All symptoms resolve when backup completes</li>
            <li>✓ Pattern is 100% repeatable</li>
          </ul>
        </div>
        <p><strong>MRA Decision: Root cause confirmed. No additional investigation needed. Proceeding to resolution phase.</strong></p>
      </div>
    </div>

    <!-- STEP 17: Additional Task Assignment (if needed) -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🎯</span>
        <span class="agent-name">STEP 17: MRA - Additional Task Assignment</span>
        <span class="status-badge">Evaluated</span>
      </div>
      <div class="agent-content">
        <p><strong>MRA Evaluation:</strong></p>
        <div class="info-box">
          <p>✓ Root cause clearly identified: Backup traffic during business hours without traffic shaping</p>
          <p>✓ All specialized agents have completed their investigations</p>
          <p>✓ Findings are conclusive and correlated</p>
          <p>✓ Sufficient data collected from KG, RAG, and MCP servers</p>
          <p><strong>Decision: No additional investigation tasks required. Proceeding directly to resolution recommendations.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 18: Clear RCA Statement -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">STEP 18: ROOT CAUSE ANALYSIS - Final Statement</span>
        <span class="status-badge">Confirmed</span>
      </div>
      <div class="agent-content">
        <div class="success-box">
          <h3>🎯 ROOT CAUSE ANALYSIS STATEMENT</h3>
          <p><strong>Primary Root Cause:</strong></p>
          <p class="highlight">Compromised workstation WS-FIN-087 in Finance department infected with malware, actively exfiltrating sensitive data to C2 server at IP 185.220.102.8. The workstation was compromised 3 days ago via phishing email with malicious attachment that bypassed email security filters.</p>

          <p><strong>Contributing Factors:</strong></p>
          <ul class="compact-list">
            <li>• Endpoint protection signatures on WS-FIN-087 were 7 days out of date</li>
            <li>• No egress traffic filtering blocking connections to known malicious IPs</li>
            <li>• Insufficient user security awareness training on phishing threats</li>
            <li>• Lack of network segmentation allowing Finance VLAN unrestricted internet access</li>
          </ul>

          <p><strong>Evidence Supporting RCA:</strong></p>
          <ul class="compact-list">
            <li>✓ Network flow logs show 2.3 GB encrypted data sent to 185.220.102.8 over 3 days</li>
            <li>✓ Threat intelligence confirms 185.220.102.8 is known C2 server (AbuseIPDB score: 100/100)</li>
            <li>✓ Endpoint forensics found malware binary "invoice_2025.pdf.exe" in user downloads folder</li>
            <li>✓ Email logs confirm phishing email received on Oct 14, attachment opened at 2:34 PM</li>
            <li>✓ Process analysis shows malware establishing persistent registry run key</li>
          </ul>

          <p><strong>Business Impact:</strong></p>
          <ul class="compact-list">
            <li>🔴 Critical: Potential breach of sensitive financial data (customer payment information)</li>
            <li>🔴 Critical: Regulatory compliance violation (PCI-DSS, SOX reporting requirements)</li>
            <li>🔴 Critical: Reputational damage if customer data was compromised</li>
            <li>⏱️ Duration: Active compromise for 3 days - estimated 2.3 GB data exfiltrated</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 19: REMEDIATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚡</span>
        <span class="agent-name">STEP 19: REMEDIATION_AGENT - Solution Design</span>
        <span class="status-badge">Analyzing</span>
      </div>
      <div class="agent-content">
        <p><strong>REMEDIATION_AGENT Querying Systems:</strong></p>
        <ul class="compact-list">
          <li>📚 KG Query: Retrieved best practice QoS templates for Cisco routers</li>
          <li>📚 RAG Query: Retrieved 3 successful resolution playbooks from similar tickets</li>
          <li>🔧 MCP Server: Retrieved current QoS configuration (none configured)</li>
        </ul>

        <div class="info-box">
          <h3>🎯 THREE-PHASE REMEDIATION PLAN</h3>

          <p><strong>PHASE 1: IMMEDIATE (Deploy within 30 minutes)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 1.1 - Implement Traffic Shaping Policy on GigE 0/1/0</strong></p>
            <ul class="compact-list">
              <li>✓ Limit backup traffic to 40% of link capacity (260 Mbps)</li>
              <li>✓ Reserve 50% for business-critical traffic (325 Mbps)</li>
              <li>✓ Reserve 10% for network management (65 Mbps)</li>
              <li>⏱️ Deployment time: 5 minutes via NETCONF</li>
              <li>📊 Expected impact: Reduce packet loss from 8% to <0.5%</li>
            </ul>

            <p><strong>Action 1.2 - Increase Interface Buffer Size</strong></p>
            <ul class="compact-list">
              <li>✓ Increase GigE 0/1/0 buffer from 64 KB to 256 KB</li>
              <li>✓ Enable weighted fair queueing (WFQ)</li>
              <li>⏱️ Deployment time: 3 minutes via NETCONF</li>
              <li>📊 Expected impact: Eliminate buffer overruns</li>
            </ul>
          </div>

          <p><strong>PHASE 2: SHORT-TERM (Deploy within 24 hours)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 2.1 - Reschedule Backup Window</strong></p>
            <ul class="compact-list">
              <li>✓ Move backup from 09:00-11:00 AM to 01:00-03:00 AM (off-peak)</li>
              <li>✓ Coordinate with backup team and change management</li>
              <li>⏱️ Implementation: Tonight 8:00 PM</li>
              <li>📊 Expected impact: Eliminate daytime congestion entirely</li>
            </ul>
          </div>

          <p><strong>PHASE 3: LONG-TERM (Deploy within 30 days)</strong></p>
          <div class="recommendation-phase">
            <p><strong>Action 3.1 - Comprehensive QoS Implementation</strong></p>
            <ul class="compact-list">
              <li>✓ Deploy class-based QoS across all WAN interfaces</li>
              <li>✓ Implement priority queuing for VoIP (guaranteed bandwidth)</li>
              <li>✓ Implement DSCP marking for application prioritization</li>
              <li>⏱️ Rollout: Phased deployment over 2 weeks</li>
            </ul>

            <p><strong>Action 3.2 - WAN Link Capacity Upgrade</strong></p>
            <ul class="compact-list">
              <li>✓ Evaluate upgrade from 650 Mbps to 1 Gbps MPLS link</li>
              <li>✓ Cost-benefit analysis vs. SD-WAN implementation</li>
              <li>⏱️ Timeline: 30-day evaluation period</li>
            </ul>

            <p><strong>Action 3.3 - Enhanced Monitoring</strong></p>
            <ul class="compact-list">
              <li>✓ Implement real-time bandwidth utilization alerts (>80% threshold)</li>
              <li>✓ Enable NetFlow collection on all WAN interfaces</li>
              <li>✓ Create dashboard for QoS queue statistics</li>
            </ul>
          </div>
        </div>

        <p><strong>Risk Assessment:</strong></p>
        <table class="data-table">
          <thead>
            <tr>
              <th>Action</th>
              <th>Risk Level</th>
              <th>Mitigation</th>
              <th>Rollback Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Traffic shaping policy</td>
              <td><span class="success">LOW</span></td>
              <td>Non-disruptive, can adjust limits</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Buffer size increase</td>
              <td><span class="success">LOW</span></td>
              <td>No downtime required</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td>Backup rescheduling</td>
              <td><span class="warning">MEDIUM</span></td>
              <td>Test backup completion before production</td>
              <td>N/A (schedule change)</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Success Criteria:</strong></p>
        <ul class="compact-list">
          <li>✓ Confirm malicious traffic to 185.220.102.8 completely stopped</li>
          <li>✓ Workstation WS-FIN-087 successfully quarantined and isolated</li>
          <li>✓ C2 IP 185.220.102.8 blocked at firewall (0 packets allowed)</li>
          <li>✓ No other infected hosts detected in network scan</li>
          <li>✓ Malware binary removed and endpoint reimaged</li>
        </ul>
      </div>
    </div>

    <!-- STEP 20: Recommendations to IO_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📤</span>
        <span class="agent-name">STEP 20: REMEDIATION_AGENT → IO_AGENT</span>
        <span class="status-badge">Transmitted</span>
      </div>
      <div class="agent-content">
        <p><strong>REMEDIATION_AGENT → IO_AGENT Communication:</strong></p>
        <div class="info-box">
          <p>💡 <strong>Message:</strong> "I have completed the incident response plan based on RCA findings, threat intelligence, and security playbooks. I recommend proceeding with IMMEDIATE ACTIONS (isolate workstation + block C2 IP + initiate forensics) to contain the breach and stop data exfiltration within 5 minutes."</p>
          <p><strong>Attachments to IO_AGENT:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete 3-phase remediation plan</li>
            <li>📄 NETCONF configuration snippets for deployment</li>
            <li>📄 Risk assessment matrix</li>
            <li>📄 Success criteria and verification tests</li>
            <li>📄 Rollback procedures</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- STEP 21: User Permission Request -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">👤</span>
        <span class="agent-name">STEP 21: IO_AGENT → USER - Permission Request</span>
        <span class="status-badge">Awaiting Response</span>
      </div>
      <div class="agent-content">
        <div class="user-interaction-box">
          <p><strong>📢 IO_AGENT to User (John Smith):</strong></p>
          <p>"John, our AI agents have completed the investigation of ticket #SEC-9123 (security breach investigation)."</p>

          <p><strong>Summary:</strong></p>
          <ul class="compact-list">
            <li>🎯 Root Cause: Compromised workstation WS-FIN-087 exfiltrating data to C2 server 185.220.102.8</li>
            <li>📊 Impact: 2.3 GB sensitive data exfiltrated over 3 days - active breach in progress</li>
            <li>⏱️ Affecting: Finance Department - customer payment data potentially compromised</li>
          </ul>

          <p><strong>Recommended Immediate Actions (CRITICAL - DO NOW):</strong></p>
          <ul class="compact-list">
            <li>1️⃣ Isolate workstation WS-FIN-087 from network (quarantine VLAN)</li>
            <li>2️⃣ Block C2 IP 185.220.102.8 at perimeter firewall (deny all traffic)</li>
            <li>3️⃣ Initiate full endpoint forensics and malware removal</li>
            <li>⏱️ Total containment time: ~5 minutes</li>
            <li>📉 Expected result: Data exfiltration stopped, breach contained</li>
            <li>🔄 Forensic investigation: 2-4 hours for complete analysis</li>
          </ul>

          <p><strong>❓ Questions for User:</strong></p>
          <div class="question-block">
            <p><strong>Q1: Do you approve immediate containment actions (isolate workstation + block C2 IP)?</strong></p>
            <p class="answer">✅ A1: Yes, approved. This is a critical security incident - proceed immediately.</p>
          </div>
          <div class="question-block">
            <p><strong>Q2: Should we notify the Security Operations Center and initiate full incident response protocol?</strong></p>
            <p class="answer">✅ A2: Yes, immediately. Escalate to CISO and Legal team for breach notification assessment.</p>
          </div>
          <div class="question-block">
            <p><strong>Q3: Should we scan the entire Finance VLAN for additional compromised hosts?</strong></p>
            <p class="answer">✅ A3: Yes, run full network-wide threat hunt to identify any lateral movement.</p>
          </div>
          <div class="question-block">
            <p><strong>Q4: Who should receive the incident response report?</strong></p>
            <p class="answer">✅ A4: Send to me (marcus.johnson@xyzcorp.com), CISO, and security-ops@xyzcorp.com</p>
          </div>
        </div>
        <p><strong>✅ User Permission Granted: Proceeding to deployment phase</strong></p>
      </div>
    </div>

    <!-- STEP 22: DEPLOYMENT_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🚀</span>
        <span class="agent-name">STEP 22: DEPLOYMENT_AGENT - Configuration Deployment</span>
        <span class="status-badge">Deploying</span>
      </div>
      <div class="agent-content">
        <p><strong>DEPLOYMENT_AGENT Initiated - Deployment Plan:</strong></p>
        <ul class="compact-list">
          <li>🎯 Target Device: RTR-CORE-01 (Interface GigE 0/1/0)</li>
          <li>🔧 Deployment Method: NETCONF over SSH (Port 830)</li>
          <li>⏱️ Start Time: 2025-10-17 10:47:15 AM</li>
          <li>👤 Authorized By: John Smith (john.smith@xyzcorp.com)</li>
          <li>🎫 Change Ticket: CHG-2025-1017-001</li>
        </ul>

        <div class="deployment-box">
          <p><strong>📝 ACTION 1: Deploy Traffic Shaping Policy</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;policy&gt;
      &lt;policy-map&gt;
        &lt;name&gt;WAN-TRAFFIC-SHAPING&lt;/name&gt;
        &lt;class&gt;
          &lt;name&gt;BACKUP-TRAFFIC&lt;/name&gt;
          &lt;police&gt;
            &lt;rate&gt;260000000&lt;/rate&gt;  &lt;!-- 260 Mbps --&gt;
            &lt;burst&gt;8000000&lt;/burst&gt;
            &lt;conform-action&gt;transmit&lt;/conform-action&gt;
            &lt;exceed-action&gt;drop&lt;/exceed-action&gt;
          &lt;/police&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;BUSINESS-CRITICAL&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;50&lt;/percent&gt;  &lt;!-- 325 Mbps reserved --&gt;
          &lt;/bandwidth&gt;
          &lt;priority&gt;
        &lt;/class&gt;
        &lt;class&gt;
          &lt;name&gt;NETWORK-MGMT&lt;/name&gt;
          &lt;bandwidth&gt;
            &lt;percent&gt;10&lt;/percent&gt;  &lt;!-- 65 Mbps reserved --&gt;
          &lt;/bandwidth&gt;
        &lt;/class&gt;
      &lt;/policy-map&gt;
    &lt;/policy&gt;
    &lt;interface&gt;
      &lt;GigabitEthernet&gt;
        &lt;name&gt;0/1/0&lt;/name&gt;
        &lt;service-policy&gt;
          &lt;output&gt;WAN-TRAFFIC-SHAPING&lt;/output&gt;
        &lt;/service-policy&gt;
      &lt;/GigabitEthernet&gt;
    &lt;/interface&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:18 - NETCONF session established to RTR-CORE-01</li>
            <li>⏱️ 10:47:22 - Configuration validated (no syntax errors)</li>
            <li>⏱️ 10:47:25 - Policy-map WAN-TRAFFIC-SHAPING created</li>
            <li>⏱️ 10:47:28 - Classes configured: BACKUP-TRAFFIC, BUSINESS-CRITICAL, NETWORK-MGMT</li>
            <li>⏱️ 10:47:31 - Service policy applied to GigE 0/1/0 output</li>
            <li>✅ 10:47:33 - <strong>ACTION 1 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <div class="deployment-box">
          <p><strong>📝 ACTION 2: Increase Interface Buffer Size</strong></p>
          <p><strong>NETCONF Configuration:</strong></p>
          <pre class="code-block">&lt;config&gt;
  &lt;native xmlns="http://cisco.com/ns/yang/Cisco-IOS-XE-native"&gt;
    &lt;interface&gt;
      &lt;GigabitEthernet&gt;
        &lt;name&gt;0/1/0&lt;/name&gt;
        &lt;hold-queue&gt;256&lt;/hold-queue&gt;  &lt;!-- 256 KB buffer --&gt;
        &lt;tx-ring-limit&gt;512&lt;/tx-ring-limit&gt;
        &lt;fair-queue&gt;
          &lt;weight&gt;true&lt;/weight&gt;  &lt;!-- Enable WFQ --&gt;
        &lt;/fair-queue&gt;
      &lt;/GigabitEthernet&gt;
    &lt;/interface&gt;
  &lt;/native&gt;
&lt;/config&gt;</pre>
          <p><strong>Deployment Status:</strong></p>
          <ul class="compact-list">
            <li>⏱️ 10:47:35 - Applying buffer configuration to GigE 0/1/0</li>
            <li>⏱️ 10:47:38 - Hold-queue increased from 64 to 256 packets</li>
            <li>⏱️ 10:47:41 - TX ring limit set to 512</li>
            <li>⏱️ 10:47:43 - Weighted Fair Queuing (WFQ) enabled</li>
            <li>✅ 10:47:45 - <strong>ACTION 2 COMPLETED SUCCESSFULLY</strong></li>
          </ul>
        </div>

        <p><strong>📊 Post-Deployment Verification:</strong></p>
        <ul class="compact-list">
          <li>✅ Configuration committed to device running-config</li>
          <li>✅ Configuration saved to startup-config (automatic backup)</li>
          <li>✅ NETCONF session closed gracefully</li>
          <li>⏱️ Total Deployment Time: 30 seconds</li>
          <li>🎉 <strong>PHASE 1 DEPLOYMENT COMPLETE - No errors encountered</strong></li>
        </ul>
      </div>
    </div>

    <!-- STEP 23: VERIFICATION_AGENT -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">STEP 23: VERIFICATION_AGENT - Post-Deployment Validation</span>
        <span class="status-badge">Verifying</span>
      </div>
      <div class="agent-content">
        <p><strong>VERIFICATION_AGENT Executing Post-Deployment Tests:</strong></p>
        <p>⏱️ Verification Start Time: 2025-10-17 10:48:00 AM (15 seconds after deployment)</p>

        <div class="verification-box">
          <p><strong>TEST 1: Verify Traffic Shaping Policy Active</strong></p>
          <p><strong>MCP Server Query (CLI via SSH):</strong></p>
          <pre class="code-block">RTR-CORE-01# show policy-map interface GigE 0/1/0

GigabitEthernet0/1/0
  Service-policy output: WAN-TRAFFIC-SHAPING
    Class-map: BACKUP-TRAFFIC (match-any)
      Police: 260000000 bps, 8000000 byte burst
        Conformed: 245321 packets, 253.4 Mbps
        Exceeded: 8932 packets (dropped)
        Conform rate: 95.2% | Exceed rate: 4.8%

    Class-map: BUSINESS-CRITICAL (match-any)
      Bandwidth: 50% (325 Mbps guaranteed)
        Packets: 182934 packets, 298.7 Mbps
        Priority queue: Active

    Class-map: NETWORK-MGMT (match-any)
      Bandwidth: 10% (65 Mbps guaranteed)
        Packets: 15432 packets, 18.3 Mbps</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Traffic shaping policy actively policing traffic</p>
          <ul class="compact-list">
            <li>✓ Backup traffic limited to 253.4 Mbps (target: 260 Mbps)</li>
            <li>✓ Business-critical traffic receiving guaranteed bandwidth</li>
            <li>✓ Policy already dropping excess backup packets (8,932 dropped)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 2: Verify Buffer Configuration</strong></p>
          <p><strong>MCP Server Query (NETCONF):</strong></p>
          <pre class="code-block">RTR-CORE-01# show interfaces GigE 0/1/0 | include queue
  Output queue: 0/256 (size/max)
  TX ring: 512
  Queueing strategy: weighted fair
  Output drops: 0 (in last 60 seconds)</pre>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Buffer configuration applied correctly</p>
          <ul class="compact-list">
            <li>✓ Hold-queue size increased to 256 (previously 64)</li>
            <li>✓ TX ring limit set to 512</li>
            <li>✓ Weighted Fair Queuing active</li>
            <li>✓ Zero output drops in last 60 seconds</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 3: Verify Packet Loss Reduction</strong></p>
          <p><strong>MCP Server Query (SNMP + NetFlow):</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Site</th>
                <th>Packet Loss (Before)</th>
                <th>Packet Loss (After)</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Chicago</td>
                <td><span class="error">8.2%</span></td>
                <td><span class="success">0.08%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Dallas</td>
                <td><span class="error">7.5%</span></td>
                <td><span class="success">0.05%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Seattle</td>
                <td><span class="error">6.8%</span></td>
                <td><span class="success">0.03%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Denver</td>
                <td><span class="error">5.4%</span></td>
                <td><span class="success">0.01%</span></td>
                <td>✅ FIXED</td>
              </tr>
              <tr>
                <td>Boston</td>
                <td><span class="error">5.1%</span></td>
                <td><span class="success">0.02%</span></td>
                <td>✅ FIXED</td>
              </tr>
            </tbody>
          </table>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Malicious traffic completely stopped</p>
          <ul class="compact-list">
            <li>✓ Traffic to C2 IP 185.220.102.8: BLOCKED (0 packets in last 15 minutes)</li>
            <li>✓ Workstation WS-FIN-087: QUARANTINED (moved to isolated VLAN)</li>
            <li>✓ Data exfiltration: STOPPED (no outbound encrypted traffic detected)</li>
          </ul>
        </div>

        <div class="verification-box">
          <p><strong>TEST 4: Network-Wide Threat Scan</strong></p>
          <p><strong>Query: Security Scanner - Full Network Sweep</strong></p>
          <ul class="compact-list">
            <li>🔍 Hosts scanned: 487 endpoints across all VLANs</li>
            <li>📊 Suspicious connections detected: <strong>0</strong> (target: 0)</li>
            <li>🛡️ Malware signatures found: 1 (WS-FIN-087 only - now isolated)</li>
            <li>⏱️ C2 communication attempts: 0 (all blocked at firewall)</li>
            <li>📉 Lateral movement indicators: NONE detected</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - No additional infected hosts found</p>
        </div>

        <div class="verification-box">
          <p><strong>TEST 5: Endpoint Forensics & Remediation</strong></p>
          <ul class="compact-list">
            <li>✅ Malware binary "invoice_2025.pdf.exe" removed from WS-FIN-087</li>
            <li>✅ Persistent registry keys deleted (HKCU\Software\Microsoft\Windows\CurrentVersion\Run)</li>
            <li>✅ Endpoint reimaged with clean OS image (Windows 10 22H2)</li>
            <li>✅ Latest endpoint protection signatures deployed (0 days old)</li>
            <li>✅ User password reset and security awareness training scheduled</li>
            <li>✅ No additional malware artifacts found on workstation</li>
          </ul>
          <p><strong>Result:</strong> ✅ <span class="success">PASS</span> - Workstation cleaned and secured</p>
        </div>

        <p><strong>📊 VERIFICATION SUMMARY:</strong></p>
        <div class="success-box">
          <p><strong>🎉 ALL VERIFICATION TESTS PASSED (5/5)</strong></p>
          <ul class="compact-list">
            <li>✅ C2 IP 185.220.102.8 blocked - zero malicious traffic detected</li>
            <li>✅ Workstation WS-FIN-087 quarantined and cleaned successfully</li>
            <li>✅ Data exfiltration stopped - breach contained</li>
            <li>✅ Network-wide scan clean - no additional infected hosts</li>
            <li>✅ Endpoint forensics complete - malware removed</li>
          </ul>
          <p><strong>⏱️ Time to Resolution: 18 minutes from ticket assignment to verified fix</strong></p>
          <p><strong>✅ Solution validated and stable. Proceeding to final report generation.</strong></p>
        </div>
      </div>
    </div>

    <!-- STEP 24: Final Report -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📄</span>
        <span class="agent-name">STEP 24: MRA - Final Resolution Report</span>
        <span class="status-badge">Complete</span>
      </div>
      <div class="agent-content">
        <div class="final-report-box">
          <h2>🎯 INCIDENT RESOLUTION REPORT</h2>

          <p><strong>Ticket Information:</strong></p>
          <ul class="compact-list">
            <li>🎫 Ticket ID: #67891</li>
            <li>📋 Title: Packet Loss Across All Remote Sites</li>
            <li>👤 Reported By: John Smith (john.smith@xyzcorp.com)</li>
            <li>⏱️ Opened: 2025-10-17 09:15:23 AM</li>
            <li>⏱️ Resolved: 2025-10-17 10:48:45 AM</li>
            <li>⌛ Resolution Time: <strong>1 hour 33 minutes</strong></li>
          </ul>

          <hr>

          <p><strong>Problem Summary:</strong></p>
          <p>Security monitoring system detected suspicious encrypted traffic from Finance workstation WS-FIN-087 to external IP 185.220.102.8. Large volumes of data (2.3 GB over 3 days) being exfiltrated to unknown destination. Investigation revealed active malware infection and C2 communication indicating data breach in progress.</p>

          <hr>

          <p><strong>Root Cause Analysis:</strong></p>
          <p class="highlight">Compromised workstation (WS-FIN-087) infected with malware via phishing email, actively exfiltrating sensitive financial data to C2 server at 185.220.102.8. Malware binary "invoice_2025.pdf.exe" executed 3 days ago, established persistence, and began data theft. Outdated endpoint protection (7 days old signatures) and lack of egress filtering enabled the breach.</p>

          <hr>

          <p><strong>Investigation Timeline:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Agent/System</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>09:15 AM</td>
                <td>MONITORING_SYSTEM</td>
                <td>Alert generated, ticket #SEC-9123 created</td>
              </tr>
              <tr>
                <td>09:16 AM</td>
                <td>IO_AGENT</td>
                <td>Engaged user, asked 5 clarifying questions</td>
              </tr>
              <tr>
                <td>09:22 AM</td>
                <td>MRA</td>
                <td>Deployed 6 specialized agents</td>
              </tr>
              <tr>
                <td>09:23 AM</td>
                <td>TOPOLOGY_AGENT</td>
                <td>Identified GigE 0/1/0 convergence point</td>
              </tr>
              <tr>
                <td>09:25 AM</td>
                <td>TRAFFIC_ANOMALY_AGENT</td>
                <td>Detected abnormal encrypted traffic to 185.220.102.8</td>
              </tr>
              <tr>
                <td>09:27 AM</td>
                <td>THREAT_INTELLIGENCE_AGENT</td>
                <td>Confirmed 185.220.102.8 is known C2 server</td>
              </tr>
              <tr>
                <td>09:29 AM</td>
                <td>LOG_CORRELATION_AGENT</td>
                <td>Traced phishing email to Oct 14, 2:34 PM</td>
              </tr>
              <tr>
                <td>09:31 AM</td>
                <td>FORENSICS_AGENT</td>
                <td>Found malware binary on WS-FIN-087</td>
              </tr>
              <tr>
                <td>09:35 AM</td>
                <td>ROOT_CAUSE_AGENT</td>
                <td>Correlated findings, confirmed root cause</td>
              </tr>
              <tr>
                <td>09:38 AM</td>
                <td>REMEDIATION_AGENT</td>
                <td>Created 3-phase remediation plan</td>
              </tr>
              <tr>
                <td>09:42 AM</td>
                <td>IO_AGENT</td>
                <td>Obtained user approval for deployment</td>
              </tr>
              <tr>
                <td>10:47 AM</td>
                <td>DEPLOYMENT_AGENT</td>
                <td>Isolated WS-FIN-087 + blocked C2 IP at firewall</td>
              </tr>
              <tr>
                <td>10:48 AM</td>
                <td>VERIFICATION_AGENT</td>
                <td>Verified fix, all tests passed</td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Resolution Actions Taken:</strong></p>
          <p><strong>IMMEDIATE CONTAINMENT (Completed - 2025-10-17 10:47 AM):</strong></p>
          <ul class="compact-list">
            <li>✅ Isolated workstation WS-FIN-087 to quarantine VLAN (no network access)</li>
            <li>✅ Blocked C2 IP 185.220.102.8 at perimeter firewall (deny all traffic)</li>
            <li>✅ Stopped data exfiltration - confirmed zero traffic to C2 server</li>
            <li>✅ Removed malware binary "invoice_2025.pdf.exe" from endpoint</li>
            <li>✅ Reimaged workstation WS-FIN-087 with clean OS</li>
          </ul>

          <p><strong>FORENSICS & REMEDIATION (Completed - 2025-10-17 11:15 AM):</strong></p>
          <ul class="compact-list">
            <li>✅ Full network scan - no additional infected hosts found (487 endpoints scanned)</li>
            <li>✅ Updated all endpoint protection signatures to latest version</li>
            <li>✅ Reset compromised user account password and enforced MFA</li>
          </ul>

          <p><strong>PREVENTION MEASURES (In Progress - Next 7 days):</strong></p>
          <ul class="compact-list">
            <li>📅 Deploy egress filtering rules blocking connections to known malicious IPs</li>
            <li>📅 Implement email attachment sandboxing to detect malicious files</li>
            <li>📅 Schedule mandatory security awareness training for all Finance users</li>
            <li>📅 Enable network segmentation isolating Finance VLAN from internet</li>
          </ul>

          <hr>

          <p><strong>Results and Metrics:</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Before</th>
                <th>After</th>
                <th>Improvement</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Packet Loss (avg)</td>
                <td><span class="error">6.6%</span></td>
                <td><span class="success">0.04%</span></td>
                <td><span class="success">99.4% ↓</span></td>
              </tr>
              <tr>
                <td>VoIP MOS Score</td>
                <td><span class="error">2.8</span></td>
                <td><span class="success">4.3</span></td>
                <td><span class="success">54% ↑</span></td>
              </tr>
              <tr>
                <td>Buffer Overruns</td>
                <td><span class="error">1,247/hour</span></td>
                <td><span class="success">0/hour</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
              <tr>
                <td>User Complaints</td>
                <td><span class="error">15+ calls</span></td>
                <td><span class="success">0 calls</span></td>
                <td><span class="success">100% ↓</span></td>
              </tr>
            </tbody>
          </table>

          <hr>

          <p><strong>Knowledge Sources Utilized:</strong></p>
          <ul class="compact-list">
            <li>📚 <strong>Knowledge Graph:</strong> 8 queries (topology, configs, protocols, interfaces)</li>
            <li>📚 <strong>RAG System:</strong> Retrieved 3 similar historical tickets + 3 troubleshooting documents</li>
            <li>🔧 <strong>MCP Servers:</strong> 15+ real-time queries (NETCONF, SNMP, CLI, NetFlow)</li>
            <li>🤖 <strong>AI Agents:</strong> 6 specialized agents deployed with inter-agent collaboration</li>
          </ul>

          <hr>

          <p><strong>Lessons Learned & Recommendations:</strong></p>
          <ul class="compact-list">
            <li>💡 Implement proactive bandwidth monitoring with alerting (>80% utilization threshold)</li>
            <li>💡 Establish change management process for backup schedules to avoid business hours</li>
            <li>💡 Deploy baseline QoS policies on all WAN interfaces as standard practice</li>
            <li>💡 Enable NetFlow collection permanently for traffic visibility</li>
            <li>💡 Document buffer sizing standards based on interface speed and traffic patterns</li>
          </ul>

          <hr>

          <p><strong>Documentation & Artifacts:</strong></p>
          <ul class="compact-list">
            <li>📄 Complete configuration backups (before/after) saved to repository</li>
            <li>📄 NETCONF deployment scripts archived for reuse</li>
            <li>📄 Agent investigation logs stored for knowledge base</li>
            <li>📄 Updated runbook: "WAN Packet Loss Investigation Procedure"</li>
          </ul>

          <hr>

          <p><strong>✅ TICKET STATUS: RESOLVED</strong></p>
          <p><strong>Resolution Category:</strong> Network Performance - WAN Optimization</p>
          <p><strong>Resolved By:</strong> AI Operations Center (MRA + 6 Specialized Agents)</p>
          <p><strong>Verified By:</strong> VERIFICATION_AGENT (all 5 tests passed)</p>
          <p><strong>User Satisfaction:</strong> ⭐⭐⭐⭐⭐ (Awaiting user feedback)</p>
        </div>
      </div>
    </div>

    <!-- STEP 25: User Notification -->
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📧</span>
        <span class="agent-name">STEP 25: IO_AGENT → USER - Final Notification</span>
        <span class="status-badge">Closed</span>
      </div>
      <div class="agent-content">
        <div class="notification-box">
          <p><strong>📧 Email Notification Sent:</strong></p>
          <hr>
          <p><strong>To:</strong> marcus.johnson@xyzcorp.com</p>
          <p><strong>CC:</strong> security-ops@xyzcorp.com, ciso@xyzcorp.com</p>
          <p><strong>Subject:</strong> ✅ RESOLVED: Ticket #SEC-9123 - Security Breach - Data Exfiltration Attempt Blocked</p>
          <p><strong>Sent:</strong> 2025-10-17 10:50:15 AM</p>
          <hr>
          <div class="email-body">
            <p>Hi Marcus,</p>
            <p><strong>CRITICAL SECURITY INCIDENT RESOLVED</strong> - Your ticket <strong>#SEC-9123</strong> has been <strong>successfully contained and resolved</strong>.</p>

            <p><strong>Issue Summary:</strong></p>
            <p>Security breach detected: Workstation WS-FIN-087 in Finance department compromised with malware, actively exfiltrating 2.3 GB of sensitive data to C2 server at 185.220.102.8 over 3 days. Malware infection originated from phishing email with malicious attachment.</p>

            <p><strong>Resolution:</strong></p>
            <p>Our AI Security Operations Center immediately isolated the compromised workstation, blocked the C2 IP at the firewall, and stopped all data exfiltration. Full forensics investigation completed and endpoint remediated. Containment achieved at 10:47 AM and verified by 10:48 AM.</p>

            <p><strong>Results:</strong></p>
            <ul>
              <li>✅ Data exfiltration STOPPED - Zero traffic to C2 server 185.220.102.8</li>
              <li>✅ Workstation WS-FIN-087 quarantined, cleaned, and reimaged</li>
              <li>✅ Network-wide scan completed - NO other infected hosts detected (487 endpoints scanned)</li>
              <li>✅ Malware binary removed - Threat fully neutralized</li>
            </ul>

            <p><strong>Next Steps (URGENT):</strong></p>
            <ul>
              <li>🚨 IMMEDIATE: Notify CISO and Legal for breach assessment</li>
              <li>📅 Today: Deploy egress filtering to block malicious IPs</li>
              <li>📄 Full forensic report attached (PDF) - contains IOCs and timeline</li>
              <li>📞 Security team will brief you on prevention measures and user training</li>
            </ul>

            <p><strong>Resolution Time:</strong> 18 minutes (from detection to containment) | Full remediation: 2 hours</p>

            <p>The breach has been fully contained and the threat neutralized. However, please review the forensic report and coordinate with Legal/CISO for any required breach notifications. If you have any questions or concerns, please contact the Security Operations Center immediately.</p>

            <p><strong>We'd appreciate your feedback!</strong> Please rate your experience: <a href="#">⭐⭐⭐⭐⭐</a></p>

            <p>Thank you for using AI Security Operations Center!</p>

            <p>Best regards,<br>
            <strong>AI Security Operations Center</strong><br>
            Powered by MRA + 6 Specialized Security AI Agents<br>
            📧 security-ops@xyzcorp.com | 📞 1-800-SEC-OPS (24/7 Incident Response)</p>
          </div>
          <hr>
          <p><strong>Attachments:</strong></p>
          <ul class="compact-list">
            <li>📎 Incident_Report_67891.pdf (3.2 MB)</li>
            <li>📎 Configuration_Changes_Log.txt (18 KB)</li>
            <li>📎 Verification_Test_Results.xlsx (245 KB)</li>
          </ul>
        </div>

        <div class="success-box">
          <p><strong>🎉 TICKET #SEC-9123 - CLOSED</strong></p>
          <ul class="compact-list">
            <li>✅ User notified via email</li>
            <li>✅ Final report delivered</li>
            <li>✅ Documentation archived</li>
            <li>✅ Knowledge base updated</li>
            <li>✅ Change tickets created for Phase 2 & 3</li>
            <li>⏱️ <strong>Total Resolution Time: 1 hour 33 minutes</strong></li>
            <li>🤖 <strong>AI Agents Efficiency: 18 minutes investigation + deployment</strong></li>
            <li>👥 <strong>Human Approval Time: 1 hour 15 minutes (waiting for user response)</strong></li>
          </ul>
        </div>

        <div class="completion-banner">
          <h2>✅ SCENARIO 1 COMPLETE - ALL 25 STEPS IMPLEMENTED</h2>
          <p><strong>Compliance Status: 100% v6 Standard</strong></p>
          <ul class="compact-list">
            <li>✅ Steps 1-5: Alert → IO_AGENT → Classification → MRA → KG</li>
            <li>✅ Steps 6-8: RAG → 3-Source Analysis → Agent Deployment</li>
            <li>✅ Steps 9-13: Specialized Agents with KG/RAG/MCP queries + Inter-Agent Collaboration</li>
            <li>✅ Steps 14-16: Feedback → MRA Correlation → Additional Tasks</li>
            <li>✅ Steps 17-19: RCA Statement → REMEDIATION_AGENT → Solutions</li>
            <li>✅ Steps 20-23: IO_AGENT Permission → DEPLOYMENT_AGENT → VERIFICATION_AGENT</li>
            <li>✅ Steps 24-25: Final Report → User Notification → Ticket Closed</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .info-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
  }
  
  .deployment-box {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
    padding: 15px;
    margin: 15px 0;
  }
  
  .verification-box {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    margin: 15px 0;
  }
  
  .final-report-box {
    background: #fff3e0;
    border: 2px solid #ff9800;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .notification-box {
    background: #f3e5f5;
    border-left: 4px solid #9c27b0;
    padding: 15px;
    margin: 15px 0;
  }
  
  .email-body {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }
  
  .completion-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: 30px 0;
    border-radius: 10px;
    text-align: center;
  }
  
  .completion-banner h2 {
    margin-top: 0;
    font-size: 24px;
  }
  
  .code-block {
    background: #263238;
    color: #aed581;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.5;
  }
  
  .user-interaction-box {
    background: #fff9e6;
    border: 2px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
  }
  
  .recommendation-phase {
    background: white;
    padding: 15px;
    margin: 10px 0;
    border-radius: 4px;
    border-left: 3px solid #2196f3;
  }

  .rca-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    padding: 20px;
    margin: 15px 0;
    border-radius: 8px;
  }

  .collaboration-exchange {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    margin: 15px 0;
    border-left: 3px solid #00ff88;
    border-radius: 4px;
  }

  .collab-from {
    font-weight: bold;
    color: #00aaff;
    margin-bottom: 5px;
  }

  .collab-message {
    font-style: italic;
    margin-left: 20px;
    color: #ccc;
  }

  .collab-response {
    margin-left: 20px;
    margin-top: 10px;
    color: #00ff88;
  }

  .symptom-tag {
    background: #ff9800;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .contributing-tag {
    background: #ffc107;
    color: black;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }

  .root-cause-tag {
    background: #f44336;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: bold;
  }
</style>`
                ]
            },
            'router-upgrade': {
                title: 'AI-Driven Pre-Upgrade Resilience Assessment',
                icon: '🔄',
                description: 'Comprehensive resilience check for router upgrade with risk mitigation',
                initialQuery: 'Assess network resilience before router upgrade',
                responses: [
                    `<div class="root-container">
  <h3>Agentic AI - Pre-Upgrade Resilience Assessment</h3>
  <p><strong>Comprehensive Resilience Check for Router DC-CORE-01 Upgrade (Change Request #CR-89234)</strong></p>
  
  <div class="agent-workflow">
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Change Request #CR-89234 received. Planned upgrade for router DC-CORE-01 from IOS-XR 7.3.2 to 7.5.1 scheduled for maintenance window. Requesting comprehensive resilience assessment before approval.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Transferring to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Initiating comprehensive pre-upgrade resilience assessment. Need to verify redundancy and failover capabilities across all layers to ensure zero service impact during upgrade.</p>
        <div class="multi-transfer">
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting hardware redundancy check from <strong>HARDWARE_RESILIENCE_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting IGP analysis from <strong>IGP_RESILIENCE_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting BGP analysis from <strong>BGP_RESILIENCE_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting service impact analysis from <strong>SERVICE_IMPACT_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting traffic simulation from <strong>TRAFFIC_SIMULATION_AGENT</strong>
          </div>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">HARDWARE_RESILIENCE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Hardware redundancy assessment for DC-CORE-01:</p>
        <ul class="compact-list">
          <li>Route Processors: <span class="success">Dual RP (Active/Standby)</span></li>
          <li>Power Supplies: <span class="success">4 PSUs (N+2 redundancy)</span></li>
          <li>Fan Trays: <span class="success">All operational (N+1 redundancy)</span></li>
          <li>Line Cards: <span class="success">No single point of failure</span></li>
          <li>Fabric Modules: <span class="success">5+1 redundancy active</span></li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-good">Hardware Fully Redundant</span>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🌐</span>
        <span class="agent-name">IGP_RESILIENCE_AGENT</span>
        <span class="status-tag status-warning">Partial Issue</span>
      </div>
      <div class="agent-content">
        <p>IGP (ISIS) resilience analysis:</p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Neighbor</th>
                <th>State</th>
                <th>Metric</th>
                <th>Backup Path</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>DC-CORE-02</td>
                <td><span class="status-tag status-success">UP</span></td>
                <td>10</td>
                <td>Yes (via DC-AGG-01)</td>
              </tr>
              <tr>
                <td>DC-AGG-01</td>
                <td><span class="status-tag status-success">UP</span></td>
                <td>10</td>
                <td>Yes (via DC-CORE-02)</td>
              </tr>
              <tr>
                <td>DC-AGG-02</td>
                <td><span class="status-tag status-success">UP</span></td>
                <td>10</td>
                <td><span class="warning">No - Single path only</span></td>
              </tr>
            </tbody>
          </table>
        </div>
        <p><span class="warning">Warning:</span> DC-AGG-02 has only single ISIS adjacency to DC-CORE-01. If DC-CORE-01 goes down, 12 prefixes will be unreachable for 3-5 seconds until IGP reconverges.</p>
        <div class="finding-summary">
          <span class="finding-tag finding-issue">Single Point of Failure Detected</span>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔀</span>
        <span class="agent-name">BGP_RESILIENCE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>BGP resilience analysis complete:</p>
        <ul class="compact-list">
          <li>iBGP Sessions: <span class="success">All have redundant paths via route reflectors</span></li>
          <li>eBGP Sessions: <span class="success">BFD enabled, sub-second failover</span></li>
          <li>Route Reflector Clients: <span class="success">Connected to both RR1 and RR2</span></li>
          <li>Graceful Restart: <span class="success">Enabled on all sessions</span></li>
          <li>NSR (Non-Stop Routing): <span class="success">Active and synchronized</span></li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-good">BGP Fully Resilient</span>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">📡</span>
        <span class="agent-name">SERVICE_IMPACT_AGENT</span>
        <span class="status-tag status-warning">Medium Risk</span>
      </div>
      <div class="agent-content">
        <p>Service impact analysis for DC-CORE-01 upgrade:</p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Service</th>
                <th>Traffic Volume</th>
                <th>Redundancy</th>
                <th>Impact Risk</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>L3VPN - Banking</td>
                <td>45 Gbps</td>
                <td>ECMP via DC-CORE-02</td>
                <td><span class="status-tag status-success">Low</span></td>
              </tr>
              <tr>
                <td>Internet Gateway</td>
                <td>78 Gbps</td>
                <td>Active/Standby with DC-CORE-02</td>
                <td><span class="status-tag status-success">Low</span></td>
              </tr>
              <tr>
                <td>MPLS Core</td>
                <td>120 Gbps</td>
                <td>50% traffic will reroute</td>
                <td><span class="status-tag status-warning">Medium</span></td>
              </tr>
              <tr>
                <td>Voice Services</td>
                <td>8 Gbps</td>
                <td>Single path for 2000 calls</td>
                <td><span class="status-tag status-critical">High</span></td>
              </tr>
            </tbody>
          </table>
        </div>
        <p><span class="warning">Critical Finding:</span> Voice services for Site-B (2000 active calls) currently have only single path through DC-CORE-01.</p>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Voice Service Risk Identified</span>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔄</span>
        <span class="agent-name">TRAFFIC_SIMULATION_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Failover simulation results (DC-CORE-01 shutdown scenario):</p>
        <ul class="metric-list">
          <li>Convergence Time: <span class="normal-value">1.2 seconds</span> average</li>
          <li>Packet Loss: <span class="problem-value">0.8%</span> for 1.2 seconds</li>
          <li>BGP Prefixes: <span class="success">All maintained via alternate paths</span></li>
          <li>Link Utilization on DC-CORE-02: <span class="warning">Will increase to 85%</span></li>
          <li>QoS Policy Impact: <span class="success">Adequate buffers available</span></li>
        </ul>
        <div class="chart-container">
          <div class="chart-bar" style="height: 50px; left: 10px; background-color: #3498db;"></div>
          <div class="chart-label" style="left: 10px;">Current</div>
          <div class="chart-bar" style="height: 85px; left: 80px; background-color: #f39c12;"></div>
          <div class="chart-label" style="left: 80px;">During Upgrade</div>
          <div class="chart-bar" style="height: 50px; left: 150px; background-color: #3498db;"></div>
          <div class="chart-label" style="left: 150px;">Post-Upgrade</div>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Consolidating all resilience findings and generating risk assessment:</p>
        <ul class="finding-list">
          <li>✅ Hardware redundancy: Fully resilient</li>
          <li>⚠️ IGP redundancy: Single point of failure for DC-AGG-02</li>
          <li>✅ BGP redundancy: Fully resilient with graceful restart</li>
          <li>❌ Service impact: High risk for voice services</li>
          <li>⚠️ Traffic capacity: DC-CORE-02 will reach 85% utilization</li>
        </ul>
        <div class="agent-transfer">
          <span class="arrow">→</span> Requesting mitigation plan from <strong>MITIGATION_PLANNING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🛡️</span>
        <span class="agent-name">MITIGATION_PLANNING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Pre-upgrade mitigation plan to address identified risks:</p>
        <ol class="action-list">
          <li><strong>IGP Risk Mitigation:</strong> Configure temporary ISIS adjacency between DC-AGG-02 and DC-CORE-02 (15 minutes)</li>
          <li><strong>Voice Service Protection:</strong> Pre-stage voice traffic failover to DC-CORE-02 before upgrade (10 minutes)</li>
          <li><strong>Capacity Management:</strong> Implement temporary QoS policy to protect critical traffic during high utilization (5 minutes)</li>
          <li><strong>Monitoring Enhancement:</strong> Set up real-time dashboards for all affected services (10 minutes)</li>
        </ol>
        <p>Total preparation time: <strong>40 minutes</strong></p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Resilience assessment complete. Generating final recommendation.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Transferring to <strong>IO_AGENT</strong> for change approval recommendation
        </div>
      </div>
    </div>
  </div>
  
  <h4 class="section-header">Executive Summary - Upgrade Resilience Assessment</h4>
  
  <div class="rca-container">
    <h4>Overall Risk Assessment <span class="confidence-tag">Medium Risk</span></h4>
    <p>The planned upgrade of DC-CORE-01 has been assessed across multiple resilience dimensions. While the infrastructure has good redundancy overall, <strong>three critical risks</strong> have been identified that require mitigation before proceeding:</p>
    <ol>
      <li>Single IGP path dependency for DC-AGG-02</li>
      <li>Voice services with no alternate path (affecting 2000 active calls)</li>
      <li>DC-CORE-02 utilization will reach 85% during failover</li>
    </ol>
  </div>
  
  <div class="risk-matrix">
    <h4>Risk Matrix Summary</h4>
    <div class="matrix-grid">
      <div class="matrix-cell low-risk">
        <h5>Low Risk</h5>
        <ul>
          <li>Hardware Components</li>
          <li>BGP Routing</li>
          <li>L3VPN Services</li>
          <li>Internet Gateway</li>
        </ul>
      </div>
      <div class="matrix-cell medium-risk">
        <h5>Medium Risk</h5>
        <ul>
          <li>IGP Topology</li>
          <li>MPLS Core Traffic</li>
          <li>Link Utilization</li>
        </ul>
      </div>
      <div class="matrix-cell high-risk">
        <h5>High Risk</h5>
        <ul>
          <li>Voice Services</li>
          <li>DC-AGG-02 Connectivity</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="remediation-container">
    <h4>Recommended Action Plan</h4>
    
    <div class="remediation-phase">
      <h5><span class="phase-tag">PRE-UPGRADE</span> Required Mitigations (40 minutes)</h5>
      <ol class="action-list">
        <li>Configure ISIS adjacency: DC-AGG-02 ↔ DC-CORE-02
          <code>interface TenGigE0/0/0/8
  isis circuit-type level-2-only
  isis metric 20</code></li>
        <li>Pre-failover voice traffic to DC-CORE-02:
          <code>router bgp 65001
  neighbor 10.1.1.2
   route-policy VOICE-PREFER-CORE2 in</code></li>
        <li>Apply temporary QoS boost on DC-CORE-02:
          <code>policy-map TEMP-UPGRADE-QOS
  class VOICE
    priority level 1
    police rate 10 gbps</code></li>
        <li>Enable enhanced monitoring on affected services</li>
      </ol>
    </div>
    
    <div class="remediation-phase">
      <h5><span class="phase-tag">UPGRADE WINDOW</span> Execution Steps</h5>
      <ol class="action-list">
        <li>Verify all mitigations are active</li>
        <li>Initiate graceful router shutdown:
          <code>router isis 1
  shutdown</code></li>
        <li>Proceed with IOS-XR upgrade to 7.5.1</li>
        <li>Expected downtime: 12-15 minutes</li>
      </ol>
    </div>
    
    <div class="remediation-phase">
      <h5><span class="phase-tag">POST-UPGRADE</span> Validation & Rollback</h5>
      <ol class="action-list">
        <li>Verify all protocols re-established</li>
        <li>Confirm service restoration</li>
        <li>Revert voice traffic to ECMP</li>
        <li>Remove temporary configurations</li>
        <li>Monitor for 24 hours</li>
      </ol>
    </div>
  </div>
  
  <div class="approval-recommendation">
    <h4>Change Approval Recommendation</h4>
    <div class="recommendation-box conditional">
      <span class="recommendation-icon">⚠️</span>
      <div class="recommendation-content">
        <h5>CONDITIONAL APPROVAL</h5>
        <p>The upgrade can proceed <strong>ONLY AFTER</strong> implementing the required risk mitigations. Without these mitigations, there is high probability of voice service disruption affecting 2000 users.</p>
        <div class="action-buttons">
          <button class="action-button approve">Approve with Conditions</button>
          <button class="action-button schedule">Reschedule for Mitigation</button>
          <button class="action-button more-info">Request More Analysis</button>
        </div>
      </div>
    </div>
  </div>
  
  <style>
    .risk-matrix {
      margin: 20px 0;
    }
    
    .matrix-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 15px;
    }
    
    .matrix-cell {
      padding: 15px;
      border-radius: 8px;
      min-height: 120px;
    }
    
    .matrix-cell h5 {
      margin-top: 0;
      margin-bottom: 10px;
      font-weight: bold;
    }
    
    .matrix-cell ul {
      margin: 0;
      padding-left: 20px;
      font-size: 0.9em;
    }
    
    .low-risk {
      background-color: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
    }
    
    .medium-risk {
      background-color: #fff3cd;
      border: 1px solid #ffeeba;
      color: #856404;
    }
    
    .high-risk {
      background-color: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
    }
    
    .approval-recommendation {
      margin-top: 30px;
    }
    
    .recommendation-box {
      display: flex;
      align-items: flex-start;
      padding: 20px;
      border-radius: 8px;
      gap: 15px;
    }
    
    .recommendation-box.conditional {
      background-color: #fff3cd;
      border: 2px solid #ff8f00;
    }
    
    .recommendation-icon {
      font-size: 2em;
      flex-shrink: 0;
    }
    
    .recommendation-content {
      flex-grow: 1;
    }
    
    .recommendation-content h5 {
      margin-top: 0;
      color: #ff8f00;
      font-size: 1.2em;
    }
    
    .finding-list {
      list-style: none;
      padding-left: 0;
    }
    
    .finding-list li {
      margin-bottom: 8px;
      padding-left: 25px;
      position: relative;
    }
    
    .finding-list li::before {
      position: absolute;
      left: 0;
    }
  </style>
</div>`
                ]
            },
            'slow-response': {
                title: 'AI-Driven Intermittent Slow Response Investigation',
                icon: '🛤️',
                description: 'Investigating application slowness using SR-PCE for dynamic path optimization',
                initialQuery: 'Investigate intermittent slow response times',
                responses: [
                    `<div class="root-container">
  <h3>Agentic AI - Intermittent Slow Response Investigation</h3>
  <p><strong>Investigating Intermittent Application Slowness for Global Finance Corp (Ticket #78234)</strong></p>
  
  <div class="agent-workflow">
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Ticket #78234 received from Global Finance Corp. Users experiencing intermittent slow response times (15-20 seconds) for critical trading application. Issue affects London to Singapore traffic flow.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Transferring to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Analyzing intermittent performance issues. Need to investigate end-to-end path quality and identify problematic segments.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Requesting path analysis from <strong>TOPOLOGY_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🗺️</span>
        <span class="agent-name">TOPOLOGY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Current path analysis for London to Singapore traffic:</p>
        <ul class="compact-list">
          <li>London Edge: LON-PE-01 (10.100.1.1)</li>
          <li>Transit: FRA-P-01 → DXB-P-01 → MUM-P-01</li>
          <li>Singapore Edge: SIN-PE-01 (10.200.1.1)</li>
          <li>Total Hops: 8</li>
          <li>Current Path Latency: 165ms (baseline: 142ms)</li>
        </ul>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Initiating comprehensive link quality analysis across the path:</p>
        <div class="multi-transfer">
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting link quality metrics from <strong>LINK_QUALITY_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting performance telemetry from <strong>TELEMETRY_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting interface statistics from <strong>INTERFACE_STATS_AGENT</strong>
          </div>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">📊</span>
        <span class="agent-name">LINK_QUALITY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Link quality analysis complete. <strong>Critical finding on DXB-P-01 to MUM-P-01 link</strong>:</p>
        <ul class="metric-list">
          <li>CRC Errors: <span class="problem-value">847 errors/min</span> (threshold: <10)</li>
          <li>Input Errors: <span class="problem-value">1,234</span> in last hour</li>
          <li>Packet Loss: <span class="problem-value">3.2%</span> average, spikes to <span class="problem-value">12%</span></li>
          <li>Link Utilization: <span class="normal-value">45%</span> (not congested)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">Physical Layer Degradation Detected</span>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📈</span>
        <span class="agent-name">TELEMETRY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Performance telemetry confirms intermittent degradation:</p>
        <ul class="compact-list">
          <li>TCP retransmissions increased by 450% during slowdowns</li>
          <li>Application response time correlates with CRC error spikes</li>
          <li>Issue frequency: Every 10-15 minutes lasting 2-3 minutes</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-issue">Performance Impact Confirmed</span>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔍</span>
        <span class="agent-name">INTERFACE_STATS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Interface statistics for DXB-P-01 to MUM-P-01 link:</p>
        <ul class="compact-list">
          <li>Optical power: <span class="problem-value">-28.5 dBm</span> (threshold: -27 dBm)</li>
          <li>SNR degrading over time</li>
          <li>Likely cause: Fiber degradation or dirty optical connectors</li>
        </ul>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Root cause identified: Physical layer issues on DXB-MUM link causing packet loss and retransmissions. Immediate mitigation needed while scheduling maintenance.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Invoking <strong>SR_PCE_AGENT</strong> for dynamic path optimization
        </div>
      </div>
    </div>
    
    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🛤️</span>
        <span class="agent-name">SR_PCE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>SR-PCE (Segment Routing Path Computation Element) analysis initiated:</p>
        <ul class="compact-list">
          <li>Current path constraint violations: Packet loss exceeds SLA threshold</li>
          <li>Computing alternative paths with SR-TE policies...</li>
          <li>Found 3 viable alternative paths avoiding DXB-MUM link</li>
        </ul>
        
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Path Option</th>
                <th>Route</th>
                <th>Latency</th>
                <th>Available BW</th>
                <th>Quality Score</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Option 1</td>
                <td>LON → FRA → IST → KHI → SIN</td>
                <td>148ms</td>
                <td>8.2 Gbps</td>
                <td><span class="status-tag status-success">98/100</span></td>
              </tr>
              <tr>
                <td>Option 2</td>
                <td>LON → AMS → FRA → CAI → BOM → SIN</td>
                <td>155ms</td>
                <td>6.5 Gbps</td>
                <td><span class="status-tag status-info">92/100</span></td>
              </tr>
              <tr>
                <td>Option 3</td>
                <td>LON → MAD → CAI → BLR → SIN</td>
                <td>162ms</td>
                <td>5.8 Gbps</td>
                <td><span class="status-tag status-warning">85/100</span></td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <p><strong>Recommendation:</strong> Deploy SR-TE Policy with Option 1 path</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Requesting deployment from <strong>AUTOMATION_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🤖</span>
        <span class="agent-name">AUTOMATION_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Deploying SR-TE policy for traffic steering:</p>
        <div class="code-block">
          <code>
segment-routing traffic-eng
 policy FINANCE_CORP_OPTIMAL
  color 100 end-point 10.200.1.1
  candidate-paths
   preference 100
    explicit segment-list LON_IST_KHI_SIN
     weight 10
  !
 !
!
          </code>
        </div>
        <ul class="compact-list">
          <li>SR-TE tunnel established successfully</li>
          <li>Traffic redirected via IST-KHI path</li>
          <li>BGP color community applied for application steering</li>
        </ul>
        <div class="agent-transfer">
          <span class="arrow">→</span> Deployment complete, requesting validation from <strong>VALIDATION_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">✅</span>
        <span class="agent-name">VALIDATION_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Post-deployment validation results:</p>
        <ul class="metric-list">
          <li>Application Response Time: <span class="success">1.2 seconds</span> (was 15-20s)</li>
          <li>Packet Loss: <span class="success">0.001%</span> (was 3.2%)</li>
          <li>TCP Retransmissions: <span class="success">Reduced by 99.2%</span></li>
          <li>End-to-end Latency: <span class="success">148ms</span> (optimal)</li>
        </ul>
        <div class="finding-summary">
          <span class="finding-tag finding-good">Performance Restored to Normal</span>
        </div>
        <div class="agent-transfer">
          <span class="arrow">→</span> Reporting back to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>
    
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Issue successfully mitigated. Preparing final report and maintenance recommendations.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Transferring to <strong>IO_AGENT</strong> for customer communication
        </div>
      </div>
    </div>
  </div>
  
  <h4 class="section-header">Final Analysis Report</h4>
  
  <div class="rca-container">
    <h4>Root Cause Analysis <span class="confidence-tag">99% Confidence</span></h4>
    <p>The intermittent slow response times experienced by Global Finance Corp were caused by <strong>physical layer degradation</strong> on the DXB-P-01 to MUM-P-01 link. CRC errors and packet loss on this segment were causing significant TCP retransmissions, resulting in application response times of 15-20 seconds.</p>
    
    <p>The issue was immediately mitigated by implementing an SR-TE (Segment Routing Traffic Engineering) policy that steered traffic through an alternative path (LON → FRA → IST → KHI → SIN), completely avoiding the degraded link.</p>
  </div>
  
  <div class="remediation-container">
    <h4>Actions Taken & Recommendations</h4>
    
    <div class="remediation-phase">
      <h5><span class="phase-tag">COMPLETED</span> Immediate Mitigation</h5>
      <ol class="action-list">
        <li>✓ Deployed SR-TE policy to redirect traffic via optimal alternate path</li>
        <li>✓ Applied BGP color community for automatic application steering</li>
        <li>✓ Validated performance restoration (response time: 1.2s)</li>
        <li>✓ Configured monitoring alerts for the temporary path</li>
      </ol>
    </div>
    
    <div class="remediation-phase">
      <h5><span class="phase-tag">SCHEDULED</span> Maintenance Window (48 hours)</h5>
      <ol class="action-list">
        <li>Clean optical connectors on DXB-P-01 and MUM-P-01 interfaces</li>
        <li>Test optical power levels and replace transceivers if needed</li>
        <li>If issue persists, escalate for fiber cable testing/replacement</li>
        <li>Verify link quality before reverting traffic to primary path</li>
      </ol>
    </div>
    
    <div class="remediation-phase">
      <h5><span class="phase-tag">LONG-TERM</span> Network Resilience</h5>
      <ol class="action-list">
        <li>Implement permanent SR-PCE policies for automatic failover</li>
        <li>Deploy proactive link quality monitoring with ML-based predictions</li>
        <li>Establish diverse physical paths for critical customer traffic</li>
        <li>Create runbook for automated response to link degradation events</li>
      </ol>
    </div>
  </div>
  
  <div class="performance-chart">
    <h4>Performance Metrics - Before vs After SR-TE Deployment</h4>
    <div class="chart-comparison">
      <div class="metric-box">
        <span class="metric-label">Response Time</span>
        <div class="metric-values">
          <span class="before-value">15-20s</span>
          <span class="arrow-right">→</span>
          <span class="after-value">1.2s</span>
        </div>
      </div>
      <div class="metric-box">
        <span class="metric-label">Packet Loss</span>
        <div class="metric-values">
          <span class="before-value">3.2%</span>
          <span class="arrow-right">→</span>
          <span class="after-value">0.001%</span>
        </div>
      </div>
      <div class="metric-box">
        <span class="metric-label">Path Latency</span>
        <div class="metric-values">
          <span class="before-value">165ms</span>
          <span class="arrow-right">→</span>
          <span class="after-value">148ms</span>
        </div>
      </div>
    </div>
  </div>
  
  <style>
    .code-block {
      background-color: #2d2d2d;
      color: #f8f8f2;
      padding: 15px;
      border-radius: 5px;
      margin: 10px 0;
      overflow-x: auto;
    }
    
    .code-block code {
      color: #f8f8f2;
      background: transparent;
      font-family: 'Courier New', monospace;
      white-space: pre;
    }
    
    .performance-chart {
      margin-top: 20px;
      padding: 15px;
      background-color: #f0f4f8;
      border-radius: 8px;
    }
    
    .chart-comparison {
      display: flex;
      justify-content: space-around;
      margin-top: 15px;
    }
    
    .metric-box {
      text-align: center;
      padding: 15px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .metric-label {
      display: block;
      font-weight: bold;
      color: #34495e;
      margin-bottom: 10px;
    }
    
    .metric-values {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .before-value {
      color: #e74c3c;
      font-size: 1.2em;
      font-weight: bold;
    }
    
    .after-value {
      color: #27ae60;
      font-size: 1.2em;
      font-weight: bold;
    }
    
    .arrow-right {
      color: #7f8c8d;
      font-weight: bold;
    }
  </style>
</div>`
                ]
            },
            'config-audit': {
                title: 'AI-Driven Config Audit & Resiliency Assessment',
                icon: '🔍',
                description: 'Comprehensive audit of network configurations with resiliency assessment',
                initialQuery: 'Perform configuration audit and resiliency assessment',
                responses: [
                    `<div class="root-container">
  <h3>Agentic AI - Configuration Audit & Resiliency Assessment</h3>
  <p><strong>Comprehensive Network Audit for Enterprise Corp (Audit Request #AU-5521)</strong></p>

  <div class="agent-workflow">
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Audit request received for complete network infrastructure: 45 routers, 120 switches, 18 firewalls across 12 data centers. Quarterly compliance and resiliency assessment required.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Transferring to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Initiating multi-phase audit strategy. Need to assess configuration compliance, security posture, and resiliency across all network devices.</p>
        <div class="multi-transfer">
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting config collection from <strong>CONFIG_AUDIT_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting topology mapping from <strong>TOPOLOGY_AGENT</strong>
          </div>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📋</span>
        <span class="agent-name">CONFIG_AUDIT_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Configuration scanning complete across all 183 devices:</p>
        <div class="detection-grid">
          <div class="detection-card">
            <div class="detection-title">Devices Scanned</div>
            <div class="detection-value">183</div>
            <div class="detection-details">100% coverage</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">Config Deviations</div>
            <div class="detection-value">47</div>
            <div class="detection-details">25.7% non-compliant</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">Critical Issues</div>
            <div class="detection-value">12</div>
            <div class="detection-details">Immediate action required</div>
          </div>
        </div>
        <p><strong>Critical Findings:</strong></p>
        <ul class="compact-list">
          <li>23 devices running outdated IOS versions with known CVEs</li>
          <li>8 routers with weak SNMP community strings (public/private)</li>
          <li>15 switches without proper logging configuration</li>
          <li>5 firewalls with overly permissive any-any rules</li>
        </ul>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🛡️</span>
        <span class="agent-name">COMPLIANCE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Compliance assessment against industry standards (CIS, NIST, PCI-DSS):</p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Standard</th>
                <th>Score</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CIS Cisco Benchmark</td>
                <td>72%</td>
                <td><span class="status-tag status-warning">Needs Improvement</span></td>
              </tr>
              <tr>
                <td>NIST 800-53</td>
                <td>68%</td>
                <td><span class="status-tag status-warning">Non-Compliant</span></td>
              </tr>
              <tr>
                <td>PCI-DSS v4.0</td>
                <td>81%</td>
                <td><span class="status-tag status-success">Compliant</span></td>
              </tr>
            </tbody>
          </table>
        </div>
        <p><strong>Key Compliance Gaps:</strong></p>
        <ul class="compact-list">
          <li>Missing AAA configuration on 34 devices</li>
          <li>Insufficient password complexity policies</li>
          <li>Incomplete audit logging configuration</li>
        </ul>
      </div>
    </div>

    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">RESILIENCY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Resiliency Assessment Results:</strong></p>
        <div class="change-details">
          <p><strong>High Availability Status:</strong></p>
          <ul class="metric-list">
            <li>Core Layer: <span class="success">Excellent</span> - Full HSRP/VRRP redundancy</li>
            <li>Distribution Layer: <span class="warning">Fair</span> - 3 sites with single uplinks</li>
            <li>Access Layer: <span class="problem-value">Poor</span> - 12 single points of failure</li>
            <li>WAN Links: <span class="success">Good</span> - Dual-homed except 2 sites</li>
          </ul>
          <p><strong>Failover Testing:</strong></p>
          <ul class="compact-list">
            <li>HSRP preemption delay misconfigured on 8 pairs</li>
            <li>STP root bridge priorities need optimization</li>
            <li>4 distribution switches lack port-channel config</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">12 Single Points of Failure</span>
          <span class="finding-tag finding-warning">8 HA Misconfigurations</span>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">RECOMMENDATIONS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Comprehensive remediation roadmap generated:</p>
        <div class="remediation-phase">
          <h5><span class="phase-tag">IMMEDIATE</span> (24 hours)</h5>
          <ul class="compact-list">
            <li>Update SNMP community strings on 8 critical routers</li>
            <li>Enable logging on 15 switches (syslog server: 10.1.1.100)</li>
            <li>Review and restrict firewall any-any rules</li>
          </ul>
        </div>
        <div class="remediation-phase">
          <h5><span class="phase-tag">SHORT-TERM</span> (1 week)</h5>
          <ul class="compact-list">
            <li>Deploy IOS updates to 23 devices with known CVEs</li>
            <li>Implement AAA (TACACS+) on non-compliant devices</li>
            <li>Configure port-channels on 4 distribution switches</li>
            <li>Correct HSRP preemption delay timers</li>
          </ul>
        </div>
        <div class="remediation-phase">
          <h5><span class="phase-tag">LONG-TERM</span> (1 month)</h5>
          <ul class="compact-list">
            <li>Address 12 single points of failure with redundancy</li>
            <li>Implement dual uplinks for 3 distribution sites</li>
            <li>Standardize configurations using NetDevOps templates</li>
            <li>Achieve 95%+ CIS compliance score</li>
          </ul>
        </div>
        <p><strong>Estimated Impact:</strong></p>
        <ul class="compact-list">
          <li>Network Availability: 99.5% → 99.95%</li>
          <li>MTTR: 45 minutes → 15 minutes</li>
          <li>Compliance Score: 72% → 95%</li>
          <li>Security Posture: Medium → High</li>
        </ul>
      </div>
    </div>
  </div>

  <style>
    .detection-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .detection-card {
      background: rgba(0, 170, 255, 0.1);
      border: 1px solid rgba(0, 170, 255, 0.3);
      border-radius: 10px;
      padding: 15px;
      text-align: center;
    }

    .detection-title {
      font-size: 12px;
      color: #888;
      margin-bottom: 8px;
    }

    .detection-value {
      font-size: 28px;
      font-weight: bold;
      color: #00aaff;
      margin-bottom: 5px;
    }

    .detection-details {
      font-size: 11px;
      color: #666;
    }
  </style>
</div>`
                ]
            },
            'recommendations-mitigation': {
                title: 'AI-Driven Recommendations & Mitigation',
                icon: '💡',
                description: 'Proactive recommendations for performance, security, reliability, cost, and resiliency',
                initialQuery: 'Generate comprehensive network recommendations',
                responses: [
                    `<div class="root-container">
  <h3>Agentic AI - Comprehensive Network Recommendations & Mitigation</h3>
  <p><strong>Proactive Network Assessment for TechCorp Global (Assessment ID: REC-9847)</strong></p>

  <div class="agent-workflow">
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Proactive assessment request received. Analyzing network for optimization opportunities across performance, security, reliability, cost, and resiliency domains.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Transferring to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Orchestrating multi-domain analysis. Deploying specialized agents for comprehensive assessment:</p>
        <div class="multi-transfer">
          <div class="agent-transfer">
            <span class="arrow">→</span> Dispatching <strong>PERFORMANCE_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Dispatching <strong>SECURITY_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Dispatching <strong>RELIABILITY_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Dispatching <strong>COST_OPTIMIZATION_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Dispatching <strong>RESILIENCY_AGENT</strong>
          </div>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚡</span>
        <span class="agent-name">PERFORMANCE_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Performance Analysis Complete:</strong></p>
        <div class="detection-grid">
          <div class="detection-card">
            <div class="detection-title">QoS Issues</div>
            <div class="detection-value">7</div>
            <div class="detection-details">Misconfigurations found</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">Bandwidth Hotspots</div>
            <div class="detection-value">4</div>
            <div class="detection-details">Links >85% util</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">Latency Spikes</div>
            <div class="detection-value">3</div>
            <div class="detection-details">Paths affected</div>
          </div>
        </div>
        <p><strong>Key Findings:</strong></p>
        <ul class="compact-list">
          <li><strong>QoS:</strong> Voice traffic not prioritized on 7 WAN links - causing jitter</li>
          <li><strong>Bandwidth:</strong> 4 inter-DC links consistently above 85% utilization</li>
          <li><strong>Traffic Engineering:</strong> Suboptimal ECMP distribution detected</li>
          <li><strong>Recommendation:</strong> Implement hierarchical QoS policies + upgrade 4 links to 10G</li>
        </ul>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔒</span>
        <span class="agent-name">SECURITY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Security Posture Assessment:</strong></p>
        <ul class="metric-list">
          <li>ACL Coverage: <span class="warning">73%</span> of interfaces (target: 95%)</li>
          <li>Encryption: <span class="problem-value">21 unencrypted management sessions</span> detected</li>
          <li>Authentication: <span class="warning">34 devices</span> without TACACS+ AAA</li>
          <li>Certificates: <span class="problem-value">18 expired SSL certificates</span> on management interfaces</li>
        </ul>
        <p><strong>Security Recommendations:</strong></p>
        <div class="remediation-phase">
          <h5><span class="phase-tag">HIGH PRIORITY</span></h5>
          <ul class="compact-list">
            <li>Deploy ACLs on 27% uncovered interfaces (ingress filtering)</li>
            <li>Disable Telnet, enforce SSH v2 only (21 devices)</li>
            <li>Renew 18 expired SSL certificates for HTTPS management</li>
            <li>Implement control plane policing (CoPP) on edge routers</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔧</span>
        <span class="agent-name">RELIABILITY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Reliability & Redundancy Analysis:</strong></p>
        <ul class="compact-list">
          <li><strong>STP Issues:</strong> Root bridge suboptimal on 3 VLANs - may cause traffic tromboning</li>
          <li><strong>Link Aggregation:</strong> 6 critical uplinks not bundled (no EtherChannel)</li>
          <li><strong>Failover Testing:</strong> 40% of HSRP/VRRP pairs never tested in last 6 months</li>
          <li><strong>BFD:</strong> Not enabled on any BGP/OSPF neighbors (slow convergence)</li>
        </ul>
        <p><strong>Mitigation Plan:</strong></p>
        <ul class="compact-list">
          <li>Reconfigure STP root bridge priorities for optimal traffic flow</li>
          <li>Implement LACP on 6 critical uplinks for bandwidth + redundancy</li>
          <li>Enable BFD on all IGP/EGP neighbors (sub-second convergence)</li>
          <li>Schedule quarterly failover testing for all HA pairs</li>
        </ul>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💰</span>
        <span class="agent-name">COST_OPTIMIZATION_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Cost Optimization Opportunities:</strong></p>
        <div class="detection-grid">
          <div class="detection-card">
            <div class="detection-title">Annual Savings</div>
            <div class="detection-value">$147K</div>
            <div class="detection-details">Potential reduction</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">Underutilized Links</div>
            <div class="detection-value">8</div>
            <div class="detection-details">< 15% average util</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">License Waste</div>
            <div class="detection-value">23</div>
            <div class="detection-details">Unused licenses</div>
          </div>
        </div>
        <p><strong>Cost Reduction Recommendations:</strong></p>
        <ul class="compact-list">
          <li><strong>Right-sizing:</strong> Downgrade 8 underutilized circuits (< 15% util) - Save $89K/year</li>
          <li><strong>License Optimization:</strong> Reclaim 23 unused feature licenses - Save $31K/year</li>
          <li><strong>Traffic Consolidation:</strong> Merge 4 low-traffic MPLS circuits onto SD-WAN - Save $27K/year</li>
          <li><strong>ROI:</strong> Estimated 18-month payback on recommendations</li>
        </ul>
      </div>
    </div>

    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">🛡️</span>
        <span class="agent-name">RESILIENCY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Resiliency & Disaster Recovery Assessment:</strong></p>
        <div class="change-details">
          <ul class="metric-list">
            <li>Backup Strategy: <span class="success">Daily config backups</span> to central repository</li>
            <li>DR Readiness: <span class="warning">Manual failover process</span> - needs automation</li>
            <li>Multi-Site Redundancy: <span class="problem-value">2 sites with single DC dependency</span></li>
            <li>Recovery Testing: <span class="problem-value">Last DR test: 14 months ago</span></li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-critical">DR Automation Required</span>
          <span class="finding-tag finding-warning">Quarterly DR Testing Overdue</span>
        </div>
        <p><strong>Resiliency Improvements:</strong></p>
        <ul class="compact-list">
          <li>Automate DC failover procedures using orchestration (Ansible/NSO)</li>
          <li>Establish dual-DC connectivity for 2 dependent sites</li>
          <li>Implement quarterly DR drills with documented runbooks</li>
          <li>Target RTO: 30 minutes, RPO: 5 minutes</li>
        </ul>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">RECOMMENDATIONS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Prioritized Action Plan:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Priority</th>
                <th>Domain</th>
                <th>Action</th>
                <th>Impact</th>
                <th>Timeline</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="status-tag status-critical">P0</span></td>
                <td>Security</td>
                <td>Disable Telnet, renew SSL certs</td>
                <td>High</td>
                <td>1 week</td>
              </tr>
              <tr>
                <td><span class="status-tag status-critical">P1</span></td>
                <td>Performance</td>
                <td>Deploy QoS on 7 WAN links</td>
                <td>High</td>
                <td>2 weeks</td>
              </tr>
              <tr>
                <td><span class="status-tag status-warning">P2</span></td>
                <td>Cost</td>
                <td>Rightsize 8 underutilized circuits</td>
                <td>$89K/year</td>
                <td>1 month</td>
              </tr>
              <tr>
                <td><span class="status-tag status-warning">P2</span></td>
                <td>Reliability</td>
                <td>Enable BFD on IGP/BGP neighbors</td>
                <td>Medium</td>
                <td>2 weeks</td>
              </tr>
              <tr>
                <td><span class="status-tag status-success">P3</span></td>
                <td>Resiliency</td>
                <td>Automate DR failover procedures</td>
                <td>Medium</td>
                <td>6 weeks</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p><strong>Expected Outcomes:</strong></p>
        <ul class="compact-list">
          <li>Network Performance: +35% improvement in QoS-sensitive traffic</li>
          <li>Security Posture: Medium → High (95% ACL coverage)</li>
          <li>Reliability: 99.5% → 99.9% uptime (BFD + redundancy)</li>
          <li>Cost Savings: $147K annually (11% OpEx reduction)</li>
          <li>Resiliency: RTO reduced from 4 hours to 30 minutes</li>
        </ul>
      </div>
    </div>
  </div>
</div>`
                ]
            },
            'scheduled-migration': {
                title: 'AI-Driven Scheduled Migration & Change Management',
                icon: '📅',
                description: 'Automated scheduling for network migrations and maintenance windows',
                initialQuery: 'Plan and schedule network migration',
                responses: [
                    `<div class="root-container">
  <h3>Agentic AI - Scheduled Migration & Change Management</h3>
  <p><strong>MPLS to SD-WAN Migration for RetailCorp (Project ID: MIG-7723)</strong></p>

  <div class="agent-workflow">
    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">⚙️</span>
        <span class="agent-name">IO_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Migration request received: Transition 67 retail sites from MPLS to Cisco SD-WAN. Requirements: Zero customer impact, phased rollout, automated rollback capability.</p>
        <div class="agent-transfer">
          <span class="arrow">→</span> Transferring to <strong>MASTER_REASONING_AGENT</strong>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🧠</span>
        <span class="agent-name">MASTER_REASONING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p>Analyzing migration complexity and dependencies. Developing phased migration strategy with automated scheduling and rollback procedures.</p>
        <div class="multi-transfer">
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting topology analysis from <strong>TOPOLOGY_AGENT</strong>
          </div>
          <div class="agent-transfer">
            <span class="arrow">→</span> Requesting impact assessment from <strong>IMPACT_ANALYSIS_AGENT</strong>
          </div>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🗺️</span>
        <span class="agent-name">TOPOLOGY_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Current vs. Target Architecture Mapping:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Component</th>
                <th>Current (MPLS)</th>
                <th>Target (SD-WAN)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Sites</td>
                <td>67 retail locations</td>
                <td>67 sites with dual-transport</td>
              </tr>
              <tr>
                <td>Connectivity</td>
                <td>Single MPLS (10-50 Mbps)</td>
                <td>MPLS + Internet (100-200 Mbps)</td>
              </tr>
              <tr>
                <td>Devices</td>
                <td>Cisco ISR 4321</td>
                <td>Cisco Catalyst 8000v / vEdge</td>
              </tr>
              <tr>
                <td>Controllers</td>
                <td>Centralized NOC</td>
                <td>vManage + vSmart + vBond</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p><strong>Site Classification:</strong></p>
        <ul class="compact-list">
          <li>Tier 1 (High Traffic): 12 flagship stores - migrate during maintenance windows</li>
          <li>Tier 2 (Medium Traffic): 38 standard stores - weekend migrations</li>
          <li>Tier 3 (Low Traffic): 17 small outlets - business hours migration acceptable</li>
        </ul>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">📊</span>
        <span class="agent-name">IMPACT_ANALYSIS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Migration Impact Assessment:</strong></p>
        <div class="detection-grid">
          <div class="detection-card">
            <div class="detection-title">Critical Services</div>
            <div class="detection-value">4</div>
            <div class="detection-details">POS, Inventory, VoIP, Security</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">Traffic Volume</div>
            <div class="detection-value">2.1 TB</div>
            <div class="detection-details">Daily aggregate</div>
          </div>
          <div class="detection-card">
            <div class="detection-title">Dependencies</div>
            <div class="detection-value">23</div>
            <div class="detection-details">App/Service deps</div>
          </div>
        </div>
        <p><strong>Risk Analysis:</strong></p>
        <ul class="metric-list">
          <li>POS Systems: <span class="problem-value">Zero downtime requirement</span> - dual-transport mandatory</li>
          <li>VoIP Traffic: <span class="warning">Latency sensitive</span> - QoS policies must be pre-configured</li>
          <li>Video Surveillance: <span class="normal-value">Can tolerate brief interruption</span> - buffering acceptable</li>
          <li>Guest WiFi: <span class="success">Non-critical</span> - flexible migration timing</li>
        </ul>
        <div class="agent-transfer">
          <span class="arrow">→</span> Forwarding to <strong>SCHEDULING_AGENT</strong>
        </div>
      </div>
    </div>

    <div class="agent-step completed highlight-step">
      <div class="agent-header">
        <span class="agent-icon">📅</span>
        <span class="agent-name">SCHEDULING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Optimal Maintenance Window Analysis:</strong></p>
        <div class="change-details">
          <p>Based on historical traffic patterns and business operations:</p>
          <ul class="compact-list">
            <li><strong>Tier 1 Sites:</strong> Sunday 2:00 AM - 6:00 AM (lowest POS transaction volume)</li>
            <li><strong>Tier 2 Sites:</strong> Saturday 11:00 PM - 4:00 AM (acceptable for standard stores)</li>
            <li><strong>Tier 3 Sites:</strong> Weekday 10:00 AM - 2:00 PM (low-impact hours for small outlets)</li>
          </ul>
        </div>
        <p><strong>Phased Migration Schedule (8 weeks):</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Week</th>
                <th>Phase</th>
                <th>Sites</th>
                <th>Window</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Week 1</td>
                <td>Pilot</td>
                <td>3 Tier 3 sites</td>
                <td>Weekday daytime</td>
              </tr>
              <tr>
                <td>Week 2-3</td>
                <td>Phase 1</td>
                <td>14 Tier 3 sites</td>
                <td>Weekday daytime</td>
              </tr>
              <tr>
                <td>Week 4-6</td>
                <td>Phase 2</td>
                <td>38 Tier 2 sites</td>
                <td>Saturday nights</td>
              </tr>
              <tr>
                <td>Week 7-8</td>
                <td>Phase 3</td>
                <td>12 Tier 1 sites</td>
                <td>Sunday early AM</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">67 Sites in 8 Weeks</span>
          <span class="finding-tag finding-success">Zero Business Impact</span>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔄</span>
        <span class="agent-name">MIGRATION_PLANNING_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Per-Site Migration Playbook:</strong></p>
        <div class="remediation-phase">
          <h5><span class="phase-tag">PRE-MIGRATION</span> (T-7 days)</h5>
          <ul class="compact-list">
            <li>Provision Internet circuit and validate connectivity</li>
            <li>Deploy SD-WAN edge device alongside existing router</li>
            <li>Configure vManage templates and attach device</li>
            <li>Pre-stage routing, QoS, and security policies</li>
            <li>Validate dual-transport health check</li>
          </ul>
        </div>
        <div class="remediation-phase">
          <h5><span class="phase-tag">MIGRATION</span> (T-Day, 4-hour window)</h5>
          <ul class="compact-list">
            <li><strong>T+0:</strong> Take backup of existing router config</li>
            <li><strong>T+30min:</strong> Activate SD-WAN edge and verify control plane</li>
            <li><strong>T+60min:</strong> Shift 10% traffic to SD-WAN (canary testing)</li>
            <li><strong>T+90min:</strong> If successful, gradually increase to 50%</li>
            <li><strong>T+120min:</strong> Full cutover to SD-WAN with MPLS as backup</li>
            <li><strong>T+180min:</strong> Comprehensive service validation</li>
            <li><strong>T+210min:</strong> Monitor for 30 minutes, confirm success</li>
          </ul>
        </div>
        <div class="remediation-phase">
          <h5><span class="phase-tag">POST-MIGRATION</span> (T+24 hours)</h5>
          <ul class="compact-list">
            <li>24-hour monitoring period with automated health checks</li>
            <li>Retain MPLS circuit for 30 days as fallback</li>
            <li>Weekly performance reports vs. MPLS baseline</li>
            <li>Decommission MPLS after 30-day burn-in period</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">🔙</span>
        <span class="agent-name">ROLLBACK_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Automated Rollback Procedures:</strong></p>
        <div class="change-details">
          <p><strong>Rollback Triggers (automated):</strong></p>
          <ul class="compact-list">
            <li>POS transaction failure rate > 1%</li>
            <li>VoIP jitter exceeds 30ms or packet loss > 1%</li>
            <li>Control plane connectivity to vManage lost for > 2 minutes</li>
            <li>Data plane connectivity failure on both transports</li>
          </ul>
          <p><strong>Rollback Actions (5-minute procedure):</strong></p>
          <ul class="compact-list">
            <li>Automated failback to MPLS primary path</li>
            <li>Restore original router configuration from backup</li>
            <li>Notify NOC team with detailed diagnostics</li>
            <li>Generate incident report with root cause analysis</li>
          </ul>
        </div>
        <div class="finding-summary">
          <span class="finding-tag finding-success">5-Minute RTO</span>
          <span class="finding-tag finding-success">Zero Data Loss</span>
        </div>
      </div>
    </div>

    <div class="agent-step completed">
      <div class="agent-header">
        <span class="agent-icon">💡</span>
        <span class="agent-name">RECOMMENDATIONS_AGENT</span>
        <span class="status-tag status-success">Complete</span>
      </div>
      <div class="agent-content">
        <p><strong>Migration Success Criteria & KPIs:</strong></p>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Baseline (MPLS)</th>
                <th>Target (SD-WAN)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Average Latency</td>
                <td>45ms</td>
                <td>< 50ms</td>
              </tr>
              <tr>
                <td>Packet Loss</td>
                <td>0.2%</td>
                <td>< 0.5%</td>
              </tr>
              <tr>
                <td>Jitter</td>
                <td>8ms</td>
                <td>< 15ms</td>
              </tr>
              <tr>
                <td>Availability</td>
                <td>99.5%</td>
                <td>> 99.9%</td>
              </tr>
              <tr>
                <td>Bandwidth</td>
                <td>10-50 Mbps</td>
                <td>100-200 Mbps</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p><strong>Project Timeline & Milestones:</strong></p>
        <ul class="compact-list">
          <li><strong>Week 0:</strong> Finalize design, approve budget ($847K total)</li>
          <li><strong>Week 1:</strong> Pilot migration (3 sites) + validation</li>
          <li><strong>Week 2-6:</strong> Phase 1-2 rollout (52 sites)</li>
          <li><strong>Week 7-8:</strong> Phase 3 critical sites (12 sites)</li>
          <li><strong>Week 9-12:</strong> Burn-in period and MPLS decommission</li>
        </ul>
        <p><strong>Expected Benefits:</strong></p>
        <ul class="compact-list">
          <li>Bandwidth increase: 3-4x capacity with dual-transport</li>
          <li>Cost savings: $215K/year (25% WAN cost reduction)</li>
          <li>Availability improvement: 99.5% → 99.9% uptime</li>
          <li>Application performance: 40% faster with intelligent path selection</li>
          <li>Operational agility: Zero-touch provisioning for new sites</li>
        </ul>
      </div>
    </div>
  </div>
</div>`
                ]
            }
        };
        
        // DOM elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const chatScreen = document.getElementById('chat-screen');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendButton = document.getElementById('send-button');
        const chatTitle = document.getElementById('chat-title-text');
        const chatDescription = document.getElementById('chat-description');
        const chatIcon = document.getElementById('chat-icon');
        const scenarioItems = document.querySelectorAll('.scenario-item');
        
        // Event listeners for scenario selection
        scenarioItems.forEach(item => {
            item.addEventListener('click', () => {
                const scenario = item.dataset.scenario;
                if (scenarios[scenario]) {
                    startScenario(scenarios[scenario]);
                    
                    // Update active state
                    scenarioItems.forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                }
            });
        });
        
        // Start a scenario
        function startScenario(scenarioData) {
            // Update UI
            welcomeScreen.style.display = 'none';
            chatScreen.style.display = 'flex';
            
            // Update header
            chatTitle.textContent = scenarioData.title;
            chatDescription.textContent = scenarioData.description;
            chatIcon.textContent = scenarioData.icon;
            
            // Clear previous messages
            chatMessages.innerHTML = '';
            
            // Add user message
            addMessage(scenarioData.initialQuery, true);
            
            // Show typing indicator and then stream response
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                streamResponse(scenarioData.responses[0]);
            }, 2000);
        }
        
        // Add message to chat
        function addMessage(content, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'assistant-message'}`;
            
            if (isUser) {
                messageDiv.textContent = content;
            } else {
                messageDiv.innerHTML = content;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Show typing indicator
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = '<span></span><span></span><span></span>';
            
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Hide typing indicator
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        // Stream response with typing effect
        function streamResponse(response) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message assistant-message';
            chatMessages.appendChild(messageDiv);
            
            // Stream the HTML content
            streamHTMLContent(messageDiv, response);
        }
        
        // Send message function
        function sendMessage(message) {
            if (!message.trim()) return;
            
            addMessage(message, true);
            chatInput.value = '';
            
            // Show typing indicator
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                addMessage("I understand you'd like to know more about this scenario. This demo shows the AI agents working together to analyze network issues. Each scenario demonstrates different aspects of network operations troubleshooting and optimization.");
            }, 2000);
        }
        
        // Stream HTML content with typing effect
        function streamHTMLContent(element, html) {
            // Split HTML into chunks for streaming
            const htmlChunks = splitHTMLToChunks(html, 5);
            let currentHTML = '';
            let chunkIndex = 0;
            
            // Helper function for random delays
            function getRandomDelay(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            
            // Function to process the next chunk with variable timing
            function processNextChunk() {
                if (chunkIndex < htmlChunks.length) {
                    currentHTML += htmlChunks[chunkIndex];
                    element.innerHTML = currentHTML;
                    chunkIndex++;
                    
                    // Auto-scroll to bottom
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    
                    // Decide on the delay for the next chunk
                    let nextDelay;
                    
                    // Every 10 chunks, pause for a bit longer to simulate thinking
                    if (chunkIndex % 10 === 0) {
                        nextDelay = getRandomDelay(300, 800);
                    } 
                    // Every 5 chunks, pause briefly
                    else if (chunkIndex % 5 === 0) {
                        nextDelay = getRandomDelay(150, 350);
                    }
                    // Regular typing speed
                    else {
                        nextDelay = getRandomDelay(70, 120);
                    }
                    
                    setTimeout(processNextChunk, nextDelay);
                }
            }
            
            // Start the processing
            processNextChunk();
        }
        
        // Function to split HTML into chunks while preserving tags
        function splitHTMLToChunks(html, chunkSize) {
            const result = [];
            let currentChunk = '';
            let inTag = false;
            
            for (let i = 0; i < html.length; i++) {
                const char = html[i];
                
                // Always add the current character to the chunk
                currentChunk += char;
                
                // If we're inside a tag, don't count it toward chunk size
                if (char === '<') {
                    inTag = true;
                } else if (char === '>') {
                    inTag = false;
                }
                
                // If we've reached chunk size and we're not inside a tag, add chunk to result
                if (currentChunk.length >= chunkSize && !inTag) {
                    result.push(currentChunk);
                    currentChunk = '';
                }
            }
            
            // Add the remaining chunk if there is any
            if (currentChunk) {
                result.push(currentChunk);
            }
            
            return result;
        }
        
        // Event listeners
        sendButton.addEventListener('click', () => {
            sendMessage(chatInput.value);
        });
        
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage(chatInput.value);
            }
        });
    </script>
</body>
</html>